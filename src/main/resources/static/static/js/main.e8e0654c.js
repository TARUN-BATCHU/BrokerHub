/*! For license information please see main.e8e0654c.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var n,a={},d=null,c=null;for(n in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:d,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=d,t.jsxs=d},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function m(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||g}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||g}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var v=b.prototype=new y;v.constructor=b,x(v,m.prototype),v.isPureReactComponent=!0;var j=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:r,type:e,key:i,ref:s,props:a,_owner:w.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var B=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+N(l,0):a,j(i)?(o="",null!=e&&(o=e.replace(B,"$&/")+"/"),T(i,t,o,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(B,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var d=0;d<e.length;d++){var c=a+N(s=e[d],d);l+=T(s,t,o,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),d=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,c=a+N(s,d++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,r){if(null==e)return e;var n=[],o=0;return T(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},I={transition:null},z={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:I,ReactCurrentOwner:w};function E(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,r){R(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=E,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=x({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)k.call(t,d)&&!S.hasOwnProperty(d)&&(o[d]=void 0===t[d]&&void 0!==l?l[d]:t[d])}var d=arguments.length-2;if(1===d)o.children=n;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=E,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,r){return _.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,r){return _.current.useReducer(e,t,r)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<a(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,i=o>>>1;n<i;){var s=2*(n+1)-1,l=e[s],d=s+1,c=e[d];if(0>a(l,r))d<o&&0>a(c,l)?(e[n]=c,e[d]=r,n=d):(e[n]=l,e[s]=r,n=s);else{if(!(d<o&&0>a(c,r)))break e;e[n]=c,e[d]=r,n=d}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var d=[],c=[],u=1,p=null,h=3,g=!1,x=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,r(d,t)}t=n(c)}}function j(e){if(f=!1,v(e),!x)if(null!==n(d))x=!0,I(k);else{var t=n(c);null!==t&&z(j,t.startTime-e)}}function k(e,r){x=!1,f&&(f=!1,y(P),P=-1),g=!0;var a=h;try{for(v(r),p=n(d);null!==p&&(!(p.expirationTime>r)||e&&!T());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?p.callback=s:p===n(d)&&o(d),v(r)}else o(d);p=n(d)}if(null!==p)var l=!0;else{var u=n(c);null!==u&&z(j,u.startTime-r),l=!1}return l}finally{p=null,h=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,C=null,P=-1,B=5,N=-1;function T(){return!(t.unstable_now()-N<B)}function R(){if(null!==C){var e=t.unstable_now();N=e;var r=!0;try{r=C(!0,e)}finally{r?w():(S=!1,C=null)}}else S=!1}if("function"===typeof b)w=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,_=A.port2;A.port1.onmessage=R,w=function(){_.postMessage(null)}}else w=function(){m(R,0)};function I(e){C=e,S||(S=!0,w())}function z(e,r){P=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,r(c,e),null===n(d)&&e===n(c)&&(f?(y(P),P=-1):f=!0,z(j,a-i))):(e.sortIndex=s,r(d,e),x||g||(x=!0,I(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var n=r(43),o=r(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function x(e,t,r,n,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new x(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new x(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new x(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new x(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new x(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var o=f.hasOwnProperty(t)?f[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!u.call(g,e)||!u.call(h,e)&&(p.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);f[t]=new x(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),B=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var M,D=Object.assign;function L(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var O=!1;function F(e,t){if(!e||O)return"";O=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&"string"===typeof d.stack){for(var o=d.stack.split("\n"),a=n.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{O=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function W(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function K(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ae(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(he).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,we=null,Se=null;function Ce(e){if(e=vo(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Pe(e){we?Se?Se.push(e):Se=[e]:we=e}function Be(){if(we){var e=we,t=Se;if(Se=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Re=!1;function Ae(e,t,r){if(Re)return e(t,r);Re=!0;try{return Ne(e,t,r)}finally{Re=!1,(null!==we||null!==Se)&&(Te(),Be())}}function _e(e,t){var r=e.stateNode;if(null===r)return null;var n=ko(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ie=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){Ie=!1}function Ee(e,t,r,n,o,a,i,s,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(c){this.onError(c)}}var Me=!1,De=null,Le=!1,Oe=null,Fe={onError:function(e){Me=!0,De=e}};function We(e,t,r,n,o,a,i,s,l){Me=!1,De=null,Ee.apply(Fe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Ve(o),e;if(i===n)return Ve(o),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var dt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~o;0!==s?n=ut(s):0!==(a&=i)&&(n=ut(a))}else 0!==(i=r&~o)?n=ut(i):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-it(t)),n|=e[r],t&=~o;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,kt,wt,St,Ct,Pt=!1,Bt=[],Nt=null,Tt=null,Rt=null,At=new Map,_t=new Map,It=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Et(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Mt(e,t,r,n,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=vo(t))&&kt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void Ct(e.priority,(function(){wt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vo(r))&&kt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Ot(e,t,r){Lt(e)&&r.delete(t)}function Ft(){Pt=!1,null!==Nt&&Lt(Nt)&&(Nt=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Rt&&Lt(Rt)&&(Rt=null),At.forEach(Ot),_t.forEach(Ot)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Wt(t,e)}if(0<Bt.length){Wt(Bt[0],e);for(var r=1;r<Bt.length;r++){var n=Bt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&Wt(Nt,e),null!==Tt&&Wt(Tt,e),null!==Rt&&Wt(Rt,e),At.forEach(t),_t.forEach(t),r=0;r<It.length;r++)(n=It[r]).blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&null===(r=It[0]).blockedOn;)Dt(r),null===r.blockedOn&&It.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Yt(e,t,r,n){var o=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Qt(e,t,r,n)}finally{bt=o,Ht.transition=a}}function qt(e,t,r,n){var o=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Qt(e,t,r,n)}finally{bt=o,Ht.transition=a}}function Qt(e,t,r,n){if(Vt){var o=Gt(e,t,r,n);if(null===o)Vn(e,t,n,$t,r),Et(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Nt=Mt(Nt,e,t,r,n,o),!0;case"dragenter":return Tt=Mt(Tt,e,t,r,n,o),!0;case"mouseover":return Rt=Mt(Rt,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,_t.set(a,Mt(_t.get(a)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(Et(e,n),4&t&&-1<zt.indexOf(e)){for(;null!==o;){var a=vo(o);if(null!==a&&jt(a),null===(a=Gt(e,t,r,n))&&Vn(e,t,n,$t,r),a===o)break;o=a}null!==o&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var $t=null;function Gt(e,t,r,n){if($t=null,null!==(e=bo(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=or(lr),cr=D({},lr,{view:0,detail:0}),ur=or(cr),pr=D({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,ir=e.screenY-sr.screenY):ir=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=or(pr),gr=or(D({},pr,{dataTransfer:0})),xr=or(D({},cr,{relatedTarget:0})),fr=or(D({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=D({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=or(mr),br=or(D({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Sr(){return wr}var Cr=D({},cr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=or(Cr),Br=or(D({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=or(D({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Tr=or(D({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=D({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=or(Rr),_r=[9,13,27,32],Ir=c&&"CompositionEvent"in window,zr=null;c&&"documentMode"in document&&(zr=document.documentMode);var Er=c&&"TextEvent"in window&&!zr,Mr=c&&(!Ir||zr&&8<zr&&11>=zr),Dr=String.fromCharCode(32),Lr=!1;function Or(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Vr(e,t,r,n){Pe(n),0<(t=qn(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yr=null,qr=null;function Qr(e){Ln(e,0)}function $r(e){if(Q(jo(e)))return e}function Gr(e,t){if("change"===e)return t}var Kr=!1;if(c){var Xr;if(c){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Xr=Jr}else Xr=!1;Kr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Yr&&(Yr.detachEvent("onpropertychange",tn),qr=Yr=null)}function tn(e){if("value"===e.propertyName&&$r(qr)){var t=[];Vr(t,qr,e,je(e)),Ae(Qr,t)}}function rn(e,t,r){"focusin"===e?(en(),qr=r,(Yr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(qr)}function on(e,t){if("click"===e)return $r(t)}function an(e,t){if("input"===e||"change"===e)return $r(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!u.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=dn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=cn(r,a);var i=cn(r,n);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=c&&"documentMode"in document&&11>=document.documentMode,fn=null,mn=null,yn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==fn||fn!==$(n)||("selectionStart"in(n=fn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=qn(mn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},wn={},Sn={};function Cn(e){if(wn[e])return wn[e];if(!kn[e])return e;var t,r=kn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return wn[e]=r[t];return e}c&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var Pn=Cn("animationend"),Bn=Cn("animationiteration"),Nn=Cn("animationstart"),Tn=Cn("transitionend"),Rn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Rn.set(e,t),l(t,[e])}for(var In=0;In<An.length;In++){var zn=An[In];_n(zn.toLowerCase(),"on"+(zn[0].toUpperCase()+zn.slice(1)))}_n(Pn,"onAnimationEnd"),_n(Bn,"onAnimationIteration"),_n(Nn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Tn,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,s,l,d){if(We.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=De;Me=!1,De=null,Le||(Le=!0,Oe=c)}}(n,t,void 0,e),e.currentTarget=null}function Ln(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,d=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Dn(o,s,d),a=l}else for(i=0;i<n.length;i++){if(l=(s=n[i]).instance,d=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Dn(o,s,d),a=l}}}if(Le)throw e=Oe,Le=!1,Oe=null,e}function On(e,t){var r=t[fo];void 0===r&&(r=t[fo]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Wn]){e[Wn]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mn.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,Fn("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Kt(t)){case 1:var o=Yt;break;case 4:o=qt;break;default:o=Qt}r=o.bind(null,t,r,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,o){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=bo(s)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}s=s.parentNode}}n=n.return}Ae((function(){var n=a,o=je(r),i=[];e:{var s=Rn.get(e);if(void 0!==s){var l=dr,d=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Pr;break;case"focusin":d="focus",l=xr;break;case"focusout":d="blur",l=xr;break;case"beforeblur":case"afterblur":l=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case Pn:case Bn:case Nn:l=fr;break;case Tn:l=Tr;break;case"scroll":l=ur;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Br}var c=0!==(4&t),u=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var h,g=n;null!==g;){var x=(h=g).stateNode;if(5===h.tag&&null!==x&&(h=x,null!==p&&(null!=(x=_e(g,p))&&c.push(Yn(g,x,h)))),u)break;g=g.return}0<c.length&&(s=new l(s,d,null,r,o),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ve||!(d=r.relatedTarget||r.fromElement)||!bo(d)&&!d[xo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(d=(d=r.relatedTarget||r.toElement)?bo(d):null)&&(d!==(u=Ue(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(l=null,d=n),l!==d)){if(c=hr,x="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(c=Br,x="onPointerLeave",p="onPointerEnter",g="pointer"),u=null==l?s:jo(l),h=null==d?s:jo(d),(s=new c(x,g+"leave",l,r,o)).target=u,s.relatedTarget=h,x=null,bo(o)===n&&((c=new c(p,g+"enter",d,r,o)).target=h,c.relatedTarget=u,x=c),u=x,l&&d)e:{for(p=d,g=0,h=c=l;h;h=Qn(h))g++;for(h=0,x=p;x;x=Qn(x))h++;for(;0<g-h;)c=Qn(c),g--;for(;0<h-g;)p=Qn(p),h--;for(;g--;){if(c===p||null!==p&&c===p.alternate)break e;c=Qn(c),p=Qn(p)}c=null}else c=null;null!==l&&$n(i,s,l,c,!1),null!==d&&null!==u&&$n(i,u,d,c,!0)}if("select"===(l=(s=n?jo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var f=Gr;else if(Hr(s))if(Kr)f=an;else{f=nn;var m=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(f=on);switch(f&&(f=f(e,n))?Vr(i,f,r,o):(m&&m(e,s,n),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=n?jo(n):window,e){case"focusin":(Hr(m)||"true"===m.contentEditable)&&(fn=m,mn=n,yn=null);break;case"focusout":yn=mn=fn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(i,r,o);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":vn(i,r,o)}var y;if(Ir)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?Or(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Mr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(y=er()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,Wr=!0)),0<(m=qn(n,b)).length&&(b=new br(b,e,null,r,o),i.push({event:b,listeners:m}),y?b.data=y:null!==(y=Fr(r))&&(b.data=y))),(y=Er?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Lr=!0,Dr);case"textInput":return(e=t.data)===Dr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Ir&&Or(e,t)?(e=er(),Zt=Jt=Xt=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),i.push({event:o,listeners:n}),o.data=y))}Ln(i,t)}))}function Yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=_e(e,r))&&n.unshift(Yn(e,a,o)),null!=(a=_e(e,t))&&n.push(Yn(e,a,o))),e=e.return}return n}function Qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $n(e,t,r,n,o){for(var a=t._reactName,i=[];null!==r&&r!==n;){var s=r,l=s.alternate,d=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==d&&(s=d,o?null!=(l=_e(r,a))&&i.unshift(Yn(r,l,s)):o||null!=(l=_e(r,a))&&i.push(Yn(r,l,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Gn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Kn,"")}function Jn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(a(425))}function Zn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,go="__reactProps$"+po,xo="__reactContainer$"+po,fo="__reactEvents$"+po,mo="__reactListeners$"+po,yo="__reactHandles$"+po;function bo(e){var t=e[ho];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xo]||r[ho]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=uo(e);null!==e;){if(r=e[ho])return r;e=uo(e)}return t}r=(e=r).parentNode}return null}function vo(e){return!(e=e[ho]||e[xo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ko(e){return e[go]||null}var wo=[],So=-1;function Co(e){return{current:e}}function Po(e){0>So||(e.current=wo[So],wo[So]=null,So--)}function Bo(e,t){So++,wo[So]=e.current,e.current=t}var No={},To=Co(No),Ro=Co(!1),Ao=No;function _o(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Io(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zo(){Po(Ro),Po(To)}function Eo(e,t,r){if(To.current!==No)throw Error(a(168));Bo(To,t),Bo(Ro,r)}function Mo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,H(e)||"Unknown",o));return D({},r,n)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Ao=To.current,Bo(To,e),Bo(Ro,Ro.current),!0}function Lo(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Mo(e,t,Ao),n.__reactInternalMemoizedMergedChildContext=e,Po(Ro),Po(To),Bo(To,e)):Po(Ro),Bo(Ro,r)}var Oo=null,Fo=!1,Wo=!1;function Uo(e){null===Oo?Oo=[e]:Oo.push(e)}function Ho(){if(!Wo&&null!==Oo){Wo=!0;var e=0,t=bt;try{var r=Oo;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Oo=null,Fo=!1}catch(o){throw null!==Oo&&(Oo=Oo.slice(e+1)),Qe(Ze,Ho),o}finally{bt=t,Wo=!1}}return null}var Vo=[],Yo=0,qo=null,Qo=0,$o=[],Go=0,Ko=null,Xo=1,Jo="";function Zo(e,t){Vo[Yo++]=Qo,Vo[Yo++]=qo,qo=e,Qo=t}function ea(e,t,r){$o[Go++]=Xo,$o[Go++]=Jo,$o[Go++]=Ko,Ko=e;var n=Xo;e=Jo;var o=32-it(n)-1;n&=~(1<<o),r+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,Xo=1<<32-it(t)+o|r<<o|n,Jo=a+e}else Xo=1<<a|r<<o|n,Jo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ra(e){for(;e===qo;)qo=Vo[--Yo],Vo[Yo]=null,Qo=Vo[--Yo],Vo[Yo]=null;for(;e===Ko;)Ko=$o[--Go],$o[Go]=null,Jo=$o[--Go],$o[Go]=null,Xo=$o[--Go],$o[Go]=null}var na=null,oa=null,aa=!1,ia=null;function sa(e,t){var r=Ad(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function la(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ko?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ad(18,null,null,0)).stateNode=t,r.return=e,e.child=r,na=e,oa=null,!0);default:return!1}}function da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=oa;if(t){var r=t;if(!la(e,t)){if(da(e))throw Error(a(418));t=co(r.nextSibling);var n=na;t&&la(e,t)?sa(n,r):(e.flags=-4097&e.flags|2,aa=!1,na=e)}}else{if(da(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function pa(e){if(e!==na)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(da(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=co(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oa=null}}else oa=na?co(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=oa;e;)e=co(e.nextSibling)}function ga(){oa=na=null,aa=!1}function xa(e){null===ia?ia=[e]:ia.push(e)}var fa=v.ReactCurrentBatchConfig;function ma(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function va(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Id(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Dd(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function d(e,t,r,n){var a=r.type;return a===w?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&ba(a)===t.type)?((n=o(t,r.props)).ref=ma(e,t,r),n.return=e,n):((n=zd(r.type,r.key,r.props,null,e.mode,n)).ref=ma(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ld(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Ed(r,e.mode,n,a)).return=e,t):((t=o(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dd(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=zd(t.type,t.key,t.props,null,e.mode,r)).ref=ma(e,null,t),r.return=e,r;case k:return(t=Ld(t,e.mode,r)).return=e,t;case _:return p(e,(0,t._init)(t._payload),r)}if(te(t)||E(t))return(t=Ed(t,e.mode,r,null)).return=e,t;ya(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===o?d(e,t,r,n):null;case k:return r.key===o?c(e,t,r,n):null;case _:return h(e,t,(o=r._init)(r._payload),n)}if(te(r)||E(r))return null!==o?null:u(e,t,r,n,null);ya(e,r)}return null}function g(e,t,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,o);case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case _:return g(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||E(n))return u(t,e=e.get(r)||null,n,o,null);ya(t,n)}return null}function x(o,a,s,l){for(var d=null,c=null,u=a,x=a=0,f=null;null!==u&&x<s.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var m=h(o,u,s[x],l);if(null===m){null===u&&(u=f);break}e&&u&&null===m.alternate&&t(o,u),a=i(m,a,x),null===c?d=m:c.sibling=m,c=m,u=f}if(x===s.length)return r(o,u),aa&&Zo(o,x),d;if(null===u){for(;x<s.length;x++)null!==(u=p(o,s[x],l))&&(a=i(u,a,x),null===c?d=u:c.sibling=u,c=u);return aa&&Zo(o,x),d}for(u=n(o,u);x<s.length;x++)null!==(f=g(u,o,x,s[x],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),a=i(f,a,x),null===c?d=f:c.sibling=f,c=f);return e&&u.forEach((function(e){return t(o,e)})),aa&&Zo(o,x),d}function f(o,s,l,d){var c=E(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var u=c=null,x=s,f=s=0,m=null,y=l.next();null!==x&&!y.done;f++,y=l.next()){x.index>f?(m=x,x=null):m=x.sibling;var b=h(o,x,y.value,d);if(null===b){null===x&&(x=m);break}e&&x&&null===b.alternate&&t(o,x),s=i(b,s,f),null===u?c=b:u.sibling=b,u=b,x=m}if(y.done)return r(o,x),aa&&Zo(o,f),c;if(null===x){for(;!y.done;f++,y=l.next())null!==(y=p(o,y.value,d))&&(s=i(y,s,f),null===u?c=y:u.sibling=y,u=y);return aa&&Zo(o,f),c}for(x=n(o,x);!y.done;f++,y=l.next())null!==(y=g(x,o,f,y.value,d))&&(e&&null!==y.alternate&&x.delete(null===y.key?f:y.key),s=i(y,s,f),null===u?c=y:u.sibling=y,u=y);return e&&x.forEach((function(e){return t(o,e)})),aa&&Zo(o,f),c}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var d=i.key,c=a;null!==c;){if(c.key===d){if((d=i.type)===w){if(7===c.tag){r(n,c.sibling),(a=o(c,i.props.children)).return=n,n=a;break e}}else if(c.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===_&&ba(d)===c.type){r(n,c.sibling),(a=o(c,i.props)).ref=ma(n,c,i),a.return=n,n=a;break e}r(n,c);break}t(n,c),c=c.sibling}i.type===w?((a=Ed(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=zd(i.type,i.key,i.props,null,n.mode,l)).ref=ma(n,a,i),l.return=n,n=l)}return s(n);case k:e:{for(c=i.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=o(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Ld(i,n.mode,l)).return=n,n=a}return s(n);case _:return e(n,a,(c=i._init)(i._payload),l)}if(te(i))return x(n,a,i,l);if(E(i))return f(n,a,i,l);ya(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=o(a,i)).return=n,n=a):(r(n,a),(a=Dd(i,n.mode,l)).return=n,n=a),s(n)):r(n,a)}}var ja=va(!0),ka=va(!1),wa=Co(null),Sa=null,Ca=null,Pa=null;function Ba(){Pa=Ca=Sa=null}function Na(e){var t=wa.current;Po(wa),e._currentValue=t}function Ta(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ra(e,t){Sa=e,Pa=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(Pa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Sa)throw Error(a(308));Ca=e,Sa.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var _a=null;function Ia(e){null===_a?_a=[e]:_a.push(e)}function za(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ia(t)):(r.next=o.next,o.next=r),t.interleaved=r,Ea(e,n)}function Ea(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ma=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Nl)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ea(e,r)}return null===(o=n.interleaved)?(t.next=t,Ia(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ea(e,r)}function Wa(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ua(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?o=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?o=a=t:a=a.next=t}else o=a=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ha(e,t,r,n){var o=e.updateQueue;Ma=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,d=l.next;l.next=null,null===i?a=d:i.next=d,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=d:s.next=d,c.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(i=0,c=d=l=null,s=a;;){var p=s.lane,h=s.eventTime;if((n&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,x=s;switch(p=t,h=r,x.tag){case 1:if("function"===typeof(g=x.payload)){u=g.call(h,u,p);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=x.payload)?g.call(h,u,p):g)||void 0===p)break e;u=D({},u,p);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(d=c=h,l=u):c=c.next=h,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(l=u),o.baseState=l,o.firstBaseUpdate=d,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var Ya={},qa=Co(Ya),Qa=Co(Ya),$a=Co(Ya);function Ga(e){if(e===Ya)throw Error(a(174));return e}function Ka(e,t){switch(Bo($a,t),Bo(Qa,e),Bo(qa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Po(qa),Bo(qa,t)}function Xa(){Po(qa),Po(Qa),Po($a)}function Ja(e){Ga($a.current);var t=Ga(qa.current),r=le(t,e.type);t!==r&&(Bo(Qa,e),Bo(qa,r))}function Za(e){Qa.current===e&&(Po(qa),Po(Qa))}var ei=Co(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function ni(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var oi=v.ReactCurrentDispatcher,ai=v.ReactCurrentBatchConfig,ii=0,si=null,li=null,di=null,ci=!1,ui=!1,pi=0,hi=0;function gi(){throw Error(a(321))}function xi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=r(n,o),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(a(301));i+=1,di=li=null,t.updateQueue=null,oi.current=ts,e=r(n,o)}while(ui)}if(oi.current=Ji,t=null!==li&&null!==li.next,ii=0,di=li=si=null,ci=!1,t)throw Error(a(300));return e}function mi(){var e=0!==pi;return pi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===di?si.memoizedState=di=e:di=di.next=e,di}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===di?si.memoizedState:di.next;if(null!==t)di=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===di?si.memoizedState=di=e:di=di.next=e}return di}function vi(e,t){return"function"===typeof t?t(e):t}function ji(e){var t=bi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=li,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=s=null,d=null,c=i;do{var u=c.lane;if((ii&u)===u)null!==d&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===d?(l=d=p,s=n):d=d.next=p,si.lanes|=u,Ml|=u}c=c.next}while(null!==c&&c!==i);null===d?s=n:d.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Ml|=i,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ki(e){var t=bi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sn(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function wi(){}function Si(e,t){var r=si,n=bi(),o=t(),i=!sn(n.memoizedState,o);if(i&&(n.memoizedState=o,bs=!0),n=n.queue,Mi(Bi.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==di&&1&di.memoizedState.tag){if(r.flags|=2048,Ai(9,Pi.bind(null,r,n,o,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ii)||Ci(r,t,o)}return o}function Ci(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Pi(e,t,r,n){t.value=r,t.getSnapshot=n,Ni(t)&&Ti(e)}function Bi(e,t,r){return r((function(){Ni(t)&&Ti(e)}))}function Ni(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ti(e){var t=Ea(e,1);null!==t&&rd(t,e,1,-1)}function Ri(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,si,e),[t.memoizedState,e]}function Ai(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function _i(){return bi().memoizedState}function Ii(e,t,r,n){var o=yi();si.flags|=e,o.memoizedState=Ai(1|t,r,void 0,void 0===n?null:n)}function zi(e,t,r,n){var o=bi();n=void 0===n?null:n;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==n&&xi(n,i.deps))return void(o.memoizedState=Ai(t,r,a,n))}si.flags|=e,o.memoizedState=Ai(1|t,r,a,n)}function Ei(e,t){return Ii(8390656,8,e,t)}function Mi(e,t){return zi(2048,8,e,t)}function Di(e,t){return zi(4,2,e,t)}function Li(e,t){return zi(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,zi(4,4,Oi.bind(null,t,e),r)}function Wi(){}function Ui(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hi(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=xt(),si.lanes|=r,Ml|=r,e.baseState=!0),t)}function Yi(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=r,ai.transition=n}}function qi(){return bi().memoizedState}function Qi(e,t,r){var n=td(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ki(t,r);else if(null!==(r=za(e,t,r,n))){rd(r,e,n,ed()),Xi(r,t,n)}}function $i(e,t,r){var n=td(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ki(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,r);if(o.hasEagerState=!0,o.eagerState=s,sn(s,i)){var l=t.interleaved;return null===l?(o.next=o,Ia(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(d){}null!==(r=za(e,t,o,n))&&(rd(r,e,n,o=ed()),Xi(r,t,n))}}function Gi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Ki(e,t){ui=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xi(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Ji={readContext:Aa,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Zi={readContext:Aa,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Ei,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ii(4194308,4,Oi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var r=yi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qi.bind(null,si,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ri,useDebugValue:Wi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=Yi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=si,o=yi();if(aa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Tl)throw Error(a(349));0!==(30&ii)||Ci(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Ei(Bi.bind(null,n,i,e),[e]),n.flags|=2048,Ai(9,Pi.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yi(),t=Tl.identifierPrefix;if(aa){var r=Jo;t=":"+t+"R"+(r=(Xo&~(1<<32-it(Xo)-1)).toString(32)+r),0<(r=pi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Aa,useCallback:Ui,useContext:Aa,useEffect:Mi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Li,useMemo:Hi,useReducer:ji,useRef:_i,useState:function(){return ji(vi)},useDebugValue:Wi,useDeferredValue:function(e){return Vi(bi(),li.memoizedState,e)},useTransition:function(){return[ji(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Si,useId:qi,unstable_isNewReconciler:!1},ts={readContext:Aa,useCallback:Ui,useContext:Aa,useEffect:Mi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Li,useMemo:Hi,useReducer:ki,useRef:_i,useState:function(){return ki(vi)},useDebugValue:Wi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[ki(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Si,useId:qi,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ed(),o=td(e),a=Oa(n,o);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,o))&&(rd(t,e,o,n),Wa(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ed(),o=td(e),a=Oa(n,o);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,o))&&(rd(t,e,o,n),Wa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ed(),n=td(e),o=Oa(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fa(e,o,n))&&(rd(t,e,n,r),Wa(t,e,n))}};function as(e,t,r,n,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(o,a))}function is(e,t,r){var n=!1,o=No,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(o=Io(t)?Ao:To.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?_o(e,o):No),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Aa(a):(a=Io(t)?Ao:To.current,o.context=_o(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Ha(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ds(e,t){try{var r="",n=t;do{r+=W(n),n=n.return}while(n);var o=r}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function cs(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=Oa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Yl=n),us(0,t)},r}function gs(e,t,r){(r=Oa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){us(0,t),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function xs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ps;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Cd.bind(null,e,t,r),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,r,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Oa(-1,1)).tag=2,Fa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=v.ReactCurrentOwner,bs=!1;function vs(e,t,r,n){t.child=null===e?ka(t,null,r,n):ja(t,e.child,r,n)}function js(e,t,r,n,o){r=r.render;var a=t.ref;return Ra(t,o),n=fi(e,t,r,n,a,o),r=mi(),null===e||bs?(aa&&r&&ta(t),t.flags|=1,vs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function ks(e,t,r,n,o){if(null===e){var a=r.type;return"function"!==typeof a||_d(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=zd(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,n,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=Id(a,n)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,r,n,o){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,0===(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Ps(e,t,r,n,o)}function Ss(e,t,r){var n=t.pendingProps,o=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bo(Il,_l),_l|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bo(Il,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Bo(Il,_l),_l|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Bo(Il,_l),_l|=n;return vs(e,t,o,r),t.child}function Cs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,r,n,o){var a=Io(r)?Ao:To.current;return a=_o(t,a),Ra(t,o),r=fi(e,t,r,n,a,o),n=mi(),null===e||bs?(aa&&n&&ta(t),t.flags|=1,vs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Bs(e,t,r,n,o){if(Io(r)){var a=!0;Do(t)}else a=!1;if(Ra(t,o),null===t.stateNode)Hs(e,t),is(t,r,n),ls(t,r,n,o),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,d=r.contextType;"object"===typeof d&&null!==d?d=Aa(d):d=_o(t,d=Io(r)?Ao:To.current);var c=r.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==n||l!==d)&&ss(t,i,n,d),Ma=!1;var p=t.memoizedState;i.state=p,Ha(t,n,i,o),l=t.memoizedState,s!==n||p!==l||Ro.current||Ma?("function"===typeof c&&(ns(t,r,c,n),l=t.memoizedState),(s=Ma||as(t,r,s,n,p,l,d))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=d,n=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,La(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:rs(t.type,s),i.props=d,u=t.pendingProps,p=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Aa(l):l=_o(t,l=Io(r)?Ao:To.current);var h=r.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||p!==l)&&ss(t,i,n,l),Ma=!1,p=t.memoizedState,i.state=p,Ha(t,n,i,o);var g=t.memoizedState;s!==u||p!==g||Ro.current||Ma?("function"===typeof h&&(ns(t,r,h,n),g=t.memoizedState),(d=Ma||as(t,r,d,n,p,g,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,g,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=l,n=d):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ns(e,t,r,n,a,o)}function Ns(e,t,r,n,o,a){Cs(e,t);var i=0!==(128&t.flags);if(!n&&!i)return o&&Lo(t,r,!1),Vs(e,t,a);n=t.stateNode,ys.current=t;var s=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,s,a)):vs(e,t,s,a),t.memoizedState=n.state,o&&Lo(t,r,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Eo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Eo(0,t.context,!1),Ka(e,t.containerInfo)}function Rs(e,t,r,n,o){return ga(),xa(o),t.flags|=256,vs(e,t,r,n),t.child}var As,_s,Is,zs,Es={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,r){var n,o=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Bo(ei,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Md(l,o,0,null),e=Ed(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(r),t.memoizedState=Es,e):Ls(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,o,i,s){if(r)return 256&t.flags?(t.flags&=-257,Os(e,t,s,n=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Md({mode:"visible",children:n.children},o,0,null),(i=Ed(i,o,s,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ja(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Es,i);if(0===(1&t.mode))return Os(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Os(e,t,s,n=cs(i=Error(a(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Ea(e,o),rd(n,e,o,-1))}return xd(),Os(e,t,s,n=cs(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Bd.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=co(o.nextSibling),na=t,aa=!0,ia=null,null!==e&&($o[Go++]=Xo,$o[Go++]=Jo,$o[Go++]=Ko,Xo=e.id,Jo=e.overflow,Ko=t),t=Ls(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,i,r);if(s){s=o.fallback,l=t.mode,n=(i=e.child).sibling;var d={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==i?((o=t.child).childLanes=0,o.pendingProps=d,t.deletions=null):(o=Id(i,d)).subtreeFlags=14680064&i.subtreeFlags,null!==n?s=Id(n,s):(s=Ed(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Es,o}return e=(s=e.child).sibling,o=Id(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Ls(e,t){return(t=Md({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,r,n){return null!==n&&xa(n),ja(t,e.child,null,r),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ta(e.return,t,r)}function Ws(e,t,r,n,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function Us(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(vs(e,t,n.children,r),0!==(2&(n=ei.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,r,t);else if(19===e.tag)Fs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bo(ei,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ti(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Ws(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ws(t,!0,r,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Id(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Id(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ys(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qs(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Io(t.type)&&zo(),qs(t),null;case 3:return n=t.stateNode,Xa(),Po(Ro),Po(To),ni(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(id(ia),ia=null))),_s(e,t),qs(t),null;case 5:Za(t);var o=Ga($a.current);if(r=t.type,null!==e&&null!=t.stateNode)Is(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Ga(qa.current),pa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ho]=t,n[go]=i,e=0!==(1&t.mode),r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(o=0;o<En.length;o++)On(En[o],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":K(n,i),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},On("invalid",n);break;case"textarea":oe(n,i),On("invalid",n)}for(var l in ye(r,i),o=null,i)if(i.hasOwnProperty(l)){var d=i[l];"children"===l?"string"===typeof d?n.textContent!==d&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,d,e),o=["children",d]):"number"===typeof d&&n.textContent!==""+d&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,d,e),o=["children",""+d]):s.hasOwnProperty(l)&&null!=d&&"onScroll"===l&&On("scroll",n)}switch(r){case"input":q(n),Z(n,i,!0);break;case"textarea":q(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ho]=t,e[go]=n,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":On("cancel",e),On("close",e),o=n;break;case"iframe":case"object":case"embed":On("load",e),o=n;break;case"video":case"audio":for(o=0;o<En.length;o++)On(En[o],e);o=n;break;case"source":On("error",e),o=n;break;case"img":case"image":case"link":On("error",e),On("load",e),o=n;break;case"details":On("toggle",e),o=n;break;case"input":K(e,n),o=G(e,n),On("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=D({},n,{value:void 0}),On("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),On("invalid",e)}for(i in ye(r,o),d=o)if(d.hasOwnProperty(i)){var c=d[i];"style"===i?fe(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===i?"string"===typeof c?("textarea"!==r||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&On("scroll",e):null!=c&&b(e,i,c,l))}switch(r){case"input":q(e),Z(e,n,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)zs(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ga($a.current),Ga(qa.current),pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[ho]=t,(i=n.nodeValue!==r)&&null!==(e=na))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=t,t.stateNode=n}return qs(t),null;case 13:if(Po(ei),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ga(),t.flags|=98560,i=!1;else if(i=pa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ho]=t}else ga(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),i=!1}else null!==ia&&(id(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===zl&&(zl=3):xd())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Xa(),_s(e,t),null===e&&Un(t.stateNode.containerInfo),qs(t),null;case 10:return Na(t.type._context),qs(t),null;case 19:if(Po(ei),null===(i=t.memoizedState))return qs(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ys(i,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Ys(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bo(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Ul&&(t.flags|=128,n=!0,Ys(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ti(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ys(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return qs(t),null}else 2*Xe()-i.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Ys(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=ei.current,Bo(ei,n?1&r|2:1&r),t):(qs(t),null);case 22:case 23:return ud(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&_l)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ra(t),t.tag){case 1:return Io(t.type)&&zo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Po(Ro),Po(To),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Po(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Po(ei),null;case 4:return Xa(),null;case 10:return Na(t.type._context),null;case 22:case 23:return ud(),null;default:return null}}As=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},_s=function(){},Is=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ga(qa.current);var a,i=null;switch(r){case"input":o=G(e,o),n=G(e,n),i=[];break;case"select":o=D({},o,{value:void 0}),n=D({},n,{value:void 0}),i=[];break;case"textarea":o=ne(e,o),n=ne(e,n),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(c in ye(r,n),r=null,o)if(!n.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=null!=o?o[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(null!=d||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(i||(i=[]),i.push(c,r)),r=d;else"dangerouslySetInnerHTML"===c?(d=d?d.__html:void 0,l=l?l.__html:void 0,null!=d&&l!==d&&(i=i||[]).push(c,d)):"children"===c?"string"!==typeof d&&"number"!==typeof d||(i=i||[]).push(c,""+d):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=d&&"onScroll"===c&&On("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},zs=function(e,t,r,n){r!==n&&(t.flags|=4)};var Gs=!1,Ks=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sd(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Sd(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,r,a)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[go],delete t[fo],delete t[mo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function dl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(dl(e,t,r),e=e.sibling;null!==e;)dl(e,t,r),e=e.sibling}var cl=null,ul=!1;function pl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,r)}catch(s){}switch(r.tag){case 5:Ks||Zs(r,t);case 6:var n=cl,o=ul;cl=null,pl(e,t,r),ul=o,null!==(cl=n)&&(ul?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(ul?(e=cl,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),Ut(e)):lo(cl,r.stateNode));break;case 4:n=cl,o=ul,cl=r.stateNode.containerInfo,ul=!0,pl(e,t,r),cl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,t,i),o=o.next}while(o!==n)}pl(e,t,r);break;case 1:if(!Ks&&(Zs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Sd(r,t,s)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Ks=(n=Ks)||null!==r.memoizedState,pl(e,t,r),Ks=n):pl(e,t,r);break;default:pl(e,t,r)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xs),t.forEach((function(t){var n=Nd.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function xl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(i,s,o),cl=null,ul=!1;var d=o.alternate;null!==d&&(d.return=null),o.return=null}catch(c){Sd(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),ml(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(f){Sd(e,e.return,f)}try{rl(5,e,e.return)}catch(f){Sd(e,e.return,f)}}break;case 1:xl(t,e),ml(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(xl(t,e),ml(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(f){Sd(e,e.return,f)}}if(4&n&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==r?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,null!==d)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(o,i),be(l,s);var c=be(l,i);for(s=0;s<d.length;s+=2){var u=d[s],p=d[s+1];"style"===u?fe(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,c)}switch(l){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?re(o,!!i.multiple,g,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(o,!!i.multiple,i.defaultValue,!0):re(o,!!i.multiple,i.multiple?[]:"",!1))}o[go]=i}catch(f){Sd(e,e.return,f)}}break;case 6:if(xl(t,e),ml(e),4&n){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(f){Sd(e,e.return,f)}}break;case 3:if(xl(t,e),ml(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(f){Sd(e,e.return,f)}break;case 4:default:xl(t,e),ml(e);break;case 13:xl(t,e),ml(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Xe())),4&n&&gl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ks=(c=Ks)||u,xl(t,e),Ks=c):xl(t,e),ml(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Js=e,u=e.child;null!==u;){for(p=Js=u;null!==Js;){switch(g=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zs(h,h.return);var x=h.stateNode;if("function"===typeof x.componentWillUnmount){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){Sd(n,r,f)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){jl(p);continue}}null!==g?(g.return=h,Js=g):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,c?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(d=p.memoizedProps.style)&&null!==d&&d.hasOwnProperty("display")?d.display:null,l.style.display=xe("display",s))}catch(f){Sd(e,e.return,f)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(f){Sd(e,e.return,f)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xl(t,e),ml(e),4&n&&gl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(pe(o,""),n.flags&=-33),dl(e,sl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(s){Sd(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Js=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Js;){var o=Js,a=o.child;if(22===o.tag&&n){var i=null!==o.memoizedState||Gs;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Gs;var d=Ks;if(Gs=i,(Ks=l)&&!d)for(Js=o;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?kl(o):null!==l?(l.return=i,Js=l):kl(o);for(;null!==a;)Js=a,bl(a,t,r),a=a.sibling;Js=o,Gs=s,Ks=d}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Js=a):vl(e)}}function vl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ks)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Va(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&ol(t)}catch(h){Sd(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function jl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Js=r;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Sd(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Sd(t,o,l)}}var a=t.return;try{ol(t)}catch(l){Sd(t,a,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Sd(t,i,l)}}}catch(l){Sd(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var wl,Sl=Math.ceil,Cl=v.ReactCurrentDispatcher,Pl=v.ReactCurrentOwner,Bl=v.ReactCurrentBatchConfig,Nl=0,Tl=null,Rl=null,Al=0,_l=0,Il=Co(0),zl=0,El=null,Ml=0,Dl=0,Ll=0,Ol=null,Fl=null,Wl=0,Ul=1/0,Hl=null,Vl=!1,Yl=null,ql=null,Ql=!1,$l=null,Gl=0,Kl=0,Xl=null,Jl=-1,Zl=0;function ed(){return 0!==(6&Nl)?Xe():-1!==Jl?Jl:Jl=Xe()}function td(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Al?Al&-Al:null!==fa.transition?(0===Zl&&(Zl=xt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rd(e,t,r,n){if(50<Kl)throw Kl=0,Xl=null,Error(a(185));mt(e,r,n),0!==(2&Nl)&&e===Tl||(e===Tl&&(0===(2&Nl)&&(Dl|=r),4===zl&&sd(e,Al)),nd(e,n),1===r&&0===Nl&&0===(1&t.mode)&&(Ul=Xe()+500,Fo&&Ho()))}function nd(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,l=o[i];-1===l?0!==(s&r)&&0===(s&n)||(o[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=pt(e,e===Tl?Al:0);if(0===n)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){Fo=!0,Uo(e)}(ld.bind(null,e)):Uo(ld.bind(null,e)),io((function(){0===(6&Nl)&&Ho()})),r=null;else{switch(vt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Td(r,od.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function od(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(a(327));var r=e.callbackNode;if(kd()&&e.callbackNode!==r)return null;var n=pt(e,e===Tl?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fd(e,n);else{t=n;var o=Nl;Nl|=2;var i=gd();for(Tl===e&&Al===t||(Hl=null,Ul=Xe()+500,pd(e,t));;)try{yd();break}catch(l){hd(e,l)}Ba(),Cl.current=i,Nl=o,null!==Rl?t=0:(Tl=null,Al=0,t=zl)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(n=o,t=ad(e,o))),1===t)throw r=El,pd(e,0),sd(e,n),nd(e,Xe()),r;if(6===t)sd(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=fd(e,n))&&(0!==(i=gt(e))&&(n=i,t=ad(e,i))),1===t))throw r=El,pd(e,0),sd(e,n),nd(e,Xe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:jd(e,Fl,Hl);break;case 3:if(sd(e,n),(130023424&n)===n&&10<(t=Wl+500-Xe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ed(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(jd.bind(null,e,Fl,Hl),t);break}jd(e,Fl,Hl);break;case 4:if(sd(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-it(n);i=1<<s,(s=t[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=no(jd.bind(null,e,Fl,Hl),n);break}jd(e,Fl,Hl);break;default:throw Error(a(329))}}}return nd(e,Xe()),e.callbackNode===r?od.bind(null,e):null}function ad(e,t){var r=Ol;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),2!==(e=fd(e,t))&&(t=Fl,Fl=r,null!==t&&id(t)),e}function id(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sd(e,t){for(t&=~Ll,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function ld(e){if(0!==(6&Nl))throw Error(a(327));kd();var t=pt(e,0);if(0===(1&t))return nd(e,Xe()),null;var r=fd(e,t);if(0!==e.tag&&2===r){var n=gt(e);0!==n&&(t=n,r=ad(e,n))}if(1===r)throw r=El,pd(e,0),sd(e,t),nd(e,Xe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jd(e,Fl,Hl),nd(e,Xe()),null}function dd(e,t){var r=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=r)&&(Ul=Xe()+500,Fo&&Ho())}}function cd(e){null!==$l&&0===$l.tag&&0===(6&Nl)&&kd();var t=Nl;Nl|=1;var r=Bl.transition,n=bt;try{if(Bl.transition=null,bt=1,e)return e()}finally{bt=n,Bl.transition=r,0===(6&(Nl=t))&&Ho()}}function ud(){_l=Il.current,Po(Il)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==Rl)for(r=Rl.return;null!==r;){var n=r;switch(ra(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&zo();break;case 3:Xa(),Po(Ro),Po(To),ni();break;case 5:Za(n);break;case 4:Xa();break;case 13:case 19:Po(ei);break;case 10:Na(n.type._context);break;case 22:case 23:ud()}r=r.return}if(Tl=e,Rl=e=Id(e.current,null),Al=_l=t,zl=0,El=null,Ll=Dl=Ml=0,Fl=Ol=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(n=(r=_a[t]).interleaved)){r.interleaved=null;var o=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=o,n.next=i}r.pending=n}_a=null}return e}function hd(e,t){for(;;){var r=Rl;try{if(Ba(),oi.current=Ji,ci){for(var n=si.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ci=!1}if(ii=0,di=li=si=null,ui=!1,pi=0,Pl.current=null,null===r||null===r.return){zl=1,El=t,Rl=null;break}e:{var i=e,s=r.return,l=r,d=t;if(t=Al,l.flags|=32768,null!==d&&"object"===typeof d&&"function"===typeof d.then){var c=d,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=fs(s);if(null!==g){g.flags&=-257,ms(g,s,l,0,t),1&g.mode&&xs(i,c,t),d=c;var x=(t=g).updateQueue;if(null===x){var f=new Set;f.add(d),t.updateQueue=f}else x.add(d);break e}if(0===(1&t)){xs(i,c,t),xd();break e}d=Error(a(426))}else if(aa&&1&l.mode){var m=fs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,t),xa(ds(d,l));break e}}i=d=ds(d,l),4!==zl&&(zl=2),null===Ol?Ol=[i]:Ol.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,hs(0,d,t));break e;case 1:l=d;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,gs(i,l,t));break e}}i=i.return}while(null!==i)}vd(r)}catch(v){t=v,Rl===r&&null!==r&&(Rl=r=r.return);continue}break}}function gd(){var e=Cl.current;return Cl.current=Ji,null===e?Ji:e}function xd(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Tl||0===(268435455&Ml)&&0===(268435455&Dl)||sd(Tl,Al)}function fd(e,t){var r=Nl;Nl|=2;var n=gd();for(Tl===e&&Al===t||(Hl=null,pd(e,t));;)try{md();break}catch(o){hd(e,o)}if(Ba(),Nl=r,Cl.current=n,null!==Rl)throw Error(a(261));return Tl=null,Al=0,zl}function md(){for(;null!==Rl;)bd(Rl)}function yd(){for(;null!==Rl&&!Ge();)bd(Rl)}function bd(e){var t=wl(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?vd(e):Rl=t,Pl.current=null}function vd(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Qs(r,t,_l)))return void(Rl=r)}else{if(null!==(r=$s(r,t)))return r.flags&=32767,void(Rl=r);if(null===e)return zl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===zl&&(zl=5)}function jd(e,t,r){var n=bt,o=Bl.transition;try{Bl.transition=null,bt=1,function(e,t,r,n){do{kd()}while(null!==$l);if(0!==(6&Nl))throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-it(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}(e,i),e===Tl&&(Rl=Tl=null,Al=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ql||(Ql=!0,Td(tt,(function(){return kd(),null}))),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Bl.transition,Bl.transition=null;var s=bt;bt=1;var l=Nl;Nl|=4,Pl.current=null,function(e,t){if(eo=Vt,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var s=0,l=-1,d=-1,c=0,u=0,p=e,h=null;t:for(;;){for(var g;p!==r||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==n&&3!==p.nodeType||(d=s+n),3===p.nodeType&&(s+=p.nodeValue.length),null!==(g=p.firstChild);)h=p,p=g;for(;;){if(p===e)break t;if(h===r&&++c===o&&(l=s),h===i&&++u===n&&(d=s),null!==(g=p.nextSibling))break;h=(p=h).parentNode}p=g}r=-1===l||-1===d?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,m=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:rs(t.type,f),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(j){Sd(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}x=tl,tl=!1}(e,r),fl(r,e),gn(to),Vt=!!eo,to=eo=null,e.current=r,yl(r,e,o),Ke(),Nl=l,bt=s,Bl.transition=i}else e.current=r;if(Ql&&(Ql=!1,$l=e,Gl=o),i=e.pendingLanes,0===i&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nd(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Yl,Yl=null,e;0!==(1&Gl)&&0!==e.tag&&kd(),i=e.pendingLanes,0!==(1&i)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Ho()}(e,t,r,n)}finally{Bl.transition=o,bt=n}return null}function kd(){if(null!==$l){var e=vt(Gl),t=Bl.transition,r=bt;try{if(Bl.transition=null,bt=16>e?16:e,null===$l)var n=!1;else{if(e=$l,$l=null,Gl=0,0!==(6&Nl))throw Error(a(331));var o=Nl;for(Nl|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var d=0;d<l.length;d++){var c=l[d];for(Js=c;null!==Js;){var u=Js;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Js=p;else for(;null!==Js;){var h=(u=Js).sibling,g=u.return;if(al(u),u===c){Js=null;break}if(null!==h){h.return=g,Js=h;break}Js=g}}}var x=i.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Js=y;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var v=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==v)v.return=s,Js=v;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Sd(l,l.return,k)}if(l===s){Js=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Js=j;break e}Js=l.return}}if(Nl=o,Ho(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(k){}n=!0}return n}finally{bt=r,Bl.transition=t}}return!1}function wd(e,t,r){e=Fa(e,t=hs(0,t=ds(r,t),1),1),t=ed(),null!==e&&(mt(e,1,t),nd(e,t))}function Sd(e,t,r){if(3===e.tag)wd(e,e,r);else for(;null!==t;){if(3===t.tag){wd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){t=Fa(t,e=gs(t,e=ds(r,e),1),1),e=ed(),null!==t&&(mt(t,1,e),nd(t,e));break}}t=t.return}}function Cd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ed(),e.pingedLanes|=e.suspendedLanes&r,Tl===e&&(Al&r)===r&&(4===zl||3===zl&&(130023424&Al)===Al&&500>Xe()-Wl?pd(e,0):Ll|=r),nd(e,t)}function Pd(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=ed();null!==(e=Ea(e,t))&&(mt(e,t,r),nd(e,r))}function Bd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Pd(e,r)}function Nd(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Pd(e,r)}function Td(e,t){return Qe(e,t)}function Rd(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ad(e,t,r,n){return new Rd(e,t,r,n)}function _d(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Id(e,t){var r=e.alternate;return null===r?((r=Ad(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zd(e,t,r,n,o,i){var s=2;if(n=e,"function"===typeof e)_d(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Ed(r.children,o,i,t);case S:s=8,o|=8;break;case C:return(e=Ad(12,r,t,2|o)).elementType=C,e.lanes=i,e;case T:return(e=Ad(13,r,t,o)).elementType=T,e.lanes=i,e;case R:return(e=Ad(19,r,t,o)).elementType=R,e.lanes=i,e;case I:return Md(r,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case B:s=9;break e;case N:s=11;break e;case A:s=14;break e;case _:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ad(s,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function Ed(e,t,r,n){return(e=Ad(7,e,n,t)).lanes=r,e}function Md(e,t,r,n){return(e=Ad(22,e,n,t)).elementType=I,e.lanes=r,e.stateNode={isHidden:!1},e}function Dd(e,t,r){return(e=Ad(6,e,null,t)).lanes=r,e}function Ld(e,t,r){return(t=Ad(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Od(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fd(e,t,r,n,o,a,i,s,l){return e=new Od(e,t,r,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ad(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Wd(e){if(!e)return No;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Io(r))return Mo(e,r,t)}return t}function Ud(e,t,r,n,o,a,i,s,l){return(e=Fd(r,n,!0,e,0,a,0,s,l)).context=Wd(null),r=e.current,(a=Oa(n=ed(),o=td(r))).callback=void 0!==t&&null!==t?t:null,Fa(r,a,o),e.current.lanes=o,mt(e,o,n),nd(e,n),e}function Hd(e,t,r,n){var o=t.current,a=ed(),i=td(o);return r=Wd(r),null===t.context?t.context=r:t.pendingContext=r,(t=Oa(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fa(o,t,i))&&(rd(e,o,i,a),Wa(e,o,i)),i}function Vd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function qd(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}wl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Ts(t),ga();break;case 5:Ja(t);break;case 1:Io(t.type)&&Do(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Bo(wa,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Bo(ei,1&ei.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ds(e,t,r):(Bo(ei,1&ei.current),null!==(e=Vs(e,t,r))?e.sibling:null);Bo(ei,1&ei.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Us(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Bo(ei,ei.current),n)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,r)}return Vs(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,aa&&0!==(1048576&t.flags)&&ea(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hs(e,t),e=t.pendingProps;var o=_o(t,To.current);Ra(t,r),o=fi(null,t,n,e,o,r);var i=mi();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(n)?(i=!0,Do(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Da(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,n,e,r),t=Ns(null,t,n,!0,i,r)):(t.tag=0,aa&&i&&ta(t),vs(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return _d(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(n),e=rs(n,e),o){case 0:t=Ps(null,t,n,e,r);break e;case 1:t=Bs(null,t,n,e,r);break e;case 11:t=js(null,t,n,e,r);break e;case 14:t=ks(null,t,n,rs(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Ps(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 1:return n=t.type,o=t.pendingProps,Bs(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 3:e:{if(Ts(t),null===e)throw Error(a(387));n=t.pendingProps,o=(i=t.memoizedState).element,La(e,t),Ha(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rs(e,t,n,r,o=ds(Error(a(423)),t));break e}if(n!==o){t=Rs(e,t,n,r,o=ds(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),na=t,aa=!0,ia=null,r=ka(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ga(),n===o){t=Vs(e,t,r);break e}vs(e,t,n,r)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,ro(n,o)?s=null:null!==i&&ro(n,i)&&(t.flags|=32),Cs(e,t),vs(e,t,s,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Ds(e,t,r);case 4:return Ka(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ja(t,null,n,r):vs(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,js(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 7:return vs(e,t,t.pendingProps,r),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Bo(wa,n._currentValue),n._currentValue=s,null!==i)if(sn(i.value,s)){if(i.children===o.children&&!Ro.current){t=Vs(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var d=l.firstContext;null!==d;){if(d.context===n){if(1===i.tag){(d=Oa(-1,r&-r)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,null!==(d=i.alternate)&&(d.lanes|=r),Ta(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ta(s,r,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}vs(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ra(t,r),n=n(o=Aa(o)),t.flags|=1,vs(e,t,n,r),t.child;case 14:return o=rs(n=t.type,t.pendingProps),ks(e,t,n,o=rs(n.type,o),r);case 15:return ws(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:rs(n,o),Hs(e,t),t.tag=1,Io(n)?(e=!0,Do(t)):e=!1,Ra(t,r),is(t,n,o),ls(t,n,o,r),Ns(null,t,n,!0,e,r);case 19:return Us(e,t,r);case 22:return Ss(e,t,r)}throw Error(a(156,t.tag))};var Qd="function"===typeof reportError?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}function Gd(e){this._internalRoot=e}function Kd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jd(){}function Zd(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=Vd(i);s.call(e)}}Hd(t,i,e,o)}else i=function(e,t,r,n,o){if(o){if("function"===typeof n){var a=n;n=function(){var e=Vd(i);a.call(e)}}var i=Ud(t,n,e,0,null,!1,0,"",Jd);return e._reactRootContainer=i,e[xo]=i.current,Un(8===e.nodeType?e.parentNode:e),cd(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var s=n;n=function(){var e=Vd(l);s.call(e)}}var l=Fd(e,0,!1,null,0,!1,0,"",Jd);return e._reactRootContainer=l,e[xo]=l.current,Un(8===e.nodeType?e.parentNode:e),cd((function(){Hd(t,l,r,n)})),l}(r,t,e,o,n);return Vd(i)}Gd.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hd(e,t,null,null)},Gd.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cd((function(){Hd(null,e,null,null)})),t[xo]=null}},Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&0!==t&&t<It[r].priority;r++);It.splice(r,0,e),0===r&&Dt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nd(t,Xe()),0===(6&Nl)&&(Ul=Xe()+500,Ho()))}break;case 13:cd((function(){var t=Ea(e,1);if(null!==t){var r=ed();rd(t,e,1,r)}})),qd(e,1)}},kt=function(e){if(13===e.tag){var t=Ea(e,134217728);if(null!==t)rd(t,e,134217728,ed());qd(e,134217728)}},wt=function(e){if(13===e.tag){var t=td(e),r=Ea(e,t);if(null!==r)rd(r,e,t,ed());qd(e,t)}},St=function(){return bt},Ct=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},ke=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=ko(n);if(!o)throw Error(a(90));Q(n),J(n,o)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ne=dd,Te=cd;var ec={usingClientEntryPoint:!1,Events:[vo,jo,ko,Pe,Be,dd]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{ot=nc.inject(rc),at=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kd(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Kd(e))throw Error(a(299));var r=!1,n="",o=Qd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fd(e,1,!1,null,0,r,0,n,o),e[xo]=t.current,Un(8===e.nodeType?e.parentNode:e),new $d(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return cd(e)},t.hydrate=function(e,t,r){if(!Xd(t))throw Error(a(200));return Zd(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Kd(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,o=!1,i="",s=Qd;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Ud(t,null,e,1,null!=r?r:null,o,0,i,s),e[xo]=t.current,Un(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Gd(t)},t.render=function(e,t,r){if(!Xd(t))throw Error(a(200));return Zd(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xd(e))throw Error(a(40));return!!e._reactRootContainer&&(cd((function(){Zd(null,null,e,!1,(function(){e._reactRootContainer=null,e[xo]=null}))})),!0)},t.unstable_batchedUpdates=dd,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xd(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zd(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Qt,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>$t,origin:()=>Xt});var o,a=r(43),i=r.t(a,2),s=r(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const d="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,u=o.Pop,x=null,f=m();function m(){return(s.state||{idx:null}).idx}function y(){u=o.Pop;let e=m(),t=null==e?null:e-f;f=e,x&&x({action:u,location:v.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:g(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==f&&(f=0,s.replaceState(l({},s.state,{idx:f}),""));let v={get action(){return u},get location(){return e(a,s)},listen(e){if(x)throw new Error("A history only accepts one active listener");return a.addEventListener(d,y),x=e,()=>{a.removeEventListener(d,y),x=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=o.Push;let n=h(v.location,e,t);r&&r(n,e),f=m()+1;let l=p(n,f),d=v.createHref(n);try{s.pushState(l,"",d)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(d)}i&&x&&x({action:u,location:v.location,delta:1})},replace:function(e,t){u=o.Replace;let n=h(v.location,e,t);r&&r(n,e),f=m();let a=p(n,f),l=v.createHref(n);s.replaceState(a,"",l),i&&x&&x({action:u,location:v.location,delta:0})},go:e=>s.go(e)};return v}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,n){let o=I(("string"===typeof t?x(t):t).pathname||"/",r);if(null==o)return null;let a=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=_(o);i=R(a[s],e,n)}return i}function v(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let o=(e,o,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let s=L([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of j(e.path))o(e,t,n);else o(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return o?[a,""]:[a];let i=j(n.join("/")),s=[];return s.push(...i.map((e=>""===e?a:[a,e].join("/")))),o&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,w=3,S=2,C=1,P=10,B=-2,N=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(N)&&(n+=B),t&&(n+=S),r.filter((e=>!N(e))).reduce(((e,t)=>e+(k.test(t)?w:""===t?C:P)),n)}function R(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,o={},a="/",i=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,d="/"===a?t:t.slice(a.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},d),u=e.route;if(!c&&l&&r&&!n[n.length-1].route.index&&(c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},d)),!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:L([a,c.pathname]),pathnameBase:O(L([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=L([a,c.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let a=new RegExp(o,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=s[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function z(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function E(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let r=E(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function D(e,t,r,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=x(e):(o=l({},e),c(!o.pathname||!o.pathname.includes("?"),z("?","pathname","search",o)),c(!o.pathname||!o.pathname.includes("#"),z("#","pathname","hash",o)),c(!o.search||!o.search.includes("#"),z("#","search","hash",o)));let a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(null==s)a=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:o=""}="string"===typeof e?x(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:F(n),hash:W(o)}}(o,a),u=s&&"/"!==s&&s.endsWith("/"),p=(i||"."===s)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const L=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y.apply(this,arguments)}const q=a.createContext(null);const Q=a.createContext(null);const $=a.createContext(null);const G=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const X=a.createContext(null);function J(){return null!=a.useContext(G)}function Z(){return J()||c(!1),a.useContext(G).location}function ee(e){a.useContext($).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=ue(de.UseNavigateStable),t=he(ce.UseNavigateStable),r=a.useRef(!1);ee((()=>{r.current=!0}));let n=a.useCallback((function(n,o){void 0===o&&(o={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,Y({fromRouteId:t},o)))}),[e,t]);return n}():function(){J()||c(!1);let e=a.useContext(q),{basename:t,future:r,navigator:n}=a.useContext($),{matches:o}=a.useContext(K),{pathname:i}=Z(),s=JSON.stringify(M(o,r.v7_relativeSplatPath)),l=a.useRef(!1);ee((()=>{l.current=!0}));let d=a.useCallback((function(r,o){if(void 0===o&&(o={}),!l.current)return;if("number"===typeof r)return void n.go(r);let a=D(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:L([t,a.pathname])),(o.replace?n.replace:n.push)(a,o.state,o)}),[t,n,s,i,e]);return d}()}function re(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext($),{matches:o}=a.useContext(K),{pathname:i}=Z(),s=JSON.stringify(M(o,n.v7_relativeSplatPath));return a.useMemo((()=>D(e,JSON.parse(s),i,"path"===r)),[e,s,i,r])}function ne(e,t,r,n){J()||c(!1);let{navigator:i}=a.useContext($),{matches:s}=a.useContext(K),l=s[s.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,h=Z();if(t){var g;let e="string"===typeof t?x(t):t;"/"===u||(null==(g=e.pathname)?void 0:g.startsWith(u))||c(!1),p=e}else p=h;let f=p.pathname||"/",m=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:m});let v=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,n);return t&&v?a.createElement(G.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:o.Pop}},v):v}function oe(){let e=function(){var e;let t=a.useContext(X),r=pe(ce.UseRouteError),n=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:o},r):null,null)}const ae=a.createElement(oe,null);class ie extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:r,children:n}=e,o=a.useContext(q);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(K.Provider,{value:t},n)}function le(e,t,r,n){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<s.length;a++){let e=s[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){d=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,n,o)=>{let i,c=!1,p=null,h=null;var g;r&&(i=l&&n.route.id?l[n.route.id]:void 0,p=n.route.errorElement||ae,d&&(u<0&&0===o?(g="route-fallback",!1||ge[g]||(ge[g]=!0),c=!0,h=null):u===o&&(c=!0,h=n.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,o+1)),f=()=>{let t;return t=i?p:c?h:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(se,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?a.createElement(ie,{location:r.location,revalidation:r.revalidation,component:p,error:i,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=a.useContext(q);return t||c(!1),t}function pe(e){let t=a.useContext(Q);return t||c(!1),t}function he(e){let t=function(){let e=a.useContext(K);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const ge={};function xe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function fe(e){let{to:t,replace:r,state:n,relative:o}=e;J()||c(!1);let{future:i,static:s}=a.useContext($),{matches:l}=a.useContext(K),{pathname:d}=Z(),u=te(),p=D(t,M(l,i.v7_relativeSplatPath),d,"path"===o),h=JSON.stringify(p);return a.useEffect((()=>u(JSON.parse(h),{replace:r,state:n,relative:o})),[u,h,o,r,n]),null}function me(e){c(!1)}function ye(e){let{basename:t="/",children:r=null,location:n,navigationType:i=o.Pop,navigator:s,static:l=!1,future:d}=e;J()&&c(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:s,static:l,future:Y({v7_relativeSplatPath:!1},d)})),[u,d,s,l]);"string"===typeof n&&(n=x(n));let{pathname:h="/",search:g="",hash:f="",state:m=null,key:y="default"}=n,b=a.useMemo((()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:g,hash:f,state:m,key:y},navigationType:i}}),[u,h,g,f,m,y,i]);return null==b?null:a.createElement($.Provider,{value:p},a.createElement(G.Provider,{children:r,value:b}))}function be(e){let{children:t,location:r}=e;return ne(ve(t),r)}new Promise((()=>{}));a.Component;function ve(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let o=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,ve(e.props.children,o));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ve(e.props.children,o)),r.push(i)})),r}var je=r(950),ke=r.t(je,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ug){}new Map;const Pe=i.startTransition;ke.flushSync,i.useId;function Be(e){let{basename:t,children:r,future:n,window:o}=e,i=a.useRef();var s;null==i.current&&(i.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),f((function(e,t){let{pathname:r,search:n,hash:o}=e.location;return h("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,s)));let l=i.current,[d,c]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=a.useCallback((e=>{u&&Pe?Pe((()=>c(e))):c(e)}),[c,u]);return a.useLayoutEffect((()=>l.listen(p)),[l,p]),a.useEffect((()=>xe(n)),[n]),a.createElement(ye,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:l,future:n})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=a.forwardRef((function(e,t){let r,{onClick:n,relative:o,reloadDocument:i,replace:s,state:l,target:d,to:u,preventScrollReset:p,viewTransition:h}=e,x=Se(e,Ce),{basename:f}=a.useContext($),m=!1;if("string"===typeof u&&Te.test(u)&&(r=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=I(t.pathname,f);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:m=!0}catch(ug){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;J()||c(!1);let{basename:n,navigator:o}=a.useContext($),{hash:i,pathname:s,search:l}=re(e,{relative:r}),d=s;return"/"!==n&&(d="/"===s?n:L([n,s])),o.createHref({pathname:d,search:l,hash:i})}(u,{relative:o}),b=function(e,t){let{target:r,replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:l}=void 0===t?{}:t,d=te(),c=Z(),u=re(e,{relative:s});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:g(c)===g(u);d(e,{replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:l})}}),[c,d,u,n,o,r,e,i,s,l])}(u,{replace:s,state:l,target:d,preventScrollReset:p,relative:o,viewTransition:h});return a.createElement("a",we({},x,{href:r||y,onClick:m||i?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:d}))}));var Ae,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));var Ie=r(579);const ze=(0,a.createContext)(),Ee=()=>{const e=(0,a.useContext)(ze);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Me={light:{background:"#f8fafc",cardBackground:"#ffffff",headerBackground:"#ffffff",modalBackground:"#ffffff",textPrimary:"#1e293b",textSecondary:"#64748b",textMuted:"#94a3b8",border:"#e5e7eb",borderLight:"#f1f5f9",buttonPrimary:"#3b82f6",buttonPrimaryHover:"#2563eb",buttonSecondary:"#6b7280",buttonSecondaryHover:"#4b5563",success:"#22c55e",successBg:"#f0fdf4",successBorder:"#bbf7d0",warning:"#f59e0b",warningBg:"#fffbeb",warningBorder:"#fed7aa",error:"#ef4444",errorBg:"#fef2f2",errorBorder:"#fecaca",info:"#3b82f6",infoBg:"#eff6ff",infoBorder:"#bfdbfe",hoverBg:"#f8fafc",hoverBgLight:"#f1f5f9",shadow:"0 4px 6px rgba(0,0,0,0.05)",shadowHover:"0 4px 12px rgba(0,0,0,0.1)",shadowModal:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},dark:{background:"#0f172a",cardBackground:"#1e293b",headerBackground:"#1e293b",modalBackground:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#cbd5e1",textMuted:"#94a3b8",border:"#334155",borderLight:"#475569",buttonPrimary:"#3b82f6",buttonPrimaryHover:"#2563eb",buttonSecondary:"#64748b",buttonSecondaryHover:"#475569",success:"#22c55e",successBg:"#064e3b",successBorder:"#166534",warning:"#f59e0b",warningBg:"#451a03",warningBorder:"#92400e",error:"#ef4444",errorBg:"#450a0a",errorBorder:"#dc2626",info:"#3b82f6",infoBg:"#1e3a8a",infoBorder:"#1d4ed8",hoverBg:"#334155",hoverBgLight:"#475569",shadow:"0 4px 6px rgba(0,0,0,0.3)",shadowHover:"0 4px 12px rgba(0,0,0,0.4)",shadowModal:"0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2)"}},De=e=>{let{children:t}=e;const[r,n]=(0,a.useState)((()=>{const e=localStorage.getItem("brokerhub-theme");return e?"dark"===e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches})),o=r?Me.dark:Me.light;(0,a.useEffect)((()=>{document.body.setAttribute("data-theme",r?"dark":"light")}),[r]),(0,a.useEffect)((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("brokerhub-theme")||n(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}),[]);const i={isDarkMode:r,theme:o,toggleTheme:()=>{const e=!r;n(e),localStorage.setItem("brokerhub-theme",e?"dark":"light")},themes:Me};return(0,Ie.jsx)(ze.Provider,{value:i,children:t})};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Oe(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Fe(e,t,r){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ve}=Object.prototype,{getPrototypeOf:Ye}=Object,{iterator:qe,toStringTag:Qe}=Symbol,$e=(Ge=Object.create(null),e=>{const t=Ve.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Ke=e=>(e=e.toLowerCase(),t=>$e(t)===e),Xe=e=>t=>typeof t===e,{isArray:Je}=Array,Ze=Xe("undefined");const et=Ke("ArrayBuffer");const tt=Xe("string"),rt=Xe("function"),nt=Xe("number"),ot=e=>null!==e&&"object"===typeof e,at=e=>{if("object"!==$e(e))return!1;const t=Ye(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Qe in e)&&!(qe in e)},it=Ke("Date"),st=Ke("File"),lt=Ke("Blob"),dt=Ke("FileList"),ct=Ke("URLSearchParams"),[ut,pt,ht,gt]=["ReadableStream","Request","Response","Headers"].map(Ke);function xt(e,t){let r,n,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Je(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(r=0;r<a;r++)i=n[r],t.call(null,e[i],i,e)}}function ft(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,o=r.length;for(;o-- >0;)if(n=r[o],t===n.toLowerCase())return n;return null}const mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yt=e=>!Ze(e)&&e!==mt;const bt=(vt="undefined"!==typeof Uint8Array&&Ye(Uint8Array),e=>vt&&e instanceof vt);var vt;const jt=Ke("HTMLFormElement"),kt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),wt=Ke("RegExp"),St=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};xt(r,((r,o)=>{let a;!1!==(a=t(r,o,e))&&(n[o]=a||r)})),Object.defineProperties(e,n)};const Ct=Ke("AsyncFunction"),Pt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],mt.addEventListener("message",(e=>{let{source:t,data:o}=e;t===mt&&o===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),mt.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,rt(mt.postMessage)),Bt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(mt):"undefined"!==typeof process&&process.nextTick||Pt,Nt={isArray:Je,isArrayBuffer:et,isBuffer:function(e){return null!==e&&!Ze(e)&&null!==e.constructor&&!Ze(e.constructor)&&rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||rt(e.append)&&("formdata"===(t=$e(e))||"object"===t&&rt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&et(e.buffer),t},isString:tt,isNumber:nt,isBoolean:e=>!0===e||!1===e,isObject:ot,isPlainObject:at,isReadableStream:ut,isRequest:pt,isResponse:ht,isHeaders:gt,isUndefined:Ze,isDate:it,isFile:st,isBlob:lt,isRegExp:wt,isFunction:rt,isStream:e=>ot(e)&&rt(e.pipe),isURLSearchParams:ct,isTypedArray:bt,isFileList:dt,forEach:xt,merge:function e(){const{caseless:t}=yt(this)&&this||{},r={},n=(n,o)=>{const a=t&&ft(r,o)||o;at(r[a])&&at(n)?r[a]=e(r[a],n):at(n)?r[a]=e({},n):Je(n)?r[a]=n.slice():r[a]=n};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&xt(arguments[o],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xt(t,((t,n)=>{r&&rt(t)?e[n]=He(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],n&&!n(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==r&&Ye(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:$e,kindOfTest:Ke,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Je(e))return e;let t=e.length;if(!nt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[qe]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:jt,hasOwnProperty:kt,hasOwnProp:kt,reduceDescriptors:St,freezeMethods:e=>{St(e,((t,r)=>{if(rt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];rt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Je(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ft,global:mt,isContextDefined:yt,isSpecCompliantForm:function(e){return!!(e&&rt(e.append)&&"FormData"===e[Qe]&&e[qe])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(ot(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=Je(e)?[]:{};return xt(e,((e,t)=>{const a=r(e,n+1);!Ze(a)&&(o[t]=a)})),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:Ct,isThenable:e=>e&&(ot(e)||rt(e))&&rt(e.then)&&rt(e.catch),setImmediate:Pt,asap:Bt,isIterable:e=>null!=e&&rt(e[qe])};function Tt(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Nt.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nt.toJSONObject(this.config),code:this.code,status:this.status}}});const Rt=Tt.prototype,At={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{At[e]={value:e}})),Object.defineProperties(Tt,At),Object.defineProperty(Rt,"isAxiosError",{value:!0}),Tt.from=(e,t,r,n,o,a)=>{const i=Object.create(Rt);return Nt.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Tt.call(i,e.message,t,r,n,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const _t=Tt;function It(e){return Nt.isPlainObject(e)||Nt.isArray(e)}function zt(e){return Nt.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,r){return e?e.concat(t).map((function(e,t){return e=zt(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Mt=Nt.toFlatObject(Nt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Dt=function(e,t,r){if(!Nt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Nt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Nt.isUndefined(t[e])}))).metaTokens,o=r.visitor||d,a=r.dots,i=r.indexes,s=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Nt.isSpecCompliantForm(t);if(!Nt.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Nt.isDate(e))return e.toISOString();if(!s&&Nt.isBlob(e))throw new _t("Blob is not supported. Use a Buffer instead.");return Nt.isArrayBuffer(e)||Nt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,r,o){let s=e;if(e&&!o&&"object"===typeof e)if(Nt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Nt.isArray(e)&&function(e){return Nt.isArray(e)&&!e.some(It)}(e)||(Nt.isFileList(e)||Nt.endsWith(r,"[]"))&&(s=Nt.toArray(e)))return r=zt(r),s.forEach((function(e,n){!Nt.isUndefined(e)&&null!==e&&t.append(!0===i?Et([r],n,a):null===i?r:r+"[]",l(e))})),!1;return!!It(e)||(t.append(Et(o,r,a),l(e)),!1)}const c=[],u=Object.assign(Mt,{defaultVisitor:d,convertValue:l,isVisitable:It});if(!Nt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Nt.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),Nt.forEach(r,(function(r,a){!0===(!(Nt.isUndefined(r)||null===r)&&o.call(t,r,Nt.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])})),c.pop()}}(e),t};function Lt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ot(e,t){this._pairs=[],e&&Dt(e,this,t)}const Ft=Ot.prototype;Ft.append=function(e,t){this._pairs.push([e,t])},Ft.toString=function(e){const t=e?function(t){return e.call(this,t,Lt)}:Lt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Wt=Ot;function Ut(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ht(e,t,r){if(!t)return e;const n=r&&r.encode||Ut;Nt.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(a=o?o(t,r):Nt.isURLSearchParams(t)?t.toString():new Wt(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Vt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Yt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Wt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Qt="undefined"!==typeof window&&"undefined"!==typeof document,$t="object"===typeof navigator&&navigator||void 0,Gt=Qt&&(!$t||["ReactNative","NativeScript","NS"].indexOf($t.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Xt=Qt&&window.location.href||"http://localhost",Jt=Ue(Ue({},n),qt);const Zt=function(e){function t(e,r,n,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&Nt.isArray(n)?n.length:a,s)return Nt.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!i;n[a]&&Nt.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],o)&&Nt.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}(n[a])),!i}if(Nt.isFormData(e)&&Nt.isFunction(e.entries)){const r={};return Nt.forEachEntry(e,((e,n)=>{t(function(e){return Nt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const er={transitional:Yt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,o=Nt.isObject(e);o&&Nt.isHTMLForm(e)&&(e=new FormData(e));if(Nt.isFormData(e))return n?JSON.stringify(Zt(e)):e;if(Nt.isArrayBuffer(e)||Nt.isBuffer(e)||Nt.isStream(e)||Nt.isFile(e)||Nt.isBlob(e)||Nt.isReadableStream(e))return e;if(Nt.isArrayBufferView(e))return e.buffer;if(Nt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Dt(e,new Jt.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Jt.isNode&&Nt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Nt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Dt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,r){if(Nt.isString(e))try{return(t||JSON.parse)(e),Nt.trim(e)}catch(ug){if("SyntaxError"!==ug.name)throw ug}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||er.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Nt.isResponse(e)||Nt.isReadableStream(e))return e;if(e&&Nt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(ug){if(r){if("SyntaxError"===ug.name)throw _t.from(ug,_t.ERR_BAD_RESPONSE,this,null,this.response);throw ug}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nt.forEach(["delete","get","head","post","put","patch"],(e=>{er.headers[e]={}}));const tr=er,rr=Nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nr=Symbol("internals");function or(e){return e&&String(e).trim().toLowerCase()}function ar(e){return!1===e||null==e?e:Nt.isArray(e)?e.map(ar):String(e)}function ir(e,t,r,n,o){return Nt.isFunction(n)?n.call(this,t,r):(o&&(t=r),Nt.isString(t)?Nt.isString(n)?-1!==t.indexOf(n):Nt.isRegExp(n)?n.test(t):void 0:void 0)}class sr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function o(e,t,r){const o=or(t);if(!o)throw new Error("header name must be a non-empty string");const a=Nt.findKey(n,o);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=ar(e))}const a=(e,t)=>Nt.forEach(e,((e,r)=>o(e,r,t)));if(Nt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Nt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),r=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!r||t[r]&&rr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(Nt.isObject(e)&&Nt.isIterable(e)){let r,n,o={};for(const t of e){if(!Nt.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[n=t[0]]=(r=o[n])?Nt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(o,t)}else null!=e&&o(t,e,r);return this}get(e,t){if(e=or(e)){const r=Nt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Nt.isFunction(t))return t.call(this,e,r);if(Nt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=or(e)){const r=Nt.findKey(this,e);return!(!r||void 0===this[r]||t&&!ir(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function o(e){if(e=or(e)){const o=Nt.findKey(r,e);!o||t&&!ir(0,r[o],o,t)||(delete r[o],n=!0)}}return Nt.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const o=t[r];e&&!ir(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,r={};return Nt.forEach(this,((n,o)=>{const a=Nt.findKey(r,o);if(a)return t[a]=ar(n),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(o):String(o).trim();i!==o&&delete t[o],t[i]=ar(n),r[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Nt.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Nt.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[nr]=this[nr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=or(e);t[n]||(!function(e,t){const r=Nt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return Nt.isArray(e)?e.forEach(n):n(e),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Nt.reduceDescriptors(sr.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),Nt.freezeMethods(sr);const lr=sr;function dr(e,t){const r=this||tr,n=t||r,o=lr.from(n.headers);let a=n.data;return Nt.forEach(e,(function(e){a=e.call(r,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function cr(e){return!(!e||!e.__CANCEL__)}function ur(e,t,r){_t.call(this,null==e?"canceled":e,_t.ERR_CANCELED,t,r),this.name="CanceledError"}Nt.inherits(ur,_t,{__CANCEL__:!0});const pr=ur;function hr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new _t("Request failed with status code "+r.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const gr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),d=n[i];o||(o=l),r[a]=s,n[a]=l;let c=i,u=0;for(;c!==a;)u+=r[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const p=d&&l-d;return p?Math.round(1e3*u/p):void 0}};const xr=function(e,t){let r,n,o=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];t>=a?i(l,e):(r=l,n||(n=setTimeout((()=>{n=null,i(r)}),a-t)))},()=>r&&i(r)]},fr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const o=gr(50,250);return xr((r=>{const a=r.loaded,i=r.lengthComputable?r.total:void 0,s=a-n,l=o(s);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),r)},mr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},yr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nt.asap((()=>e(...r)))},br=Jt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Jt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,vr=Jt.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const i=[e+"="+encodeURIComponent(t)];Nt.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Nt.isString(n)&&i.push("path="+n),Nt.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const kr=e=>e instanceof lr?Ue({},e):e;function wr(e,t){t=t||{};const r={};function n(e,t,r,n){return Nt.isPlainObject(e)&&Nt.isPlainObject(t)?Nt.merge.call({caseless:n},e,t):Nt.isPlainObject(t)?Nt.merge({},t):Nt.isArray(t)?t.slice():t}function o(e,t,r,o){return Nt.isUndefined(t)?Nt.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function a(e,t){if(!Nt.isUndefined(t))return n(void 0,t)}function i(e,t){return Nt.isUndefined(t)?Nt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,o,a){return a in t?n(r,o):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,r)=>o(kr(e),kr(t),0,!0)};return Nt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||o,i=a(e[n],t[n],n);Nt.isUndefined(i)&&a!==s||(r[n]=i)})),r}const Sr=e=>{const t=wr({},e);let r,{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=lr.from(s),t.url=Ht(jr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Nt.isFormData(n))if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Jt.hasStandardBrowserEnv&&(o&&Nt.isFunction(o)&&(o=o(t)),o||!1!==o&&br(t.url))){const e=a&&i&&vr.read(i);e&&s.set(a,e)}return t},Cr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Sr(e);let o=n.data;const a=lr.from(n.headers).normalize();let i,s,l,d,c,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=n;function g(){d&&d(),c&&c(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function f(){if(!x)return;const n=lr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());hr((function(e){t(e),g()}),(function(e){r(e),g()}),{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(r(new _t("Request aborted",_t.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new _t("Network Error",_t.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||Yt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new _t(t,o.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,x)),x=null},void 0===o&&a.setContentType(null),"setRequestHeader"in x&&Nt.forEach(a.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),Nt.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),h&&([l,c]=fr(h,!0),x.addEventListener("progress",l)),p&&x.upload&&([s,d]=fr(p),x.upload.addEventListener("progress",s),x.upload.addEventListener("loadend",d)),(n.cancelToken||n.signal)&&(i=t=>{x&&(r(!t||t.type?new pr(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===Jt.protocols.indexOf(m)?r(new _t("Unsupported protocol "+m+":",_t.ERR_BAD_REQUEST,e)):x.send(o||null)}))},Pr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const o=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof _t?t:new pr(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new _t("timeout ".concat(t," of ms exceeded"),_t.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=n;return s.unsubscribe=()=>Nt.asap(i),s}};function Br(e,t){this.v=e,this.k=t}function Nr(e){return function(){return new Tr(e.apply(this,arguments))}}function Tr(e){var t,r;function n(t,r){try{var a=e[t](r),i=a.value,s=i instanceof Br;Promise.resolve(s?i.v:i).then((function(r){if(s){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}o(a.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(a,i){var s={key:e,arg:o,resolve:a,reject:i,next:null};r?r=r.next=s:(t=r=s,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Rr(e){return new Br(e,0)}function Ar(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new Br(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function _r(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Ir(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Ir(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ir=function(e){this.s=e,this.n=e.next},Ir.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Ir(e)}Tr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Tr.prototype.next=function(e){return this._invoke("next",e)},Tr.prototype.throw=function(e){return this._invoke("throw",e)},Tr.prototype.return=function(e){return this._invoke("return",e)};const zr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},Er=function(){var e=Nr((function*(e,t){var r,n=!1,o=!1;try{for(var a,i=_r(Mr(e));n=!(a=yield Rr(i.next())).done;n=!1){const e=a.value;yield*Ar(_r(zr(e,t)))}}catch(s){o=!0,r=s}finally{try{n&&null!=i.return&&(yield Rr(i.return()))}finally{if(o)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),Mr=function(){var e=Nr((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ar(_r(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Rr(t.read());if(e)break;yield r}}finally{yield Rr(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Dr=(e,t,r,n)=>{const o=Er(e,t);let a,i=0,s=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return s(),void e.close();let a=n.byteLength;if(r){let e=i+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Lr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Or=Lr&&"function"===typeof ReadableStream,Fr=Lr&&("function"===typeof TextEncoder?(Wr=new TextEncoder,e=>Wr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Wr;const Ur=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(ug){return!1}},Hr=Or&&Ur((()=>{let e=!1;const t=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Vr=Or&&Ur((()=>Nt.isReadableStream(new Response("").body))),Yr={stream:Vr&&(e=>e.body)};var qr;Lr&&(qr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Yr[e]&&(Yr[e]=Nt.isFunction(qr[e])?t=>t[e]():(t,r)=>{throw new _t("Response type '".concat(e,"' is not supported"),_t.ERR_NOT_SUPPORT,r)})})));const Qr=async(e,t)=>{const r=Nt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Nt.isBlob(e))return e.size;if(Nt.isSpecCompliantForm(e)){const t=new Request(Jt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Nt.isArrayBufferView(e)||Nt.isArrayBuffer(e)?e.byteLength:(Nt.isURLSearchParams(e)&&(e+=""),Nt.isString(e)?(await Fr(e)).byteLength:void 0)})(t):r},$r=Lr&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:d,headers:c,withCredentials:u="same-origin",fetchOptions:p}=Sr(e);d=d?(d+"").toLowerCase():"text";let h,g=Pr([o,a&&a.toAbortSignal()],i);const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let f;try{if(l&&Hr&&"get"!==r&&"head"!==r&&0!==(f=await Qr(c,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Nt.isFormData(n)&&(e=r.headers.get("content-type"))&&c.setContentType(e),r.body){const[e,t]=mr(f,fr(yr(l)));n=Dr(r.body,65536,e,t)}}Nt.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,Ue(Ue({},p),{},{signal:g,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:o?u:void 0}));let a=await fetch(h);const i=Vr&&("stream"===d||"response"===d);if(Vr&&(s||i&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Nt.toFiniteNumber(a.headers.get("content-length")),[r,n]=s&&mr(t,fr(yr(s),!0))||[];a=new Response(Dr(a.body,65536,r,(()=>{n&&n(),x&&x()})),e)}d=d||"text";let m=await Yr[Nt.findKey(Yr,d)||"text"](a,e);return!i&&x&&x(),await new Promise(((t,r)=>{hr(t,r,{data:m,headers:lr.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})}))}catch(m){if(x&&x(),m&&"TypeError"===m.name&&/Load failed|fetch/i.test(m.message))throw Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,h),{cause:m.cause||m});throw _t.from(m,m&&m.code,e,h)}}),Gr={http:null,xhr:Cr,fetch:$r};Nt.forEach(Gr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ug){}Object.defineProperty(e,"adapterName",{value:t})}}));const Kr=e=>"- ".concat(e),Xr=e=>Nt.isFunction(e)||null===e||!1===e,Jr=e=>{e=Nt.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){let t;if(r=e[a],n=r,!Xr(r)&&(n=Gr[(t=String(r)).toLowerCase()],void 0===n))throw new _t("Unknown adapter '".concat(t,"'"));if(n)break;o[t||"#"+a]=n}if(!n){const e=Object.entries(o).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Kr).join("\n"):" "+Kr(e[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Zr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pr(null,e)}function en(e){Zr(e),e.headers=lr.from(e.headers),e.data=dr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jr(e.adapter||tr.adapter)(e).then((function(t){return Zr(e),t.data=dr.call(e,e.transformResponse,t),t.headers=lr.from(t.headers),t}),(function(t){return cr(t)||(Zr(e),t&&t.response&&(t.response.data=dr.call(e,e.transformResponse,t.response),t.response.headers=lr.from(t.response.headers))),Promise.reject(t)}))}const tn="1.9.0",rn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{rn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const nn={};rn.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,o,a)=>{if(!1===e)throw new _t(n(o," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!nn[o]&&(nn[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}},rn.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const on={assertOptions:function(e,t,r){if("object"!==typeof e)throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const t=e[a],r=void 0===t||i(t,a,e);if(!0!==r)throw new _t("option "+a+" must be "+r,_t.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new _t("Unknown option "+a,_t.ERR_BAD_OPTION)}},validators:rn},an=on.validators;class sn{constructor(e){this.defaults=e||{},this.interceptors={request:new Vt,response:new Vt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(ug){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=wr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:o}=t;void 0!==r&&on.assertOptions(r,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),null!=n&&(Nt.isFunction(n)?t.paramsSerializer={serialize:n}:on.assertOptions(n,{encode:an.function,serialize:an.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),on.assertOptions(t,{baseUrl:an.spelling("baseURL"),withXsrfToken:an.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Nt.merge(o.common,o[t.method]);o&&Nt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=lr.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let d;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,u=0;if(!s){const e=[en.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),c=e.length,d=Promise.resolve(t);u<c;)d=d.then(e[u++],e[u++]);return d}c=i.length;let p=t;for(u=0;u<c;){const e=i[u++],t=i[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{d=en.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,c=l.length;u<c;)d=d.then(l[u++],l[u++]);return d}getUri(e){return Ht(jr((e=wr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Nt.forEach(["delete","get","head","options"],(function(e){sn.prototype[e]=function(t,r){return this.request(wr(r||{},{method:e,url:t,data:(r||{}).data}))}})),Nt.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(wr(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}sn.prototype[e]=t(),sn.prototype[e+"Form"]=t(!0)}));const ln=sn;class dn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,o){r.reason||(r.reason=new pr(e,n,o),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dn((function(t){e=t})),cancel:e}}}const cn=dn;const un={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(un).forEach((e=>{let[t,r]=e;un[r]=t}));const pn=un;const hn=function e(t){const r=new ln(t),n=He(ln.prototype.request,r);return Nt.extend(n,ln.prototype,r,{allOwnKeys:!0}),Nt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(wr(t,r))},n}(tr);hn.Axios=ln,hn.CanceledError=pr,hn.CancelToken=cn,hn.isCancel=cr,hn.VERSION=tn,hn.toFormData=Dt,hn.AxiosError=_t,hn.Cancel=hn.CanceledError,hn.all=function(e){return Promise.all(e)},hn.spread=function(e){return function(t){return e.apply(null,t)}},hn.isAxiosError=function(e){return Nt.isObject(e)&&!0===e.isAxiosError},hn.mergeConfig=wr,hn.AxiosHeaders=lr,hn.formToJSON=e=>Zt(Nt.isHTMLForm(e)?new FormData(e):e),hn.getAdapter=Jr,hn.HttpStatusCode=pn,hn.default=hn;const gn=hn;var xn;const fn=(null===(xn=window.APP_CONFIG)||void 0===xn?void 0:xn.API_URL)||"http://localhost:8080/BrokerHub",mn=gn.create({baseURL:fn,headers:{"Content-Type":"application/json"}}),yn=new Map,bn=e=>{const t=(e.method||"get").toLowerCase(),r=e.url||"",n=e.params?JSON.stringify(e.params):"",o=e.data?"string"===typeof e.data?e.data:JSON.stringify(e.data):"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(o)};mn.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t));const r=bn(e);if(yn.has(r))return new Promise(((t,n)=>{yn.get(r).promise.then((()=>t(e))).catch(n)}));const n=new AbortController;e.signal=n.signal;const o={controller:n,promise:Promise.resolve()};return yn.set(r,o),e}),(e=>Promise.reject(e))),mn.interceptors.response.use((e=>{const t=bn(e.config||{});return yn.has(t)&&yn.delete(t),e}),(e=>{var t;try{const t=bn(e.config||{});yn.delete(t)}catch(n){}if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){var r;const t=(null===(r=e.config)||void 0===r?void 0:r.url)||"";["/auth/password-reset/request","/auth/password-reset/confirm","/auth/register","/Broker/login","/auth/verify-email"].some((e=>t.includes(e)))||(localStorage.removeItem("authToken"),localStorage.removeItem("brokerId"),localStorage.removeItem("brokerName"),localStorage.removeItem("userName"),window.location.href="/login")}return Promise.reject(e)}));const vn={registerBroker:async e=>{try{return(await mn.post("/Broker/createBroker",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},loginBroker:async e=>{try{const t=await mn.post("/Broker/login",e);return 200===t.status&&t.data&&(localStorage.setItem("authToken",t.data.token),localStorage.setItem("brokerId",t.data.brokerId),localStorage.setItem("brokerName",t.data.brokerName),localStorage.setItem("userName",t.data.username)),t.data}catch(r){var t;throw console.error("Login error:",r),(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},changePassword:async e=>{try{return(await mn.put("/Broker/changePassword",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},forgotPassword:async e=>{try{return(await mn.get("/Broker/forgotPassword",{params:{userName:e}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},createPassword:async e=>{let{email:t,password:r}=e;try{return(await mn.put("/Broker/createPassword",{email:t,password:r})).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}},verifyAccount:async(e,t)=>{try{return(await mn.post("/Broker/verify-account",null,{params:{userName:e,otp:t}})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},regenerateOtp:async e=>{try{return(await mn.put("/Broker/regenerate-otp",null,{params:{email:e}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},checkUsernameExists:async e=>{try{return(await mn.get("/Broker/UserNameExists/".concat(encodeURIComponent(e)))).data||!1}catch(r){var t;throw console.error("Username check error:",r),(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},checkBrokerFirmNameExists:async e=>{try{return(await mn.get("/Broker/BrokerFirmNameExists/".concat(encodeURIComponent(e)))).data||!1}catch(r){var t;throw console.error("Firm name check error:",r),(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},createBroker:async e=>{try{return(await mn.post("/Broker/createBroker",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("brokerId"),localStorage.removeItem("brokerName"),localStorage.removeItem("userName")}},jn=async e=>{try{return(await mn.post("/user/createUser",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},kn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"firmName,asc",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const o=n?"/user/getUserSummary?financialYearId=".concat(n,"&page=").concat(e,"&size=").concat(t,"&sort=").concat(r):"/user/getUserSummary?page=".concat(e,"&size=").concat(t,"&sort=").concat(r);return(await mn.get(o)).data}catch(a){var o;throw(null===(o=a.response)||void 0===o?void 0:o.data)||a.message}},wn=async()=>{try{return(await mn.get("/user/getFirmNamesIdsAndCities")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},Sn=async()=>{try{return(await mn.get("/user/cities")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},Cn=async e=>{try{return(await mn.get("/user/merchants",{params:{city:e}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Pn=async e=>{try{const t=new FormData;t.append("file",e);return(await mn.post("/user/bulkUpload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Bn=async()=>{try{return(await mn.get("/user/downloadTemplate",{responseType:"blob"})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},Nn=async e=>{try{return(await mn.post("/Product/createProduct",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Tn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{return(await mn.get("/Product/allProducts?page=".concat(e,"&size=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},Rn=async()=>{try{return(await mn.get("/Product/getProductNamesAndQualitiesAndQuantitesWithId")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},An=async e=>{try{return(await mn.put("/Product/updateProduct",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},_n=async e=>{try{return(await mn.delete("/Product/deleteProduct/".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},In=async e=>{try{const t=new FormData;t.append("file",e);return(await mn.post("/Product/bulkUpload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},zn=async()=>{try{return(await mn.get("/Product/downloadTemplate",{responseType:"blob"})).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},En=async e=>{try{const t=localStorage.getItem("brokerId");if(!t)throw new Error("Broker ID not found. Please login again.");return(await mn.get("/Dashboard/".concat(t,"/getFinancialYearAnalytics/").concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Mn=async e=>{try{const t=localStorage.getItem("brokerId");if(!t)throw new Error("Broker ID not found. Please login again.");return(await mn.get("/Dashboard/".concat(t,"/getTopPerformers/").concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Dn=async e=>{try{const t=localStorage.getItem("brokerId");if(!t)throw new Error("Broker ID not found. Please login again.");return(await mn.get("/Dashboard/".concat(t,"/getTop5BuyersByQuantity/").concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Ln=async e=>{try{const t=localStorage.getItem("brokerId");if(!t)throw new Error("Broker ID not found. Please login again.");return(await mn.get("/Dashboard/".concat(t,"/getTop5SellersByQuantity/").concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},On=async e=>{try{const t=localStorage.getItem("brokerId");if(!t)throw new Error("Broker ID not found. Please login again.");return(await mn.get("/Dashboard/".concat(t,"/getTop5MerchantsByBrokerage/").concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Fn=async e=>{try{return(await mn.post("/Dashboard/refreshCache/".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Wn=async()=>{try{return(await mn.post("/Dashboard/refreshAllCache")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},Un=async e=>{try{return(await mn.post("/FinancialYear/create",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Hn=async()=>{try{return(await mn.get("/FinancialYear/getAllFinancialYears")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},Vn=async e=>{try{return(await mn.post("/FinancialYear/setCurrentFinancialYear?financialYearId=".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Yn=async()=>{try{return(await mn.get("/FinancialYear/getCurrentFinancialYear")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},qn={createLedgerDetails:async e=>{try{return(await mn.post("/LedgerDetails/createLedgerDetails",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getAllLedgerDetails:async e=>{try{return(await mn.post("/LedgerDetails/getAllLedgerDetails",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getLedgerDetailsById:async(e,t)=>{try{return(await mn.get("/LedgerDetails/getLedgerDetailsById?ledgerDetailId=".concat(e,"&brokerId=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},getLedgerDetailsByTransactionNumber:async(e,t,r)=>{try{return(await mn.get("/LedgerDetails/getLedgerDetailsByTransactionNumber?transactionNumber=".concat(e,"&brokerId=").concat(t,"&financialYearId=").concat(r))).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}},getOptimizedLedgerDetailsById:async(e,t)=>{try{return(await mn.get("/LedgerDetails/getOptimizedLedgerDetailsById?ledgerDetailId=".concat(e,"&brokerId=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},getOptimizedLedgerDetailsByTransactionNumber:async(e,t,r)=>{try{return(await mn.get("/LedgerDetails/getOptimizedLedgerDetailsByTransactionNumber?transactionNumber=".concat(e,"&brokerId=").concat(t,"&financialYearId=").concat(r))).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}},getLedgerDetailsByDate:async(e,t)=>{try{return(await mn.get("/LedgerDetails/getLedgerDetailsByDate?date=".concat(e,"&brokerId=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},getLedgerDetailsBySeller:async(e,t)=>{try{return(await mn.get("/LedgerDetails/getLedgerDetailsBySeller?sellerId=".concat(e,"&brokerId=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},updateLedgerDetailByTransactionNumber:async(e,t,r,n)=>{try{return(await mn.put("/LedgerDetails/updateLedgerDetailByTransactionNumber?transactionNumber=".concat(e,"&brokerId=").concat(t,"&financialYearId=").concat(r),n)).data}catch(a){var o;throw(null===(o=a.response)||void 0===o?void 0:o.data)||a.message}},createLedgerDetailsWithExcelJson:async e=>{try{return(await mn.post("/LedgerDetails/createLedgerDetailsWithExcelJson",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},deleteLedgerDetailByTransactionNumber:async(e,t,r)=>{try{return(await mn.delete("/LedgerDetails/deleteLedgerDetailByTransactionNumber?transactionNumber=".concat(e,"&brokerId=").concat(t,"&financialYearId=").concat(r))).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}}},Qn=async()=>{try{return(await mn.get("/Address/getAllAddresses")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},$n=async e=>{try{return(await mn.post("/Address/createAddress",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Gn=async e=>{try{return(await mn.put("/Address/updateAddress",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Kn=async(e,t)=>{try{return(await mn.get("/Address/getCitiesAlongRoute?source=".concat(encodeURIComponent(e),"&destination=").concat(encodeURIComponent(t)))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},Xn=async e=>{try{return(await mn.get("/Address/getMerchantsInCity/".concat(encodeURIComponent(e)))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},Jn=async(e,t)=>{try{return(await mn.post("/grain-costs/".concat(e),t,{headers:{Authorization:"Basic dGFydW46c2VjdXJlUGFzc3dvcmQxMjM="}})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},Zn=async e=>{try{return(await mn.get("/grain-costs/".concat(e),{headers:{Authorization:"Basic dGFydW46c2VjdXJlUGFzc3dvcmQxMjM="}})).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},eo=async(e,t)=>{try{return(await mn.delete("/grain-costs/".concat(e,"/").concat(t),{headers:{Authorization:"Basic dGFydW46c2VjdXJlUGFzc3dvcmQxMjM="}})).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},to=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"a4",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"portrait";try{let a="/Brokerage/city-wise-print-bill/".concat(e,"/").concat(t,"?paperSize=").concat(n,"&orientation=").concat(o);null!==r&&(a+="&customBrokerage=".concat(r));return(await mn.get(a,{responseType:"blob",headers:{Accept:"text/html"}})).data}catch(i){var a;throw(null===(a=i.response)||void 0===a?void 0:a.data)||i.message}},ro=async e=>{try{return(await mn.post("/api/contacts/sections",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},no=async(e,t)=>{try{return(await mn.put("/api/contacts/sections/".concat(e),t)).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},oo=async e=>{try{return(await mn.delete("/api/contacts/sections/".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},ao=async()=>{try{return(await mn.get("/api/contacts/sections/root")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},io=async e=>{try{return(await mn.get("/api/contacts/sections/".concat(e,"/children"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},so=async e=>{try{return(await mn.post("/api/contacts",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},lo=async e=>{try{return(await mn.get("/api/contacts/section/".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},co=async(e,t)=>{try{return(await mn.put("/api/contacts/".concat(e),t)).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},uo=async e=>{try{return(await mn.delete("/api/contacts/".concat(e))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},po=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{return(await mn.get("/api/contacts/search?query=".concat(encodeURIComponent(e),"&page=").concat(t,"&size=").concat(r))).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}},ho=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await mn.get("/api/contacts/paginated?page=".concat(e,"&size=").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},go=mn,xo=(0,a.createContext)(),fo=()=>{const e=(0,a.useContext)(xo);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},mo=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),u=(0,a.useCallback)((async()=>{try{const e=localStorage.getItem("authToken"),t=localStorage.getItem("brokerId"),r=localStorage.getItem("brokerName"),o=localStorage.getItem("userName");e&&t?(n(!0),i({brokerId:parseInt(t),brokerName:r,userName:o,token:e})):(n(!1),i(null)),c(null)}catch(d){console.error("Error checking auth status:",d),p(),c(d.message)}finally{l(!1)}}),[]);(0,a.useEffect)((()=>{u()}),[u]);const p=()=>{l(!0);try{vn.logout(),n(!1),i(null),c(null)}catch(d){console.error("Logout error:",d),c(d.message)}finally{l(!1)}},h={isAuthenticated:r,user:o,loading:s,error:d,login:async e=>{try{l(!0),c(null);const t=await vn.loginBroker(e),r=localStorage.getItem("authToken"),o=localStorage.getItem("brokerId"),a=localStorage.getItem("brokerName"),s=localStorage.getItem("userName");if(!r||!o)throw new Error("Login failed - missing authentication data");return n(!0),i({brokerId:parseInt(o),brokerName:a,userName:s,token:r}),t}catch(d){throw console.error("Login error:",d),c(d.message),d}finally{l(!1)}},logout:p,updateProfile:async e=>{try{l(!0),c(null);const t=Ue(Ue({},o),e);return i(t),e.brokerName&&localStorage.setItem("brokerName",e.brokerName),e.userName&&localStorage.setItem("userName",e.userName),t}catch(d){throw console.error("Profile update error:",d),c(d.message),d}finally{l(!1)}},checkAuthStatus:u};return(0,Ie.jsx)(xo.Provider,{value:h,children:t})},yo=async e=>(await go.get("/Brokerage/summary/".concat(e))).data,bo=async(e,t)=>(await go.get("/Brokerage/user-detail/".concat(e,"/").concat(t))).data,vo=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o="/Brokerage/bill/".concat(e,"/").concat(t).concat(r?"?customBrokerage=".concat(r):""),a=await go.get(o,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const l=n?n.replace(/[^a-zA-Z0-9]/g,"_"):e,d=r?"".concat(l,"_bill_custom_").concat(r,".html"):"".concat(l,"_bill.html");s.download=d,s.click(),window.URL.revokeObjectURL(i)},jo=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o="/Brokerage/excel/user/".concat(e,"/").concat(t).concat(r?"?customBrokerage=".concat(r):""),a=await go.get(o,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const l=n?n.replace(/[^a-zA-Z0-9]/g,"_"):e,d=r?"".concat(l,"_bill_custom_").concat(r,".xlsx"):"".concat(l,"_bill.xlsx");s.download=d,s.click(),window.URL.revokeObjectURL(i)},ko=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o="/Brokerage/bill/pdf/".concat(e,"/").concat(t).concat(r?"?customBrokerage=".concat(r):""),a=await go.get(o,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const l=n?n.replace(/[^a-zA-Z0-9]/g,"_"):e,d=r?"".concat(l,"_bill_custom_").concat(r,".pdf"):"".concat(l,"_bill.pdf");s.download=d,s.click(),window.URL.revokeObjectURL(i)},wo=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{customBrokerage:n=null,firmName:o=null}=r,a="/Brokerage/print-bill/".concat(e,"/").concat(t).concat(n?"?customBrokerage=".concat(n):""),i=await go.get(a,{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([i.data])),l=document.createElement("a");l.href=s;const d=o?o.replace(/[^a-zA-Z0-9]/g,"_"):e,c=n?"".concat(d,"_print_bill_custom_").concat(n,".html"):"".concat(d,"_print_bill.html");l.download=c,l.click(),window.URL.revokeObjectURL(s)},So=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o="/Brokerage/city-wise-print-bill/".concat(e,"/").concat(t).concat(r?"?customBrokerage=".concat(r):""),a=await go.get(o,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const l=n?n.replace(/[^a-zA-Z0-9]/g,"_"):e,d=r?"".concat(l,"_city_wise_print_bill_custom_").concat(r,".html"):"".concat(l,"_city_wise_print_bill.html");s.download=d,s.click(),window.URL.revokeObjectURL(i)},Co=async e=>{const t=await go.get("/Brokerage/excel/summary/".concat(e),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=r,n.download="summary_".concat(e,".xlsx"),n.click(),window.URL.revokeObjectURL(r)},Po=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n="/Brokerage/bulk-bills/html/".concat(t).concat(r?"?customBrokerage=".concat(r):"");return{status:"success",data:(await go.post(n,e)).data}},Bo=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n="/Brokerage/bulk-excel/users/".concat(t).concat(r?"?customBrokerage=".concat(r):"");return{status:"success",data:(await go.post(n,e)).data}},No=async()=>(await go.get("/Documents/status")).data,To=(0,a.createContext)(),Ro=(e,t)=>{switch(t.type){case"SET_DOCUMENTS":return Ue(Ue({},e),{},{documents:t.payload,loading:!1,error:null});case"SET_LOADING":return Ue(Ue({},e),{},{loading:t.payload});case"SET_ERROR":return Ue(Ue({},e),{},{error:t.payload,loading:!1});case"ADD_DOCUMENT":return Ue(Ue({},e),{},{documents:[t.payload,...e.documents]});case"UPDATE_DOCUMENT":return Ue(Ue({},e),{},{documents:e.documents.map((e=>e.documentId===t.payload.documentId?Ue(Ue({},e),t.payload):e))});default:return e}},Ao=e=>{let{children:t}=e;const[r,n]=(0,a.useReducer)(Ro,{documents:[],loading:!1,error:null}),o=Ue(Ue({},r),{},{fetchDocuments:async()=>{n({type:"SET_LOADING",payload:!0});try{const e=await No();!1!==e.success?n({type:"SET_DOCUMENTS",payload:e.data||[]}):n({type:"SET_ERROR",payload:e.message})}catch(e){n({type:"SET_ERROR",payload:e.message})}},dispatch:n});return(0,Ie.jsx)(To.Provider,{value:o,children:t})},_o=(0,a.createContext)(),Io=()=>{const e=(0,a.useContext)(_o);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},zo=e=>{let{children:t}=e;const[r,n]=(0,a.useState)((()=>localStorage.getItem("language")||"en"));(0,a.useEffect)((()=>{localStorage.setItem("language",r)}),[r]);return(0,Ie.jsx)(_o.Provider,{value:{language:r,toggleLanguage:()=>{n((e=>"en"===e?"te":"en"))},t:e=>{var t;return(null===(t=Eo[r])||void 0===t?void 0:t[e])||e}},children:t})},Eo={en:{Dashboard:"Dashboard","Main Dashboard":"Main Dashboard",Overview:"Overview",Analytics:"Analytics","Grain Analytics":"Grain Analytics",Payments:"Payments",Merchants:"Merchants",Products:"Products",Addresses:"Addresses",Profile:"Profile","All Services":"All Services","Profile Settings":"Profile Settings",Brokerage:"Brokerage",Ledger:"Ledger",Entities:"Entities",About:"About","User Brokerage":"User Brokerage","Bulk Operations":"Bulk Operations","Daily Ledger":"Daily Ledger","Calendar View":"Calendar View","JSON Transaction Input":"JSON Transaction Input","Payment Management":"Payment Management","Financial Years":"Financial Years","Create Merchant":"Create Merchant","Phone Directory":"Phone Directory","About BrokerHub":"About BrokerHub",Logout:"Logout",NAVIGATION:"NAVIGATION","Welcome back":"Welcome back","Loading...":"Loading...",Save:"Save",Cancel:"Cancel",Edit:"Edit",Delete:"Delete",Add:"Add",Search:"Search",Filter:"Filter",Export:"Export",Import:"Import",Refresh:"Refresh",Back:"Back",Next:"Next",Previous:"Previous",Submit:"Submit",Close:"Close",View:"View","BrokerHub Dashboard":"BrokerHub Dashboard","Total Sales":"Total Sales","Total Quantity":"Total Quantity","Total Transactions":"Total Transactions","Total Brokerage Earned":"Total Brokerage Earned","Total Transaction Value":"Total Transaction Value","Active Merchants":"Active Merchants","Open Ledger Detail":"Open Ledger Detail","Ledger Management":"Ledger Management","Brokerage Dashboard":"Brokerage Dashboard","Top Buyers":"Top Buyers","Top Sellers":"Top Sellers","Coming Soon":"Coming Soon","Audit Ledger Management":"Audit Ledger Management","Monthly Sales Performance":"Monthly Sales Performance","Product Distribution":"Product Distribution","Brokerage Payments":"Brokerage Payments","Pending Payments":"Pending Payments","Receivable Payments":"Receivable Payments","Payment Dashboard":"Payment Dashboard","Total Pending":"Total Pending","Firm Name":"Firm Name","Total Bags":"Total Bags",Rate:"Rate","Net Brokerage":"Net Brokerage","Paid Amount":"Paid Amount","Pending Amount":"Pending Amount",Status:"Status",Actions:"Actions","View Details":"View Details","Add Payment":"Add Payment","Merchant Directory":"Merchant Directory","Add New Merchant":"Add New Merchant","Bulk Upload":"Bulk Upload",City:"City","Total Brokerage":"Total Brokerage","No Merchants Found":"No Merchants Found","Product Catalog":"Product Catalog","Add New Product":"Add New Product","No Products Found":"No Products Found","Broker Information":"Broker Information","Broker ID":"Broker ID",Name:"Name",Username:"Username",Phone:"Phone",Email:"Email","Address & Banking":"Address & Banking","Settings & Actions":"Settings & Actions","Change Password":"Change Password","Update Profile":"Update Profile","Verify Account":"Verify Account","Current Financial Year":"Current Financial Year","Quick Actions":"Quick Actions","Refresh Profile":"Refresh Profile","Address Management":"Address Management","Route Explorer":"Route Explorer","Add Address":"Add Address","Analytics Overview":"Analytics Overview","Manage financial years, track transactions, and audit your business records with our comprehensive ledger system.":"Manage financial years, track transactions, and audit your business records with our comprehensive ledger system.","Financial Year Management":"Financial Year Management","Transaction Tracking":"Transaction Tracking","Audit Reports":"Audit Reports","Start managing your financial records":"Start managing your financial records","All services will be available here soon.":"All services will be available here soon.","Merchants by City":"Merchants by City","Merchants in City":"Merchants in City","Browse and search merchants organized by their city location":"Browse and search merchants organized by their city location","Available Cities":"Available Cities","Search cities...":"Search cities...","Merchants in":"Merchants in","Search merchants by name or phone...":"Search merchants by name or phone...","No cities found":"No cities found","No Merchants Found":"No Merchants Found","No merchants match your search.":"No merchants match your search.","No merchants available in":"No merchants available in","Loading cities...":"Loading cities...","Loading merchants...":"Loading merchants...","Total Bags Sold":"Total Bags Sold","Total Bags Bought":"Total Bags Bought","Payable Amount":"Payable Amount","Receivable Amount":"Receivable Amount","Total Brokerage":"Total Brokerage","Contact Numbers":"Contact Numbers","Financial Year Management":"Financial Year Management","Manage your financial years":"Manage your financial years","Add Financial Year":"Add Financial Year","Year Name":"Year Name","Start Date":"Start Date","End Date":"End Date","Set as Current":"Set as Current","Daily Ledger":"Daily Ledger","Transaction Details":"Transaction Details",Date:"Date",Seller:"Seller",Buyer:"Buyer",Product:"Product",Quantity:"Quantity",Price:"Price",Amount:"Amount","User Brokerage Details":"User Brokerage Details","Brokerage Summary":"Brokerage Summary","Total Earned":"Total Earned","Pending Collection":"Pending Collection",Collected:"Collected","Per Bag Rate":"Per Bag Rate","Total Bags":"Total Bags","Grain Analytics":"Grain Analytics","Market Trends":"Market Trends","Price Analysis":"Price Analysis","Supply & Demand":"Supply & Demand",Forecast:"Forecast"},te:{Dashboard:"\u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d","Main Dashboard":"\u0c2a\u0c4d\u0c30\u0c27\u0c3e\u0c28 \u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d",Overview:"\u0c05\u0c35\u0c32\u0c4b\u0c15\u0c28\u0c02",Analytics:"\u0c35\u0c3f\u0c36\u0c4d\u0c32\u0c47\u0c37\u0c23\u0c32\u0c41","Grain Analytics":"\u0c27\u0c3e\u0c28\u0c4d\u0c2f\u0c02 \u0c35\u0c3f\u0c36\u0c4d\u0c32\u0c47\u0c37\u0c23\u0c32\u0c41",Payments:"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41",Merchants:"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41",Products:"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c41\u0c32\u0c41",Addresses:"\u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e\u0c32\u0c41",Profile:"\u0c2a\u0c4d\u0c30\u0c4a\u0c2b\u0c48\u0c32\u0c4d","All Services":"\u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c38\u0c47\u0c35\u0c32\u0c41","Profile Settings":"\u0c2a\u0c4d\u0c30\u0c4a\u0c2b\u0c48\u0c32\u0c4d \u0c38\u0c46\u0c1f\u0c4d\u0c1f\u0c3f\u0c02\u0c17\u0c4d\u0c32\u0c41",Brokerage:"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d",Ledger:"\u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d",Entities:"\u0c38\u0c02\u0c38\u0c4d\u0c25\u0c32\u0c41",About:"\u0c17\u0c41\u0c30\u0c3f\u0c02\u0c1a\u0c3f","User Brokerage":"\u0c2f\u0c42\u0c1c\u0c30\u0c4d \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d","Bulk Operations":"\u0c2c\u0c32\u0c4d\u0c15\u0c4d \u0c15\u0c3e\u0c30\u0c4d\u0c2f\u0c15\u0c32\u0c3e\u0c2a\u0c3e\u0c32\u0c41","Daily Ledger":"\u0c30\u0c4b\u0c1c\u0c41\u0c35\u0c3e\u0c30\u0c40 \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d","Calendar View":"\u0c15\u0c4d\u0c2f\u0c3e\u0c32\u0c46\u0c02\u0c21\u0c30\u0c4d \u0c35\u0c40\u0c15\u0c4d\u0c37\u0c23","JSON Transaction Input":"JSON \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c07\u0c28\u0c4d\u0c2a\u0c41\u0c1f\u0c4d","Payment Management":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23","Financial Years":"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41","Create Merchant":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c3f \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Phone Directory":"\u0c2b\u0c4b\u0c28\u0c4d \u0c21\u0c48\u0c30\u0c46\u0c15\u0c4d\u0c1f\u0c30\u0c40","About BrokerHub":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d\u0c39\u0c2c\u0c4d \u0c17\u0c41\u0c30\u0c3f\u0c02\u0c1a\u0c3f",Logout:"\u0c32\u0c3e\u0c17\u0c4d\u0c05\u0c35\u0c41\u0c1f\u0c4d",NAVIGATION:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d","Welcome back":"\u0c24\u0c3f\u0c30\u0c3f\u0c17\u0c3f \u0c38\u0c4d\u0c35\u0c3e\u0c17\u0c24\u0c02","Loading...":"\u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c4b\u0c02\u0c26\u0c3f...",Save:"\u0c38\u0c47\u0c35\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f",Cancel:"\u0c30\u0c26\u0c4d\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f",Edit:"\u0c38\u0c35\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f",Delete:"\u0c24\u0c4a\u0c32\u0c17\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f",Add:"\u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f",Search:"\u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f",Filter:"\u0c2b\u0c3f\u0c32\u0c4d\u0c1f\u0c30\u0c4d",Export:"\u0c0e\u0c17\u0c41\u0c2e\u0c24\u0c3f",Import:"\u0c26\u0c3f\u0c17\u0c41\u0c2e\u0c24\u0c3f",Refresh:"\u0c30\u0c3f\u0c2b\u0c4d\u0c30\u0c46\u0c37\u0c4d",Back:"\u0c35\u0c46\u0c28\u0c41\u0c15\u0c15\u0c41",Next:"\u0c24\u0c26\u0c41\u0c2a\u0c30\u0c3f",Previous:"\u0c2e\u0c41\u0c28\u0c41\u0c2a\u0c1f\u0c3f",Submit:"\u0c38\u0c2e\u0c30\u0c4d\u0c2a\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f",Close:"\u0c2e\u0c42\u0c38\u0c3f\u0c35\u0c47\u0c2f\u0c02\u0c21\u0c3f",View:"\u0c1a\u0c42\u0c21\u0c02\u0c21\u0c3f","BrokerHub Dashboard":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d\u0c39\u0c2c\u0c4d \u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d","Total Sales":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c3e\u0c32\u0c41","Total Quantity":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2a\u0c30\u0c3f\u0c2e\u0c3e\u0c23\u0c02","Total Transactions":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41","Total Brokerage Earned":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c38\u0c02\u0c2a\u0c3e\u0c26\u0c28","Total Transaction Value":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c35\u0c3f\u0c32\u0c41\u0c35","Active Merchants":"\u0c15\u0c4d\u0c30\u0c3f\u0c2f\u0c3e\u0c36\u0c40\u0c32 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41","Open Ledger Detail":"\u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41 \u0c24\u0c46\u0c30\u0c35\u0c02\u0c21\u0c3f","Ledger Management":"\u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23","Brokerage Dashboard":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d","Top Buyers":"\u0c1f\u0c3e\u0c2a\u0c4d \u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","Top Sellers":"\u0c1f\u0c3e\u0c2a\u0c4d \u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c02\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","Coming Soon":"\u0c24\u0c4d\u0c35\u0c30\u0c32\u0c4b \u0c35\u0c38\u0c4d\u0c24\u0c4b\u0c02\u0c26\u0c3f","Audit Ledger Management":"\u0c06\u0c21\u0c3f\u0c1f\u0c4d \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23","Monthly Sales Performance":"\u0c28\u0c46\u0c32\u0c35\u0c3e\u0c30\u0c40 \u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c3e\u0c32 \u0c2a\u0c28\u0c3f\u0c24\u0c40\u0c30\u0c41","Product Distribution":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c2a\u0c02\u0c2a\u0c3f\u0c23\u0c40","Merchants by City":"\u0c28\u0c17\u0c30\u0c02 \u0c35\u0c3e\u0c30\u0c40\u0c17\u0c3e \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41","Merchants in City":"\u0c28\u0c17\u0c30\u0c02\u0c32\u0c4b \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41","Browse and search merchants organized by their city location":"\u0c35\u0c3e\u0c30\u0c3f \u0c28\u0c17\u0c30 \u0c38\u0c4d\u0c25\u0c3e\u0c28\u0c02 \u0c26\u0c4d\u0c35\u0c3e\u0c30\u0c3e \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c28\u0c41 \u0c2c\u0c4d\u0c30\u0c4c\u0c1c\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c36\u0c4b\u0c27\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Available Cities":"\u0c05\u0c02\u0c26\u0c41\u0c2c\u0c3e\u0c1f\u0c41\u0c32\u0c4b \u0c09\u0c28\u0c4d\u0c28 \u0c28\u0c17\u0c30\u0c3e\u0c32\u0c41","Search cities...":"\u0c28\u0c17\u0c30\u0c3e\u0c32\u0c28\u0c41 \u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f...","Merchants in":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41","Search merchants by name or phone...":"\u0c2a\u0c47\u0c30\u0c41 \u0c32\u0c47\u0c26\u0c3e \u0c2b\u0c4b\u0c28\u0c4d \u0c26\u0c4d\u0c35\u0c3e\u0c30\u0c3e \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c28\u0c41 \u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f...","No cities found":"\u0c28\u0c17\u0c30\u0c3e\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","No Merchants Found":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","No merchants match your search.":"\u0c2e\u0c40 \u0c36\u0c4b\u0c27\u0c28\u0c15\u0c41 \u0c38\u0c30\u0c3f\u0c2a\u0c4b\u0c2f\u0c47 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41 \u0c32\u0c47\u0c30\u0c41.","No merchants available in":"\u0c32\u0c4b \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41 \u0c05\u0c02\u0c26\u0c41\u0c2c\u0c3e\u0c1f\u0c41\u0c32\u0c4b \u0c32\u0c47\u0c30\u0c41","Loading cities...":"\u0c28\u0c17\u0c30\u0c3e\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c2f\u0c3f...","Loading merchants...":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c30\u0c41...","Total Bags Sold":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c02\u0c1a\u0c41\u0c32\u0c41 \u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c3e\u0c32\u0c41","Total Bags Bought":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c02\u0c1a\u0c41\u0c32\u0c41 \u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c33\u0c4d\u0c32\u0c41","Payable Amount":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c35\u0c32\u0c38\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Receivable Amount":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c35\u0c32\u0c38\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Total Brokerage":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d","Contact Numbers":"\u0c38\u0c02\u0c2a\u0c4d\u0c30\u0c26\u0c3f\u0c02\u0c2a\u0c41 \u0c28\u0c02\u0c2c\u0c30\u0c4d\u0c32\u0c41","Brokerage Payments":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Pending Payments":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Receivable Payments":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Payment Dashboard":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d","Total Pending":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d","Firm Name":"\u0c38\u0c02\u0c38\u0c4d\u0c25 \u0c2a\u0c47\u0c30\u0c41","Total Bags":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c02\u0c1a\u0c41\u0c32\u0c41",Rate:"\u0c30\u0c47\u0c1f\u0c41","Net Brokerage":"\u0c28\u0c3f\u0c15\u0c30 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d","Paid Amount":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Pending Amount":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02",Status:"\u0c38\u0c4d\u0c25\u0c3f\u0c24\u0c3f",Actions:"\u0c1a\u0c30\u0c4d\u0c2f\u0c32\u0c41","View Details":"\u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41 \u0c1a\u0c42\u0c21\u0c02\u0c21\u0c3f","Add Payment":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Merchant Directory":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32 \u0c21\u0c48\u0c30\u0c46\u0c15\u0c4d\u0c1f\u0c30\u0c40","Add New Merchant":"\u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c3f \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Bulk Upload":"\u0c2c\u0c32\u0c4d\u0c15\u0c4d \u0c05\u0c2a\u0c4d\u0c32\u0c4b\u0c21\u0c4d",City:"\u0c28\u0c17\u0c30\u0c02","Total Brokerage":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d","No Merchants Found":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","Product Catalog":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c1c\u0c3e\u0c2c\u0c3f\u0c24\u0c3e","Add New Product":"\u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","No Products Found":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","Broker Information":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d \u0c38\u0c2e\u0c3e\u0c1a\u0c3e\u0c30\u0c02","Broker ID":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d ID",Name:"\u0c2a\u0c47\u0c30\u0c41",Username:"\u0c2f\u0c42\u0c1c\u0c30\u0c4d\u0c28\u0c47\u0c2e\u0c4d",Phone:"\u0c2b\u0c4b\u0c28\u0c4d",Email:"\u0c07\u0c2e\u0c46\u0c2f\u0c3f\u0c32\u0c4d","Address & Banking":"\u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e & \u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c3f\u0c02\u0c17\u0c4d","Settings & Actions":"\u0c38\u0c46\u0c1f\u0c4d\u0c1f\u0c3f\u0c02\u0c17\u0c4d\u0c32\u0c41 & \u0c1a\u0c30\u0c4d\u0c2f\u0c32\u0c41","Change Password":"\u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c02\u0c21\u0c3f","Update Profile":"\u0c2a\u0c4d\u0c30\u0c4a\u0c2b\u0c48\u0c32\u0c4d \u0c05\u0c2a\u0c4d\u0c21\u0c47\u0c1f\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Verify Account":"\u0c16\u0c3e\u0c24\u0c3e \u0c27\u0c43\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Current Financial Year":"\u0c2a\u0c4d\u0c30\u0c38\u0c4d\u0c24\u0c41\u0c24 \u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02","Quick Actions":"\u0c24\u0c4d\u0c35\u0c30\u0c3f\u0c24 \u0c1a\u0c30\u0c4d\u0c2f\u0c32\u0c41","Refresh Profile":"\u0c2a\u0c4d\u0c30\u0c4a\u0c2b\u0c48\u0c32\u0c4d \u0c30\u0c3f\u0c2b\u0c4d\u0c30\u0c46\u0c37\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Address Management":"\u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23","Route Explorer":"\u0c30\u0c42\u0c1f\u0c4d \u0c0e\u0c15\u0c4d\u0c38\u0c4d\u0c2a\u0c4d\u0c32\u0c4b\u0c30\u0c30\u0c4d","Add Address":"\u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Analytics Overview":"\u0c35\u0c3f\u0c36\u0c4d\u0c32\u0c47\u0c37\u0c23\u0c32 \u0c05\u0c35\u0c32\u0c4b\u0c15\u0c28\u0c02","Manage financial years, track transactions, and audit your business records with our comprehensive ledger system.":"\u0c2e\u0c3e \u0c38\u0c2e\u0c17\u0c4d\u0c30 \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c35\u0c4d\u0c2f\u0c35\u0c38\u0c4d\u0c25\u0c24\u0c4b \u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f, \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c28\u0c41 \u0c1f\u0c4d\u0c30\u0c3e\u0c15\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c2e\u0c40 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30 \u0c30\u0c3f\u0c15\u0c3e\u0c30\u0c4d\u0c21\u0c41\u0c32\u0c28\u0c41 \u0c06\u0c21\u0c3f\u0c1f\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f.","Financial Year Management":"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23","Transaction Tracking":"\u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c1f\u0c4d\u0c30\u0c3e\u0c15\u0c3f\u0c02\u0c17\u0c4d","Audit Reports":"\u0c06\u0c21\u0c3f\u0c1f\u0c4d \u0c28\u0c3f\u0c35\u0c47\u0c26\u0c3f\u0c15\u0c32\u0c41","Start managing your financial records":"\u0c2e\u0c40 \u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c30\u0c3f\u0c15\u0c3e\u0c30\u0c4d\u0c21\u0c41\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c21\u0c02 \u0c2a\u0c4d\u0c30\u0c3e\u0c30\u0c02\u0c2d\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","All services will be available here soon.":"\u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c38\u0c47\u0c35\u0c32\u0c41 \u0c24\u0c4d\u0c35\u0c30\u0c32\u0c4b \u0c07\u0c15\u0c4d\u0c15\u0c21 \u0c05\u0c02\u0c26\u0c41\u0c2c\u0c3e\u0c1f\u0c41\u0c32\u0c4b \u0c09\u0c02\u0c1f\u0c3e\u0c2f\u0c3f.","Manage your financial years":"\u0c2e\u0c40 \u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Add Financial Year":"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Year Name":"\u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30 \u0c2a\u0c47\u0c30\u0c41","Start Date":"\u0c2a\u0c4d\u0c30\u0c3e\u0c30\u0c02\u0c2d \u0c24\u0c47\u0c26\u0c40","End Date":"\u0c2e\u0c41\u0c17\u0c3f\u0c02\u0c2a\u0c41 \u0c24\u0c47\u0c26\u0c40","Set as Current":"\u0c2a\u0c4d\u0c30\u0c38\u0c4d\u0c24\u0c41\u0c24\u0c02\u0c17\u0c3e \u0c38\u0c46\u0c1f\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Transaction Details":"\u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41",Date:"\u0c24\u0c47\u0c26\u0c40",Seller:"\u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c02\u0c26\u0c3e\u0c30\u0c41\u0c21\u0c41",Buyer:"\u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c21\u0c41",Product:"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f",Quantity:"\u0c2a\u0c30\u0c3f\u0c2e\u0c3e\u0c23\u0c02",Price:"\u0c27\u0c30",Amount:"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","User Brokerage Details":"\u0c2f\u0c42\u0c1c\u0c30\u0c4d \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41","Brokerage Summary":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c38\u0c3e\u0c30\u0c3e\u0c02\u0c36\u0c02","Total Earned":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c02\u0c2a\u0c3e\u0c26\u0c28","Pending Collection":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c38\u0c47\u0c15\u0c30\u0c23",Collected:"\u0c38\u0c47\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c2c\u0c21\u0c3f\u0c02\u0c26\u0c3f","Per Bag Rate":"\u0c2a\u0c4d\u0c30\u0c24\u0c3f \u0c38\u0c02\u0c1a\u0c3f \u0c30\u0c47\u0c1f\u0c41","Market Trends":"\u0c2e\u0c3e\u0c30\u0c4d\u0c15\u0c46\u0c1f\u0c4d \u0c1f\u0c4d\u0c30\u0c46\u0c02\u0c21\u0c4d\u0c38\u0c4d","Price Analysis":"\u0c27\u0c30 \u0c35\u0c3f\u0c36\u0c4d\u0c32\u0c47\u0c37\u0c23","Supply & Demand":"\u0c38\u0c30\u0c2b\u0c30\u0c3e & \u0c21\u0c3f\u0c2e\u0c3e\u0c02\u0c21\u0c4d",Forecast:"\u0c05\u0c02\u0c1a\u0c28\u0c3e","Loading brokerage payments...":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c2f\u0c3f...","Search by firm name...":"\u0c38\u0c02\u0c38\u0c4d\u0c25 \u0c2a\u0c47\u0c30\u0c41\u0c24\u0c4b \u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f...",Clear:"\u0c15\u0c4d\u0c32\u0c3f\u0c2f\u0c30\u0c4d","Owner:":"\u0c2f\u0c1c\u0c2e\u0c3e\u0c28\u0c3f:","Gross Brokerage:":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d:","Net Brokerage:":"\u0c28\u0c3f\u0c15\u0c30 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d:","Paid Amount:":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02:","Pending Amount:":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02:","Last Payment:":"\u0c1a\u0c3f\u0c35\u0c30\u0c3f \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41:","Due Date:":"\u0c17\u0c21\u0c41\u0c35\u0c41 \u0c24\u0c47\u0c26\u0c40:",Complete:"\u0c2a\u0c42\u0c30\u0c4d\u0c24\u0c3f","Payment History":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c1a\u0c30\u0c3f\u0c24\u0c4d\u0c30","No brokerage payments found":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","Add Part Payment":"\u0c2a\u0c3e\u0c30\u0c4d\u0c1f\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Amount *":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 *","Payment Method *":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c2a\u0c26\u0c4d\u0c27\u0c24\u0c3f *","Payment Date *":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c24\u0c47\u0c26\u0c40 *","Transaction Reference *":"\u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c38\u0c42\u0c1a\u0c28 *","Bank Details":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41",Notes:"\u0c17\u0c2e\u0c28\u0c3f\u0c15\u0c32\u0c41","Maximum:":"\u0c17\u0c30\u0c3f\u0c37\u0c4d\u0c1f\u0c02:","Enter payment amount":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Enter transaction reference":"\u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c38\u0c42\u0c1a\u0c28 \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Enter bank details":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41 \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Add any notes about this payment":"\u0c08 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c17\u0c41\u0c30\u0c3f\u0c02\u0c1a\u0c3f \u0c0f\u0c35\u0c48\u0c28\u0c3e \u0c17\u0c2e\u0c28\u0c3f\u0c15\u0c32\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Adding Payment...":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c38\u0c4d\u0c24\u0c4b\u0c02\u0c26\u0c3f...","Loading pending payments...":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c2f\u0c3f...","Search by buyer firm...":"\u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41 \u0c38\u0c02\u0c38\u0c4d\u0c25\u0c24\u0c4b \u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f...","Buyer Owner:":"\u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41 \u0c2f\u0c1c\u0c2e\u0c3e\u0c28\u0c3f:","User Type:":"\u0c2f\u0c42\u0c1c\u0c30\u0c4d \u0c30\u0c15\u0c02:","Total Pending:":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d:","Transactions:":"\u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41:","Oldest Transaction:":"\u0c2a\u0c3e\u0c24 \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40:","Days Overdue:":"\u0c06\u0c32\u0c38\u0c4d\u0c2f\u0c2e\u0c48\u0c28 \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41:","Days Until Due:":"\u0c17\u0c21\u0c41\u0c35\u0c41 \u0c35\u0c30\u0c15\u0c41 \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41:",days:"\u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41","Recent Transactions":"\u0c07\u0c1f\u0c40\u0c35\u0c32\u0c3f \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41","more transactions":"\u0c2e\u0c30\u0c3f\u0c28\u0c4d\u0c28\u0c3f \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41","No pending payments found":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","Loading receivable payments...":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c2f\u0c3f...","Search by seller firm...":"\u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c02\u0c26\u0c3e\u0c30\u0c41 \u0c38\u0c02\u0c38\u0c4d\u0c25\u0c24\u0c4b \u0c35\u0c46\u0c24\u0c15\u0c02\u0c21\u0c3f...","Seller Owner:":"\u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c02\u0c26\u0c3e\u0c30\u0c41 \u0c2f\u0c1c\u0c2e\u0c3e\u0c28\u0c3f:","Total Receivable:":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28\u0c26\u0c3f:","Unique Buyers:":"\u0c2a\u0c4d\u0c30\u0c24\u0c4d\u0c2f\u0c47\u0c15 \u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41:","Largest Debt:":"\u0c05\u0c24\u0c3f\u0c2a\u0c46\u0c26\u0c4d\u0c26 \u0c05\u0c2a\u0c4d\u0c2a\u0c41:","Owed By":"\u0c30\u0c41\u0c23\u0c2a\u0c21\u0c3f\u0c28\u0c35\u0c3e\u0c30\u0c41",buyers:"\u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","more buyers":"\u0c2e\u0c30\u0c3f\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","No receivable payments found":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41 \u0c15\u0c28\u0c41\u0c17\u0c4a\u0c28\u0c2c\u0c21\u0c32\u0c47\u0c26\u0c41","Loading dashboard statistics...":"\u0c21\u0c3e\u0c37\u0c4d\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d \u0c17\u0c23\u0c3e\u0c02\u0c15\u0c3e\u0c32\u0c41 \u0c32\u0c4b\u0c21\u0c4d \u0c05\u0c35\u0c41\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c3e\u0c2f\u0c3f...","Completion Rate":"\u0c2a\u0c42\u0c30\u0c4d\u0c24\u0c3f \u0c30\u0c47\u0c1f\u0c41","Merchants with Pending:":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c09\u0c28\u0c4d\u0c28 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41:","Overdue:":"\u0c06\u0c32\u0c38\u0c4d\u0c2f\u0c02:","Buyers with Pending":"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c09\u0c28\u0c4d\u0c28 \u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","Overdue Payments":"\u0c06\u0c32\u0c38\u0c4d\u0c2f\u0c2e\u0c48\u0c28 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Average Amount":"\u0c38\u0c17\u0c1f\u0c41 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Total Receivable":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28\u0c26\u0c3f","Sellers with Receivable":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28 \u0c05\u0c2e\u0c4d\u0c2e\u0c15\u0c02\u0c26\u0c3e\u0c30\u0c41\u0c32\u0c41","Overdue Receivables":"\u0c06\u0c32\u0c38\u0c4d\u0c2f\u0c2e\u0c48\u0c28 \u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c23\u0c32\u0c41","Overall Summary":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c38\u0c3e\u0c30\u0c3e\u0c02\u0c36\u0c02","Total Amount in Circulation":"\u0c1a\u0c32\u0c3e\u0c2e\u0c23\u0c3f\u0c32\u0c4b \u0c09\u0c28\u0c4d\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Active Payments":"\u0c15\u0c4d\u0c30\u0c3f\u0c2f\u0c3e\u0c36\u0c40\u0c32 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Critical Payments":"\u0c15\u0c4d\u0c32\u0c3f\u0c37\u0c4d\u0c1f\u0c2e\u0c48\u0c28 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Due Soon":"\u0c24\u0c4d\u0c35\u0c30\u0c32\u0c4b \u0c17\u0c21\u0c41\u0c35\u0c41","Recent Payments":"\u0c07\u0c1f\u0c40\u0c35\u0c32\u0c3f \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c41","Merchant Details":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c3f \u0c35\u0c3f\u0c35\u0c30\u0c3e\u0c32\u0c41","Basic Information":"\u0c2a\u0c4d\u0c30\u0c3e\u0c25\u0c2e\u0c3f\u0c15 \u0c38\u0c2e\u0c3e\u0c1a\u0c3e\u0c30\u0c02","Owner Name":"\u0c2f\u0c1c\u0c2e\u0c3e\u0c28\u0c3f \u0c2a\u0c47\u0c30\u0c41","GST Number":"GST \u0c28\u0c02\u0c2c\u0c30\u0c4d","Contact Information":"\u0c38\u0c02\u0c2a\u0c4d\u0c30\u0c26\u0c3f\u0c02\u0c2a\u0c41 \u0c38\u0c2e\u0c3e\u0c1a\u0c3e\u0c30\u0c02",Address:"\u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e","Trading Summary":"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30 \u0c38\u0c3e\u0c30\u0c3e\u0c02\u0c36\u0c02","Bags Sold":"\u0c05\u0c2e\u0c4d\u0c2e\u0c3f\u0c28 \u0c38\u0c02\u0c1a\u0c41\u0c32\u0c41","Bags Bought":"\u0c15\u0c4a\u0c28\u0c41\u0c17\u0c4b\u0c32\u0c41 \u0c1a\u0c47\u0c38\u0c3f\u0c28 \u0c38\u0c02\u0c1a\u0c41\u0c32\u0c41","Brokerage Rate":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c30\u0c47\u0c1f\u0c41","Financial Summary":"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c3e\u0c30\u0c3e\u0c02\u0c36\u0c02","Payable Amount":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c35\u0c32\u0c38\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Receivable Amount":"\u0c38\u0c4d\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c26\u0c17\u0c3f\u0c28 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02","Print City Bill":"\u0c38\u0c3f\u0c1f\u0c40 \u0c2c\u0c3f\u0c32\u0c4d\u0c32\u0c41 \u0c2a\u0c4d\u0c30\u0c3f\u0c02\u0c1f\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Generating...":"\u0c30\u0c42\u0c2a\u0c4a\u0c02\u0c26\u0c3f\u0c38\u0c4d\u0c24\u0c4b\u0c02\u0c26\u0c3f...","Create a new product entry":"\u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c0e\u0c02\u0c1f\u0c4d\u0c30\u0c40 \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Product Name":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c2a\u0c47\u0c30\u0c41",Quality:"\u0c28\u0c3e\u0c23\u0c4d\u0c2f\u0c24","Quantity (kg)":"\u0c2a\u0c30\u0c3f\u0c2e\u0c3e\u0c23\u0c02 (\u0c15\u0c3f\u0c32\u0c4b\u0c32\u0c41)","Price (\u20b9)":"\u0c27\u0c30 (\u20b9)","Product Brokerage (\u20b9)":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d (\u20b9)","Create Product":"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","e.g., Rice":"\u0c09\u0c26\u0c3e., \u0c2c\u0c3f\u0c2f\u0c4d\u0c2f\u0c02","e.g., Premium":"\u0c09\u0c26\u0c3e., \u0c2a\u0c4d\u0c30\u0c40\u0c2e\u0c3f\u0c2f\u0c02","Welcome to BrokerHub":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d\u0c39\u0c2c\u0c4d\u0c15\u0c41 \u0c38\u0c4d\u0c35\u0c3e\u0c17\u0c24\u0c02","Sign in to your account to continue":"\u0c15\u0c4a\u0c28\u0c38\u0c3e\u0c17\u0c3f\u0c02\u0c1a\u0c21\u0c3e\u0c28\u0c3f\u0c15\u0c3f \u0c2e\u0c40 \u0c16\u0c3e\u0c24\u0c3e\u0c32\u0c4b\u0c15\u0c3f \u0c38\u0c48\u0c28\u0c4d \u0c07\u0c28\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f",Password:"\u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d","Enter your username":"\u0c2e\u0c40 \u0c2f\u0c42\u0c1c\u0c30\u0c4d\u0c28\u0c47\u0c2e\u0c4d \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Enter your password":"\u0c2e\u0c40 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Sign In":"\u0c38\u0c48\u0c28\u0c4d \u0c07\u0c28\u0c4d","Forgot your password?":"\u0c2e\u0c40 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c2e\u0c30\u0c4d\u0c1a\u0c3f\u0c2a\u0c4b\u0c2f\u0c3e\u0c30\u0c3e?","Create Password":"\u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Don't have an account?":"\u0c16\u0c3e\u0c24\u0c3e \u0c32\u0c47\u0c26\u0c3e?","Create Account":"\u0c16\u0c3e\u0c24\u0c3e \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Create Your BrokerHub Account":"\u0c2e\u0c40 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d\u0c39\u0c2c\u0c4d \u0c16\u0c3e\u0c24\u0c3e \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Join the platform for rice, dals, and grains trading":"\u0c2c\u0c3f\u0c2f\u0c4d\u0c2f\u0c02, \u0c2a\u0c2a\u0c4d\u0c2a\u0c41\u0c32\u0c41 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c27\u0c3e\u0c28\u0c4d\u0c2f\u0c3e\u0c32 \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c02 \u0c15\u0c4b\u0c38\u0c02 \u0c2a\u0c4d\u0c32\u0c3e\u0c1f\u0c4d\u0c2b\u0c3e\u0c30\u0c4d\u0c2e\u0c4d\u0c32\u0c4b \u0c1a\u0c47\u0c30\u0c02\u0c21\u0c3f",Account:"\u0c16\u0c3e\u0c24\u0c3e",Contact:"\u0c38\u0c02\u0c2a\u0c4d\u0c30\u0c26\u0c3f\u0c02\u0c2a\u0c41",Banking:"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c3f\u0c02\u0c17\u0c4d","Brokerage Firm Name *":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c38\u0c02\u0c38\u0c4d\u0c25 \u0c2a\u0c47\u0c30\u0c41 *","Enter your unique firm/company name":"\u0c2e\u0c40 \u0c2a\u0c4d\u0c30\u0c24\u0c4d\u0c2f\u0c47\u0c15 \u0c38\u0c02\u0c38\u0c4d\u0c25/\u0c15\u0c02\u0c2a\u0c46\u0c28\u0c40 \u0c2a\u0c47\u0c30\u0c41 \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","This name will be used for all business transactions and documents":"\u0c08 \u0c2a\u0c47\u0c30\u0c41 \u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30 \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c2a\u0c24\u0c4d\u0c30\u0c3e\u0c32\u0c15\u0c41 \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c2c\u0c21\u0c41\u0c24\u0c41\u0c02\u0c26\u0c3f","Choose a unique username":"\u0c2a\u0c4d\u0c30\u0c24\u0c4d\u0c2f\u0c47\u0c15 \u0c2f\u0c42\u0c1c\u0c30\u0c4d\u0c28\u0c47\u0c2e\u0c4d \u0c0e\u0c02\u0c1a\u0c41\u0c15\u0c4b\u0c02\u0c21\u0c3f","Username will be used for login and must be unique across the platform":"\u0c2f\u0c42\u0c1c\u0c30\u0c4d\u0c28\u0c47\u0c2e\u0c4d \u0c32\u0c3e\u0c17\u0c3f\u0c28\u0c4d \u0c15\u0c4b\u0c38\u0c02 \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c2c\u0c21\u0c41\u0c24\u0c41\u0c02\u0c26\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c2a\u0c4d\u0c32\u0c3e\u0c1f\u0c4d\u0c2b\u0c3e\u0c30\u0c4d\u0c2e\u0c4d\u0c32\u0c4b \u0c2a\u0c4d\u0c30\u0c24\u0c4d\u0c2f\u0c47\u0c15\u0c02\u0c17\u0c3e \u0c09\u0c02\u0c21\u0c3e\u0c32\u0c3f","Create a strong password":"\u0c2c\u0c32\u0c2e\u0c48\u0c28 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c38\u0c43\u0c37\u0c4d\u0c1f\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Confirm Password":"\u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c27\u0c3e\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Confirm your password":"\u0c2e\u0c40 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c27\u0c3e\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Broker Name":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d \u0c2a\u0c47\u0c30\u0c41","Your full name":"\u0c2e\u0c40 \u0c2a\u0c42\u0c30\u0c4d\u0c24\u0c3f \u0c2a\u0c47\u0c30\u0c41","Email Address":"\u0c07\u0c2e\u0c46\u0c2f\u0c3f\u0c32\u0c4d \u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e","your.email@example.com":"\u0c2e\u0c40.\u0c07\u0c2e\u0c46\u0c2f\u0c3f\u0c32\u0c4d@\u0c09\u0c26\u0c3e\u0c39\u0c30\u0c23.com","Phone Number":"\u0c2b\u0c4b\u0c28\u0c4d \u0c28\u0c02\u0c2c\u0c30\u0c4d","10-digit mobile number":"10-\u0c05\u0c02\u0c15\u0c46\u0c32 \u0c2e\u0c4a\u0c2c\u0c48\u0c32\u0c4d \u0c28\u0c02\u0c2c\u0c30\u0c4d",Pincode:"\u0c2a\u0c3f\u0c28\u0c4d\u0c15\u0c4b\u0c21\u0c4d","6-digit area pincode":"6-\u0c05\u0c02\u0c15\u0c46\u0c32 \u0c2a\u0c4d\u0c30\u0c3e\u0c02\u0c24 \u0c2a\u0c3f\u0c28\u0c4d\u0c15\u0c4b\u0c21\u0c4d","Bank Name":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c2a\u0c47\u0c30\u0c41","Your bank name":"\u0c2e\u0c40 \u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c2a\u0c47\u0c30\u0c41","Account Number":"\u0c16\u0c3e\u0c24\u0c3e \u0c28\u0c02\u0c2c\u0c30\u0c4d","Bank account number":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c16\u0c3e\u0c24\u0c3e \u0c28\u0c02\u0c2c\u0c30\u0c4d","IFSC Code":"IFSC \u0c15\u0c4b\u0c21\u0c4d","Bank IFSC code":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d IFSC \u0c15\u0c4b\u0c21\u0c4d",Branch:"\u0c36\u0c3e\u0c16","Bank branch name":"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c36\u0c3e\u0c16 \u0c2a\u0c47\u0c30\u0c41","Already have an account?":"\u0c07\u0c2a\u0c4d\u0c2a\u0c1f\u0c3f\u0c15\u0c47 \u0c16\u0c3e\u0c24\u0c3e \u0c09\u0c02\u0c26\u0c3e?","Forgot Password?":"\u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c2e\u0c30\u0c4d\u0c1a\u0c3f\u0c2a\u0c4b\u0c2f\u0c3e\u0c30\u0c3e?","Enter your username and we'll send an OTP to your email":"\u0c2e\u0c40 \u0c2f\u0c42\u0c1c\u0c30\u0c4d\u0c28\u0c47\u0c2e\u0c4d \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c2e\u0c47\u0c2e\u0c41 \u0c2e\u0c40 \u0c07\u0c2e\u0c46\u0c2f\u0c3f\u0c32\u0c4d\u0c15\u0c41 OTP \u0c2a\u0c02\u0c2a\u0c41\u0c24\u0c3e\u0c2e\u0c41","Send OTP":"OTP \u0c2a\u0c02\u0c2a\u0c02\u0c21\u0c3f","Remember your password? Sign in":"\u0c2e\u0c40 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c17\u0c41\u0c30\u0c4d\u0c24\u0c41\u0c02\u0c26\u0c3e? \u0c38\u0c48\u0c28\u0c4d \u0c07\u0c28\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Update your account password":"\u0c2e\u0c40 \u0c16\u0c3e\u0c24\u0c3e \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c35\u0c40\u0c15\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Current Password":"\u0c2a\u0c4d\u0c30\u0c38\u0c4d\u0c24\u0c41\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d","Enter your current password":"\u0c2e\u0c40 \u0c2a\u0c4d\u0c30\u0c38\u0c4d\u0c24\u0c41\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","New Password":"\u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d","Enter your new password":"\u0c2e\u0c40 \u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Confirm New Password":"\u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c27\u0c3e\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Confirm your new password":"\u0c2e\u0c40 \u0c15\u0c4a\u0c24\u0c4d\u0c24 \u0c2a\u0c3e\u0c38\u0c4d\u0c35\u0c30\u0c4d\u0c21\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c27\u0c3e\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f","Your email address":"\u0c2e\u0c40 \u0c07\u0c2e\u0c46\u0c2f\u0c3f\u0c32\u0c4d \u0c1a\u0c3f\u0c30\u0c41\u0c28\u0c3e\u0c2e\u0c3e","Failed to load":"\u0c32\u0c4b\u0c21\u0c4d \u0c1a\u0c47\u0c2f\u0c21\u0c02\u0c32\u0c4b \u0c35\u0c3f\u0c2b\u0c32\u0c2e\u0c48\u0c02\u0c26\u0c3f","Search failed":"\u0c35\u0c46\u0c24\u0c15\u0c21\u0c02 \u0c35\u0c3f\u0c2b\u0c32\u0c2e\u0c48\u0c02\u0c26\u0c3f","Please enter a valid amount":"\u0c26\u0c2f\u0c1a\u0c47\u0c38\u0c3f \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c41\u0c2c\u0c3e\u0c1f\u0c41 \u0c05\u0c2f\u0c4d\u0c2f\u0c47 \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c28\u0c2e\u0c4b\u0c26\u0c41 \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f","Amount cannot exceed pending amount":"\u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c02 \u0c15\u0c02\u0c1f\u0c47 \u0c0e\u0c15\u0c4d\u0c15\u0c41\u0c35 \u0c09\u0c02\u0c21\u0c15\u0c42\u0c21\u0c26\u0c41","Transaction reference is required for this payment method":"\u0c08 \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c2a\u0c26\u0c4d\u0c27\u0c24\u0c3f\u0c15\u0c3f \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40 \u0c38\u0c42\u0c1a\u0c28 \u0c05\u0c35\u0c38\u0c30\u0c02","Failed to add payment":"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c21\u0c02\u0c32\u0c4b \u0c35\u0c3f\u0c2b\u0c32\u0c2e\u0c48\u0c02\u0c26\u0c3f",units:"\u0c2f\u0c42\u0c28\u0c3f\u0c1f\u0c4d\u0c32\u0c41","Since:":"\u0c28\u0c41\u0c02\u0c21\u0c3f:",PAID:"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c2c\u0c21\u0c3f\u0c02\u0c26\u0c3f",PARTIALLY_PAID:"\u0c2a\u0c3e\u0c15\u0c4d\u0c37\u0c3f\u0c15\u0c02\u0c17\u0c3e \u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c1a\u0c2c\u0c21\u0c3f\u0c02\u0c26\u0c3f",OVERDUE:"\u0c06\u0c32\u0c38\u0c4d\u0c2f\u0c02",PENDING:"\u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d",HIGH:"\u0c05\u0c27\u0c3f\u0c15",MEDIUM:"\u0c2e\u0c27\u0c4d\u0c2f\u0c38\u0c4d\u0c25",LOW:"\u0c24\u0c15\u0c4d\u0c15\u0c41\u0c35",CRITICAL:"\u0c15\u0c4d\u0c32\u0c3f\u0c37\u0c4d\u0c1f\u0c2e\u0c48\u0c28",CASH:"\u0c28\u0c17\u0c26\u0c41",CHEQUE:"\u0c1a\u0c46\u0c15\u0c4d",UPI:"UPI",BANK_TRANSFER:"\u0c2c\u0c4d\u0c2f\u0c3e\u0c02\u0c15\u0c4d \u0c2c\u0c26\u0c3f\u0c32\u0c40",NEFT:"NEFT",RTGS:"RTGS",CARD:"\u0c15\u0c3e\u0c30\u0c4d\u0c21\u0c4d"}};class Mo extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,Ie.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\u26a0\ufe0f"}),(0,Ie.jsx)("h2",{style:{color:"#dc3545",marginBottom:"1rem"},children:"Something went wrong"}),(0,Ie.jsx)("p",{style:{color:"#6c757d",marginBottom:"2rem"},children:"An unexpected error occurred. Please refresh the page and try again."}),(0,Ie.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd04 Refresh Page"})]}):this.props.children}}const Do=Mo;function Lo(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Oo=["label","type","name","value","onChange","error","placeholder","required","disabled"],Fo=e=>{let{label:t,type:r="text",name:n,value:o,onChange:i,error:s,placeholder:l,required:d=!1,disabled:c=!1}=e,u=Lo(e,Oo);const{theme:p}=Ee(),[h,g]=(0,a.useState)(!1),x="password"===r;return(0,Ie.jsxs)("div",{className:"form-group",children:[t&&(0,Ie.jsxs)("label",{htmlFor:n,className:"form-label",style:{color:p.textPrimary},children:[t,d&&(0,Ie.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsx)("input",Ue({type:x&&h?"text":r,id:n,name:n,value:o,onChange:i,placeholder:l,disabled:c,className:"form-input ".concat(s?"error":""),style:{backgroundColor:p.cardBackground,borderColor:s?"#ef4444":p.border,color:p.textPrimary,paddingRight:x?"40px":void 0}},u)),x&&(0,Ie.jsx)("button",{type:"button",onClick:()=>g(!h),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:p.textSecondary,padding:"4px",display:"flex",alignItems:"center"},children:h?(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,Ie.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})]}),s&&(0,Ie.jsx)("div",{className:"form-error",children:s})]})},Wo=e=>{let{size:t="20px",className:r=""}=e;return(0,Ie.jsx)("div",{className:"simple-spinner ".concat(r),style:{width:t,height:t}})},Uo=["children","loading","disabled","className","type","onClick"],Ho=e=>{let{children:t,loading:r=!1,disabled:n=!1,className:o="btn btn-primary",type:a="button",onClick:i}=e,s=Lo(e,Uo);return(0,Ie.jsx)("button",Ue(Ue({type:a,className:o,disabled:n||r,onClick:i},s),{},{children:r?(0,Ie.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)(Wo,{size:"16px"}),"Loading..."]}):t}))},Vo=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/.test(e),Yo=e=>e&&e.toString().trim().length>0,qo=(e,t)=>e&&e.toString().trim().length>=t,Qo=e=>{const t={};var r,n,o,a,i,s,l;return Yo(e.userName)?qo(e.userName,3)?(r=e.userName,n=20,!r||r.toString().trim().length<=n||(t.userName="Username must be less than 20 characters")):t.userName="Username must be at least 3 characters":t.userName="Username is required",Yo(e.password)?Vo(e.password)||(t.password="Password must be at least 8 characters with uppercase, lowercase, and number"):t.password="Password is required",Yo(e.confirmPassword)?e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",Yo(e.brokerName)?qo(e.brokerName,2)||(t.brokerName="Broker name must be at least 2 characters"):t.brokerName="Broker name is required",Yo(e.brokerageFirmName)||(t.brokerageFirmName="Brokerage firm name is required"),Yo(e.email)?(o=e.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)||(t.email="Please enter a valid email address")):t.email="Email is required",Yo(e.phoneNumber)?(a=e.phoneNumber,/^[6-9]\d{9}$/.test(a)||(t.phoneNumber="Please enter a valid 10-digit mobile number")):t.phoneNumber="Phone number is required",Yo(e.pincode)?(i=e.pincode,/^[1-9][0-9]{5}$/.test(i)||(t.pincode="Please enter a valid 6-digit pincode")):t.pincode="Pincode is required",Yo(e.bankName)||(t.bankName="Bank name is required"),Yo(e.accountNumber)?(s=e.accountNumber,/^\d{9,18}$/.test(s)||(t.accountNumber="Please enter a valid account number (9-18 digits)")):t.accountNumber="Account number is required",Yo(e.ifscCode)?(l=e.ifscCode,/^[A-Z]{4}[0-9]{7}$/.test(l)||(t.ifscCode="Please enter a valid IFSC code")):t.ifscCode="IFSC code is required",Yo(e.branch)||(t.branch="Branch name is required"),{isValid:0===Object.keys(t).length,errors:t}},$o=()=>{const e=te(),t=Z(),{theme:r}=Ee(),{login:n}=fo(),[o,i]=(0,a.useState)({userName:"",password:""}),[s,l]=(0,a.useState)({}),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)("");(0,a.useEffect)((()=>{var e;null!==(e=t.state)&&void 0!==e&&e.message&&(g(t.state.message),window.history.replaceState({},document.title))}),[t]);const x=e=>{const{name:t,value:r}=e.target;i((e=>Ue(Ue({},e),{},{[t]:r}))),s[t]&&l((e=>Ue(Ue({},e),{},{[t]:""}))),u&&p(""),h&&g("")};return(0,Ie.jsx)("div",{className:"auth-container",style:{backgroundColor:r.background,transition:"background-color 0.3s ease"},"data-theme":r.isDarkMode?"dark":"light",children:(0,Ie.jsxs)("div",{className:"auth-card",style:{backgroundColor:r.cardBackground,border:"1px solid ".concat(r.border),boxShadow:r.shadowModal,transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{style:{color:r.textPrimary},children:"Welcome to BrokerHub"}),(0,Ie.jsx)("p",{style:{color:r.textSecondary},children:"Sign in to your account to continue"})]}),(0,Ie.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=(e=>{const t={};return Yo(e.userName)||(t.userName="Username is required"),Yo(e.password)||(t.password="Password is required"),{isValid:0===Object.keys(t).length,errors:t}})(o);if(r.isValid){c(!0),p("");try{console.log("Attempting login with:",o);const t=await n(o);console.log("Login successful, response:",t),e("/dashboard",{state:{message:"Login successful! Welcome to BrokerHub Dashboard."}}),console.log("Navigation to dashboard initiated")}catch(a){console.error("Login error:",a),401===a.status?p("Invalid username or password. Please try again."):403===a.status?p("Account access denied. Please contact support."):404===a.status?p("User not found. Please check your username."):p(a.message||"Login failed. Please check your credentials and try again.")}finally{c(!1)}}else l(r.errors)},className:"auth-form",children:[h&&(0,Ie.jsx)("div",{className:"success-message",children:h}),u&&(0,Ie.jsx)("div",{className:"error-message",children:u}),(0,Ie.jsx)(Fo,{label:"Username",name:"userName",value:o.userName,onChange:x,error:s.userName,placeholder:"Enter your username",required:!0}),(0,Ie.jsx)(Fo,{label:"Password",type:"password",name:"password",value:o.password,onChange:x,error:s.password,placeholder:"Enter your password",required:!0}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Ho,{type:"submit",loading:d,className:"btn btn-primary auth-submit-btn",children:"Sign In"})}),(0,Ie.jsxs)("div",{className:"auth-links",children:[(0,Ie.jsx)(Re,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"})," | ",(0,Ie.jsx)(Re,{to:"/create-password",className:"auth-link",children:"Create Password"})]}),(0,Ie.jsx)("div",{className:"auth-divider",children:(0,Ie.jsx)("span",{children:"Don't have an account?"})}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Re,{to:"/signup",className:"btn btn-outline auth-submit-btn",children:"Create Account"})})]})]})})},Go=["label","type","name","value","onChange","error","placeholder","required","disabled","checkAvailability","availabilityDelay","highlight"];const Ko=e=>{let{label:t,type:r="text",name:n,value:o,onChange:i,error:s,placeholder:l,required:d=!1,disabled:c=!1,checkAvailability:u,availabilityDelay:p=800,highlight:h=!1}=e,g=Lo(e,Go);const{theme:x}=Ee(),[f,m]=(0,a.useState)(!1),[y,b]=(0,a.useState)(null),[v,j]=(0,a.useState)(""),k=(0,a.useCallback)(function(e,t){let r;const n=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];const i=()=>{clearTimeout(r),e(...o)};clearTimeout(r),r=setTimeout(i,t)};return n.cancel=function(){clearTimeout(r)},n}((async e=>{if(!e||!e.trim()||!u)return b(null),j(""),void m(!1);if(e.trim().length<3)return b(null),j(""),void m(!1);m(!0),b(null),j("");try{console.log("Checking availability for ".concat(t,":"),e.trim());const r=await u(e.trim());console.log("Availability result for ".concat(t,":"),r),r?(b("taken"),j("".concat(t||"This"," is already taken"))):(b("available"),j("".concat(t||"This"," is available")))}catch(s){console.error("Availability check error:",s),b("error"),j("Unable to check availability. Please try again.")}finally{m(!1)}}),p),[u,t,p]);(0,a.useEffect)((()=>(o&&o.trim()&&u?(console.log("Triggering availability check for ".concat(t,":"),o),k(o)):(b(null),j(""),m(!1)),()=>{k.cancel&&k.cancel()})),[o,k,u,t]);const w=()=>s||"taken"===y?"#ef4444":"available"===y?"#22c55e":h?"#f59e0b":x.border,S=()=>f?"\u23f3":"available"===y?"\u2705":"taken"===y?"\u274c":null;return(0,Ie.jsxs)("div",{className:"form-group ".concat(h?"highlighted-field":""),children:[t&&(0,Ie.jsxs)("label",{htmlFor:n,className:"form-label",style:{color:x.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:[t,d&&(0,Ie.jsx)("span",{style:{color:"#ef4444"},children:"*"}),h&&(0,Ie.jsx)("span",{style:{backgroundColor:"#fef3c7",color:"#d97706",fontSize:"10px",padding:"2px 6px",borderRadius:"4px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Important"})]}),(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsx)("input",Ue({type:r,id:n,name:n,value:o,onChange:i,placeholder:l,disabled:c,className:"form-input ".concat(s||"taken"===y?"error":""),style:{backgroundColor:x.cardBackground,borderColor:w(),color:x.textPrimary,paddingRight:u?"40px":"16px",borderWidth:"2px",transition:"all 0.2s ease"},onFocus:e=>{e.target.style.borderColor=w(),e.target.style.boxShadow=s||"taken"===y?"0 0 0 3px rgba(239, 68, 68, 0.1)":"available"===y?"0 0 0 3px rgba(34, 197, 94, 0.1)":h?"0 0 0 3px rgba(245, 158, 11, 0.1)":"0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor=w(),e.target.style.boxShadow="none"}},g)),u&&(0,Ie.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"16px",pointerEvents:"none"},children:S()})]}),s&&(0,Ie.jsx)("div",{className:"form-error",children:s}),!s&&v&&(0,Ie.jsxs)("div",{className:"available"===y?"availability-available":"taken"===y?"availability-taken":"",style:{color:"available"===y?"#22c55e":"taken"===y?"#ef4444":x.textSecondary,fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[S()," ",v]}),!s&&f&&(0,Ie.jsx)("div",{className:"availability-checking",style:{color:x.textSecondary,fontSize:"12px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:"\u23f3 Checking availability..."})]})},Xo=()=>{const e=te(),{isDarkMode:t}=Ee(),[r,n]=(0,a.useState)(1),[o,i]=(0,a.useState)({userName:"",password:"",confirmPassword:"",brokerName:"",brokerageFirmName:"",pincode:"",email:"",phoneNumber:"",bankName:"",accountNumber:"",ifscCode:"",branch:""}),[s,l]=(0,a.useState)({}),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)({}),x=e=>{const{name:t,value:r}=e.target;i((e=>Ue(Ue({},e),{},{[t]:r}))),s[t]&&l((e=>Ue(Ue({},e),{},{[t]:""}))),u&&p(""),h[t]&&g((e=>Ue(Ue({},e),{},{[t]:""})))},[f,m]=(0,a.useState)(new Set),[y,b]=(0,a.useState)(new Set),[v,j]=(0,a.useState)({username:!1,firmName:!1});(0,a.useEffect)((()=>{const e=setTimeout((()=>{var e;const t=null===(e=o.userName)||void 0===e?void 0:e.trim();t&&t.length>=3&&!f.has(t)&&!v.username?k(t):(!t||t.length<3)&&g((e=>Ue(Ue({},e),{},{userName:""})))}),500);return()=>clearTimeout(e)}),[o.userName]),(0,a.useEffect)((()=>{const e=setTimeout((()=>{var e;const t=null===(e=o.brokerageFirmName)||void 0===e?void 0:e.trim();t&&t.length>=3&&!y.has(t)&&!v.firmName?w(t):(!t||t.length<3)&&g((e=>Ue(Ue({},e),{},{brokerageFirmName:""})))}),500);return()=>clearTimeout(e)}),[o.brokerageFirmName]);const k=async e=>{if(!(!e||e.length<3||f.has(e))){j((e=>Ue(Ue({},e),{},{username:!0}))),m((t=>new Set([...t,e])));try{const t=await vn.checkUsernameExists(e);g(t?e=>Ue(Ue({},e),{},{userName:"Username is already taken. Please choose another one."}):e=>Ue(Ue({},e),{},{userName:""}))}catch(t){console.error("Username availability check failed:",t),g((e=>Ue(Ue({},e),{},{userName:"Unable to verify username availability. Please try again later."})))}finally{j((e=>Ue(Ue({},e),{},{username:!1})))}}},w=async e=>{if(!(!e||e.length<3||y.has(e))){j((e=>Ue(Ue({},e),{},{firmName:!0}))),b((t=>new Set([...t,e])));try{const t=await vn.checkBrokerFirmNameExists(e);g(t?e=>Ue(Ue({},e),{},{brokerageFirmName:"Firm name is already taken. Please choose another one."}):e=>Ue(Ue({},e),{},{brokerageFirmName:""}))}catch(t){console.error("Firm name availability check failed:",t),g((e=>Ue(Ue({},e),{},{brokerageFirmName:"Unable to verify firm name availability. Please try again later."})))}finally{j((e=>Ue(Ue({},e),{},{firmName:!1})))}}};return(0,a.useEffect)((()=>{document.documentElement.setAttribute("data-theme",t?"dark":"light")}),[t]),(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card signup-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Create Your BrokerHub Account"}),(0,Ie.jsx)("p",{children:"Join the platform for rice, dals, and grains trading"}),(0,Ie.jsxs)("div",{className:"step-indicator",children:[(0,Ie.jsx)("div",{className:"step ".concat(r>=1?"active":""),children:"1"}),(0,Ie.jsx)("div",{className:"step ".concat(r>=2?"active":""),children:"2"}),(0,Ie.jsx)("div",{className:"step ".concat(r>=3?"active":""),children:"3"})]}),(0,Ie.jsxs)("div",{className:"step-labels",children:[(0,Ie.jsx)("span",{className:1===r?"active":"",children:"Account"}),(0,Ie.jsx)("span",{className:2===r?"active":"",children:"Contact"}),(0,Ie.jsx)("span",{className:3===r?"active":"",children:"Banking"})]})]}),(0,Ie.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=Ue({},Qo(o).errors);if(h.userName&&(r.userName=h.userName),h.brokerageFirmName&&(r.brokerageFirmName=h.brokerageFirmName),Object.keys(r).length>0)l(r);else{c(!0),p("");try{const t={userName:o.userName,password:o.password,brokerName:o.brokerName,brokerageFirmName:o.brokerageFirmName,pincode:o.pincode,email:o.email,phoneNumber:o.phoneNumber,accountNumber:o.accountNumber,ifscCode:o.ifscCode};await vn.createBroker(t);e("/verify-account",{state:{userName:t.userName,email:t.email,message:"Account created successfully! Please verify your account with the OTP sent to your email."}})}catch(n){console.error("Signup error:",n),p(n.message||"Failed to create account. Please try again.")}finally{c(!1)}}},className:"auth-form",children:[u&&(0,Ie.jsx)("div",{className:"error-message",children:u}),1===r&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{style:{padding:"16px",border:"2px solid #4f46e5",borderRadius:"8px",backgroundColor:"#f5f3ff",marginBottom:"16px"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:"#4f46e5",fontSize:"16px",fontWeight:"600"},children:"Brokerage Firm Name *"}),(0,Ie.jsx)(Ko,{name:"brokerageFirmName",value:o.brokerageFirmName,onChange:x,error:s.brokerageFirmName||h.brokerageFirmName,placeholder:"Enter your unique firm/company name",checkAvailability:w,required:!0,style:{marginBottom:"8px",borderBottom:"2px solid #4f46e5"}})]}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",fontSize:"12px",color:"#4b5563",fontStyle:"italic"},children:"This name will be used for all business transactions and documents"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)(Ko,{label:"Username",name:"userName",value:o.userName,onChange:x,error:s.userName||h.userName,placeholder:"Choose a unique username",checkAvailability:k,required:!0}),(0,Ie.jsx)("p",{style:{margin:"4px 0 16px 0",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Username will be used for login and must be unique across the platform"})]}),(0,Ie.jsx)(Fo,{label:"Password",type:"password",name:"password",value:o.password,onChange:x,error:s.password,placeholder:"Create a strong password",required:!0}),(0,Ie.jsx)(Fo,{label:"Confirm Password",type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:x,error:s.confirmPassword,placeholder:"Confirm your password",required:!0}),(0,Ie.jsx)(Fo,{label:"Broker Name",name:"brokerName",value:o.brokerName,onChange:x,error:s.brokerName,placeholder:"Your full name",required:!0})]}),2===r&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Fo,{label:"Email Address",type:"email",name:"email",value:o.email,onChange:x,error:s.email,placeholder:"your.email@example.com",required:!0}),(0,Ie.jsx)(Fo,{label:"Phone Number",type:"tel",name:"phoneNumber",value:o.phoneNumber,onChange:x,error:s.phoneNumber,placeholder:"10-digit mobile number",required:!0}),(0,Ie.jsx)(Fo,{label:"Pincode",name:"pincode",value:o.pincode,onChange:x,error:s.pincode,placeholder:"6-digit area pincode",required:!0})]}),3===r&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Fo,{label:"Bank Name",name:"bankName",value:o.bankName,onChange:x,error:s.bankName,placeholder:"Your bank name",required:!0}),(0,Ie.jsx)(Fo,{label:"Account Number",name:"accountNumber",value:o.accountNumber,onChange:x,error:s.accountNumber,placeholder:"Bank account number",required:!0}),(0,Ie.jsx)(Fo,{label:"IFSC Code",name:"ifscCode",value:o.ifscCode,onChange:x,error:s.ifscCode,placeholder:"Bank IFSC code",required:!0}),(0,Ie.jsx)(Fo,{label:"Branch",name:"branch",value:o.branch,onChange:x,error:s.branch,placeholder:"Bank branch name",required:!0})]}),(0,Ie.jsxs)("div",{className:"auth-actions step-actions",children:[r>1&&(0,Ie.jsx)("button",{type:"button",onClick:()=>{n((e=>e-1))},className:"btn btn-secondary",children:"Previous"}),r<3?(0,Ie.jsx)("button",{type:"button",onClick:()=>{const e=Qo(o),t={},a={};1===r?(["userName","password","confirmPassword","brokerName","brokerageFirmName"].forEach((r=>{e.errors[r]&&(t[r]=e.errors[r])})),h.userName&&(a.userName=h.userName),h.brokerageFirmName&&(a.brokerageFirmName=h.brokerageFirmName)):2===r?["email","phoneNumber","pincode"].forEach((r=>{e.errors[r]&&(t[r]=e.errors[r])})):3===r&&["bankName","accountNumber","ifscCode","branch"].forEach((r=>{e.errors[r]&&(t[r]=e.errors[r])}));const i=Ue(Ue({},t),a);Object.keys(i).length>0?l(i):r<3&&n((e=>e+1))},className:"btn btn-primary",children:"Next"}):(0,Ie.jsx)(Ho,{type:"submit",loading:d,className:"btn btn-primary",children:"Create Account"})]}),(0,Ie.jsx)("div",{className:"auth-divider",children:(0,Ie.jsx)("span",{children:"Already have an account?"})}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Re,{to:"/login",className:"btn btn-outline auth-submit-btn",children:"Sign In"})})]})]})})},Jo=()=>{const e=te(),[t,r]=(0,a.useState)(""),[n,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)("");return(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Forgot Password?"}),(0,Ie.jsx)("p",{children:"Enter your username and we'll send an OTP to your email"})]}),(0,Ie.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),t.trim()){o(!0),s("");try{await vn.forgotPassword(t),e("/verify-otp",{state:{userName:t,email:t,fromForgotPassword:!0}})}catch(i){console.error("Forgot password error:",i),s(i.message||"Failed to send OTP. Please try again.")}finally{o(!1)}}else s("Username is required")},className:"auth-form",children:[i&&(0,Ie.jsx)("div",{className:"error-message",children:i}),(0,Ie.jsx)(Fo,{label:"Username",name:"userName",value:t,onChange:e=>{r(e.target.value),i&&s("")},error:"",placeholder:"Enter your username",required:!0}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Ho,{type:"submit",loading:n,className:"btn btn-primary auth-submit-btn",children:"Send OTP"})}),(0,Ie.jsx)("div",{className:"auth-links",children:(0,Ie.jsx)(Re,{to:"/login",className:"auth-link",children:"Remember your password? Sign in"})})]})]})})},Zo=()=>{const e=te(),t=Z(),{userName:r,email:n,verified:o}=t.state||{},[i,s]=(0,a.useState)({email:n||"",password:"",confirmPassword:""}),[l,d]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),[g,x]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{o&&r||e("/login")}),[e,o,r]);const y=e=>{const{name:t,value:r}=e.target;s((e=>Ue(Ue({},e),{},{[t]:r}))),l[t]&&d((e=>Ue(Ue({},e),{},{[t]:""}))),p&&h("")},b=e=>{"password"===e?x(!g):m(!f)};return o&&r?(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Create New Password"}),(0,Ie.jsx)("p",{children:"Please enter your email and new password"})]}),(0,Ie.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=(()=>{const e={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email is required",i.password?Vo(i.password)||(e.password="Password must be at least 8 characters with uppercase, lowercase, and number"):e.password="Password is required",i.confirmPassword?i.password!==i.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",e})();if(Object.keys(r).length>0)d(r);else{u(!0),h("");try{let t=0;const r=5;for(;t<r;)try{await vn.createPassword({email:i.email,password:i.password});break}catch(n){if(t++,t===r)throw n;await new Promise((e=>setTimeout(e,1e3)))}e("/login",{state:{message:"Password created successfully! Please sign in with your new password."}})}catch(n){console.error("Create password error:",n),h(n.message||"Failed to create password. Please try again.")}finally{u(!1)}}},className:"auth-form",children:[p&&(0,Ie.jsx)("div",{className:"error-message",children:p}),(0,Ie.jsx)(Fo,{label:"Email Address",type:"email",name:"email",value:i.email,onChange:y,error:l.email,placeholder:"Enter your email address",required:!0}),(0,Ie.jsxs)("div",{className:"password-input-container",children:[(0,Ie.jsx)(Fo,{label:"New Password",type:g?"text":"password",name:"password",value:i.password,onChange:y,error:l.password,placeholder:"Enter your new password",required:!0}),(0,Ie.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>b("password"),children:g?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,Ie.jsxs)("div",{className:"password-input-container",children:[(0,Ie.jsx)(Fo,{label:"Confirm Password",type:f?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:y,error:l.confirmPassword,placeholder:"Confirm your new password",required:!0}),(0,Ie.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>b("confirmPassword"),children:f?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,Ie.jsxs)("div",{className:"auth-actions",style:{display:"flex",gap:"10px"},children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{e("/verify-account",{state:{userName:r,email:i.email,message:"Please verify your account to continue."}})},className:"btn btn-secondary",style:{flex:1},children:"Back"}),(0,Ie.jsx)(Ho,{type:"submit",loading:c,className:"btn btn-primary",style:{flex:2},children:"Create Password"})]})]})]})}):null},ea=()=>{const e=te(),[t,r]=(0,a.useState)({email:"",oldPassword:"",password:"",confirmPassword:""}),[n,o]=(0,a.useState)({}),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)("");(0,a.useEffect)((()=>{const t=localStorage.getItem("authToken"),n=localStorage.getItem("brokerData");if(t){if(n){const e=JSON.parse(n);r((t=>Ue(Ue({},t),{},{email:e.email||""})))}}else e("/login")}),[e]);const c=e=>{const{name:t,value:a}=e.target;r((e=>Ue(Ue({},e),{},{[t]:a}))),n[t]&&o((e=>Ue(Ue({},e),{},{[t]:""}))),l&&d("")};return(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Change Password"}),(0,Ie.jsx)("p",{children:"Update your account password"})]}),(0,Ie.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const n=(()=>{const e={};return t.oldPassword||(e.oldPassword="Current password is required"),t.password?Vo(t.password)?t.password===t.oldPassword&&(e.password="New password must be different from current password"):e.password="Password must be at least 8 characters with uppercase, lowercase, and number":e.password="New password is required",t.confirmPassword?t.password!==t.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your new password",e})();if(Object.keys(n).length>0)o(n);else{s(!0),d("");try{await vn.changePassword({email:t.email,oldPassword:t.oldPassword,password:t.password}),e("/dashboard",{state:{message:"Password changed successfully!"}})}catch(a){console.error("Change password error:",a),d(a.message||"Failed to change password. Please check your current password and try again.")}finally{s(!1)}}},className:"auth-form",children:[l&&(0,Ie.jsx)("div",{className:"error-message",children:l}),(0,Ie.jsx)(Fo,{label:"Email Address",type:"email",name:"email",value:t.email,onChange:c,disabled:!0,placeholder:"Your email address"}),(0,Ie.jsx)(Fo,{label:"Current Password",type:"password",name:"oldPassword",value:t.oldPassword,onChange:c,error:n.oldPassword,placeholder:"Enter your current password",required:!0}),(0,Ie.jsx)(Fo,{label:"New Password",type:"password",name:"password",value:t.password,onChange:c,error:n.password,placeholder:"Enter your new password",required:!0}),(0,Ie.jsx)(Fo,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,error:n.confirmPassword,placeholder:"Confirm your new password",required:!0}),(0,Ie.jsxs)("div",{className:"auth-actions step-actions",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{e("/dashboard")},className:"btn btn-secondary",children:"Cancel"}),(0,Ie.jsx)(Ho,{type:"submit",loading:i,className:"btn btn-primary",children:"Change Password"})]})]})]})})},ta=()=>{const{theme:e}=Ee(),{user:t}=fo(),[r,n]=(0,a.useState)({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",city:(null===t||void 0===t?void 0:t.city)||""}),o=e=>{n(Ue(Ue({},r),{},{[e.target.name]:e.target.value}))};return(0,Ie.jsx)("div",{style:{minHeight:"100vh",background:e.background,padding:"var(--space-8)",paddingTop:"80px"},children:(0,Ie.jsx)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:(0,Ie.jsxs)("div",{className:"modern-card",style:{background:e.cardBackground,border:"1px solid ".concat(e.border),padding:"var(--space-8)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)",marginBottom:"var(--space-8)"},children:[(0,Ie.jsx)("div",{style:{background:"var(--color-primary)",color:"white",padding:"var(--space-4)",borderRadius:"var(--radius-xl)"},children:(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Ie.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700",color:e.textPrimary},children:"Update Profile"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary,fontSize:"1rem"},children:"Update your personal information"})]})]}),(0,Ie.jsx)("form",{onSubmit:e=>{e.preventDefault(),console.log("Profile update:",r)},children:(0,Ie.jsxs)("div",{style:{display:"grid",gap:"var(--space-6)"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"0.875rem",fontWeight:"600",color:e.textPrimary},children:"Full Name"}),(0,Ie.jsx)("input",{type:"text",name:"name",value:r.name,onChange:o,className:"modern-input",style:{width:"100%",background:e.inputBackground,border:"1px solid ".concat(e.border),color:e.textPrimary},placeholder:"Enter your full name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"0.875rem",fontWeight:"600",color:e.textPrimary},children:"Email Address"}),(0,Ie.jsx)("input",{type:"email",name:"email",value:r.email,onChange:o,className:"modern-input",style:{width:"100%",background:e.inputBackground,border:"1px solid ".concat(e.border),color:e.textPrimary},placeholder:"Enter your email"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"0.875rem",fontWeight:"600",color:e.textPrimary},children:"Phone Number"}),(0,Ie.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:o,className:"modern-input",style:{width:"100%",background:e.inputBackground,border:"1px solid ".concat(e.border),color:e.textPrimary},placeholder:"Enter your phone number"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"0.875rem",fontWeight:"600",color:e.textPrimary},children:"City"}),(0,Ie.jsx)("input",{type:"text",name:"city",value:r.city,onChange:o,className:"modern-input",style:{width:"100%",background:e.inputBackground,border:"1px solid ".concat(e.border),color:e.textPrimary},placeholder:"Enter your city"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"var(--space-4)",marginTop:"var(--space-4)"},children:[(0,Ie.jsxs)("button",{type:"submit",className:"modern-button modern-button-primary",style:{flex:1,padding:"var(--space-4) var(--space-6)"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,Ie.jsx)("polyline",{points:"17,21 17,13 7,13 7,21"}),(0,Ie.jsx)("polyline",{points:"7,3 7,8 15,8"})]}),"Update Profile"]}),(0,Ie.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"modern-button modern-button-outline",style:{padding:"var(--space-4) var(--space-6)"},children:"Cancel"})]})]})})]})})})},ra=()=>{var e;const t=te(),r=Z(),[n,o]=(0,a.useState)({userName:(null===(e=r.state)||void 0===e?void 0:e.userName)||"",otp:""}),[i,s]=(0,a.useState)({}),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),f=e=>{const{name:t,value:r}=e.target;o((e=>Ue(Ue({},e),{},{[t]:r}))),i[t]&&s((e=>Ue(Ue({},e),{},{[t]:""}))),p&&h(""),g&&x("")};return(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Verify Your Account"}),(0,Ie.jsx)("p",{children:"Enter the 6-digit OTP sent to your email address"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=(()=>{const e={};return n.userName.trim()||(e.userName="Username is required"),n.otp.trim()?/^\d{6}$/.test(n.otp)||(e.otp="OTP must be 6 digits"):e.otp="OTP is required",e})();if(Object.keys(r).length>0)s(r);else{d(!0),h("");try{await vn.verifyAccount(n.userName,n.otp),t("/login",{state:{message:"Account verified successfully! You can now sign in."}})}catch(o){console.error("Verify account error:",o),h(o.message||"Invalid OTP. Please check and try again.")}finally{d(!1)}}},className:"auth-form",children:[p&&(0,Ie.jsx)("div",{className:"error-message",children:p}),g&&(0,Ie.jsx)("div",{className:"success-message",children:g}),(0,Ie.jsx)(Fo,{label:"Username",name:"userName",value:n.userName,onChange:f,error:i.userName,placeholder:"Enter your username",required:!0}),(0,Ie.jsx)(Fo,{label:"OTP",name:"otp",value:n.otp,onChange:f,error:i.otp,placeholder:"Enter 6-digit OTP",maxLength:"6",required:!0}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Ho,{type:"submit",loading:l,className:"btn btn-primary auth-submit-btn",children:"Verify Account"})}),(0,Ie.jsx)("div",{className:"auth-links",children:(0,Ie.jsx)("button",{type:"button",onClick:async()=>{if(n.userName.trim()){u(!0),h(""),x("");try{var e;const t=JSON.parse(localStorage.getItem("brokerData")||"{}").email||(null===(e=r.state)||void 0===e?void 0:e.email);if(!t)return void h("Email not found. Please try signing up again.");await vn.generateOTP(t),x("OTP sent successfully! Please check your email.")}catch(t){console.error("Resend OTP error:",t),h(t.message||"Failed to resend OTP. Please try again.")}finally{u(!1)}}else s({userName:"Username is required to resend OTP"})},disabled:c,className:"auth-link",style:{background:"none",border:"none",cursor:c?"not-allowed":"pointer",opacity:c?.6:1},children:c?"Sending...":"Didn't receive OTP? Resend"})}),(0,Ie.jsx)("div",{className:"auth-divider",children:(0,Ie.jsx)("span",{children:"Need help?"})}),(0,Ie.jsxs)("div",{className:"auth-links",children:[(0,Ie.jsx)(Re,{to:"/signup",className:"auth-link",children:"Back to Sign Up"})," | ",(0,Ie.jsx)(Re,{to:"/login",className:"auth-link",children:"Sign In Instead"})]})]})]})})},na=()=>{const e=te(),t=Z(),{userName:r,email:n,fromForgotPassword:o}=t.state||{},[i,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)("");return r&&n?(0,Ie.jsx)("div",{className:"auth-container",children:(0,Ie.jsxs)("div",{className:"auth-card",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)("h1",{children:"Verify OTP"}),(0,Ie.jsx)("p",{children:"Enter the 6-digit code sent to your email"})]}),(0,Ie.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i&&6===i.length){d(!0),u("");try{await vn.verifyAccount(r,parseInt(i,10)),o?e("/create-password",{state:{userName:r,email:n,verified:!0}}):e("/dashboard",{state:{message:"Account verified successfully!"}})}catch(c){console.error("OTP verification error:",c),u(c.message||"Invalid OTP. Please try again.")}finally{d(!1)}}else u("Please enter a valid 6-digit OTP")},className:"auth-form",children:[c&&(0,Ie.jsx)("div",{className:"error-message",children:c}),(0,Ie.jsx)(Fo,{label:"OTP Code",type:"text",name:"otp",value:i,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);s(t),c&&u("")},error:"",placeholder:"Enter 6-digit OTP",pattern:"[0-9]*",inputMode:"numeric",maxLength:6,required:!0}),(0,Ie.jsx)("div",{className:"auth-actions",children:(0,Ie.jsx)(Ho,{type:"submit",loading:l,className:"btn btn-primary auth-submit-btn",children:"Verify OTP"})}),(0,Ie.jsx)("div",{className:"auth-links",children:(0,Ie.jsx)("button",{type:"button",onClick:async()=>{d(!0),u("");try{o?await vn.forgotPassword(r):await vn.regenerateOtp(n),alert("A new OTP has been sent to your email.")}catch(c){console.error("Resend OTP error:",c),u(c.message||"Failed to resend OTP. Please try again.")}finally{d(!1)}},className:"auth-link",style:{background:"none",border:"none",cursor:"pointer"},disabled:l,children:"Didn't receive the code? Resend OTP"})})]})]})}):(e("/login"),null)};function oa(e){return e+.5|0}const aa=(e,t,r)=>Math.max(Math.min(e,r),t);function ia(e){return aa(oa(2.55*e),0,255)}function sa(e){return aa(oa(255*e),0,255)}function la(e){return aa(oa(e/2.55)/100,0,1)}function da(e){return aa(oa(100*e),0,100)}const ca={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ua=[..."0123456789ABCDEF"],pa=e=>ua[15&e],ha=e=>ua[(240&e)>>4]+ua[15&e],ga=e=>(240&e)>>4===(15&e);function xa(e){var t=(e=>ga(e.r)&&ga(e.g)&&ga(e.b)&&ga(e.a))(e)?pa:ha;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const fa=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ma(e,t,r){const n=t*Math.min(r,1-r),o=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(o-3,9-o,1),-1)};return[o(0),o(8),o(4)]}function ya(e,t,r){const n=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(o,4-o,1),0)};return[n(5),n(3),n(1)]}function ba(e,t,r){const n=ma(e,1,.5);let o;for(t+r>1&&(o=1/(t+r),t*=o,r*=o),o=0;o<3;o++)n[o]*=1-t-r,n[o]+=t;return n}function va(e){const t=e.r/255,r=e.g/255,n=e.b/255,o=Math.max(t,r,n),a=Math.min(t,r,n),i=(o+a)/2;let s,l,d;return o!==a&&(d=o-a,l=i>.5?d/(2-o-a):d/(o+a),s=function(e,t,r,n,o){return e===o?(t-r)/n+(t<r?6:0):t===o?(r-e)/n+2:(e-t)/n+4}(t,r,n,d,o),s=60*s+.5),[0|s,l||0,i]}function ja(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(sa)}function ka(e,t,r){return ja(ma,e,t,r)}function wa(e){return(e%360+360)%360}function Sa(e){const t=fa.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?ia(+t[5]):sa(+t[5]));const o=wa(+t[2]),a=+t[3]/100,i=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return ja(ba,e,t,r)}(o,a,i):"hsv"===t[1]?function(e,t,r){return ja(ya,e,t,r)}(o,a,i):ka(o,a,i),{r:r[0],g:r[1],b:r[2],a:n}}const Ca={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pa={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ba;function Na(e){Ba||(Ba=function(){const e={},t=Object.keys(Pa),r=Object.keys(Ca);let n,o,a,i,s;for(n=0;n<t.length;n++){for(i=s=t[n],o=0;o<r.length;o++)a=r[o],s=s.replace(a,Ca[a]);a=parseInt(Pa[i],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),Ba.transparent=[0,0,0,0]);const t=Ba[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Ta=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ra=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Aa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _a(e,t,r){if(e){let n=va(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=ka(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ia(e,t){return e?Object.assign(t||{},e):e}function za(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=sa(e[3]))):(t=Ia(e,{r:0,g:0,b:0,a:1})).a=sa(t.a),t}function Ea(e){return"r"===e.charAt(0)?function(e){const t=Ta.exec(e);let r,n,o,a=255;if(t){if(t[7]!==r){const e=+t[7];a=t[8]?ia(e):aa(255*e,0,255)}return r=+t[1],n=+t[3],o=+t[5],r=255&(t[2]?ia(r):aa(r,0,255)),n=255&(t[4]?ia(n):aa(n,0,255)),o=255&(t[6]?ia(o):aa(o,0,255)),{r:r,g:n,b:o,a:a}}}(e):Sa(e)}class Ma{constructor(e){if(e instanceof Ma)return e;const t=typeof e;let r;"object"===t?r=za(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*ca[e[1]],g:255&17*ca[e[2]],b:255&17*ca[e[3]],a:5===r?17*ca[e[4]]:255}:7!==r&&9!==r||(t={r:ca[e[1]]<<4|ca[e[2]],g:ca[e[3]]<<4|ca[e[4]],b:ca[e[5]]<<4|ca[e[6]],a:9===r?ca[e[7]]<<4|ca[e[8]]:255})),t}(e)||Na(e)||Ea(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Ia(this._rgb);return e&&(e.a=la(e.a)),e}set rgb(e){this._rgb=za(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(la(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?xa(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=va(e),r=t[0],n=da(t[1]),o=da(t[2]);return e.a<255?"hsla(".concat(r,", ").concat(n,"%, ").concat(o,"%, ").concat(la(e.a),")"):"hsl(".concat(r,", ").concat(n,"%, ").concat(o,"%)")}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let o;const a=t===o?.5:t,i=2*a-1,s=r.a-n.a,l=((i*s===-1?i:(i+s)/(1+i*s))+1)/2;o=1-l,r.r=255&l*r.r+o*n.r+.5,r.g=255&l*r.g+o*n.g+.5,r.b=255&l*r.b+o*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=Aa(la(e.r)),o=Aa(la(e.g)),a=Aa(la(e.b));return{r:sa(Ra(n+r*(Aa(la(t.r))-n))),g:sa(Ra(o+r*(Aa(la(t.g))-o))),b:sa(Ra(a+r*(Aa(la(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Ma(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=oa(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _a(this._rgb,2,e),this}darken(e){return _a(this._rgb,2,-e),this}saturate(e){return _a(this._rgb,1,e),this}desaturate(e){return _a(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=va(e);r[0]=wa(r[0]+t),r=ka(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function Da(){}const La=(()=>{let e=0;return()=>e++})();function Oa(e){return null===e||void 0===e}function Fa(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Wa(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ua(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ha(e,t){return Ua(e)?e:t}function Va(e,t){return"undefined"===typeof e?t:e}const Ya=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function qa(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Qa(e,t,r,n){let o,a,i;if(Fa(e))if(a=e.length,n)for(o=a-1;o>=0;o--)t.call(r,e[o],o);else for(o=0;o<a;o++)t.call(r,e[o],o);else if(Wa(e))for(i=Object.keys(e),a=i.length,o=0;o<a;o++)t.call(r,e[i[o]],i[o])}function $a(e,t){let r,n,o,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(o=e[r],a=t[r],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function Ga(e){if(Fa(e))return e.map(Ga);if(Wa(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let o=0;for(;o<n;++o)t[r[o]]=Ga(e[r[o]]);return t}return e}function Ka(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Xa(e,t,r,n){if(!Ka(e))return;const o=t[e],a=r[e];Wa(o)&&Wa(a)?Ja(o,a,n):t[e]=Ga(a)}function Ja(e,t,r){const n=Fa(t)?t:[t],o=n.length;if(!Wa(e))return e;const a=(r=r||{}).merger||Xa;let i;for(let s=0;s<o;++s){if(i=n[s],!Wa(i))continue;const t=Object.keys(i);for(let n=0,o=t.length;n<o;++n)a(t[n],e,i,r)}return e}function Za(e,t){return Ja(e,t,{merger:ei})}function ei(e,t,r){if(!Ka(e))return;const n=t[e],o=r[e];Wa(n)&&Wa(o)?Za(n,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ga(o))}const ti={"":e=>e,x:e=>e.x,y:e=>e.y};function ri(e,t){const r=ti[t]||(ti[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const o of t)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function ni(e){return e.charAt(0).toUpperCase()+e.slice(1)}const oi=e=>"undefined"!==typeof e,ai=e=>"function"===typeof e,ii=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const si=Math.PI,li=2*si,di=li+si,ci=Number.POSITIVE_INFINITY,ui=si/180,pi=si/2,hi=si/4,gi=2*si/3,xi=Math.log10,fi=Math.sign;function mi(e,t,r){return Math.abs(e-t)<r}function yi(e){const t=Math.round(e);e=mi(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(xi(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function bi(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function vi(e,t,r){let n,o,a;for(n=0,o=e.length;n<o;n++)a=e[n][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ji(e){return e*(si/180)}function ki(e){return e*(180/si)}function wi(e){if(!Ua(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function Si(e,t){const r=t.x-e.x,n=t.y-e.y,o=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*si&&(a+=li),{angle:a,distance:o}}function Ci(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Pi(e,t){return(e-t+di)%li-si}function Bi(e){return(e%li+li)%li}function Ni(e,t,r,n){const o=Bi(e),a=Bi(t),i=Bi(r),s=Bi(a-o),l=Bi(i-o),d=Bi(o-a),c=Bi(o-i);return o===a||o===i||n&&a===i||s>l&&d<c}function Ti(e,t,r){return Math.max(t,Math.min(r,e))}function Ri(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Ai(e,t,r){r=r||(r=>e[r]<t);let n,o=e.length-1,a=0;for(;o-a>1;)n=a+o>>1,r(n)?a=n:o=n;return{lo:a,hi:o}}const _i=(e,t,r,n)=>Ai(e,r,n?n=>{const o=e[n][t];return o<r||o===r&&e[n+1][t]===r}:n=>e[n][t]<r),Ii=(e,t,r)=>Ai(e,r,(n=>e[n][t]>=r));const zi=["push","pop","shift","splice","unshift"];function Ei(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,o=n.indexOf(t);-1!==o&&n.splice(o,1),n.length>0||(zi.forEach((t=>{delete e[t]})),delete e._chartjs)}function Mi(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Di="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Li(e,t){let r=[],n=!1;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];r=a,n||(n=!0,Di.call(window,(()=>{n=!1,e.apply(t,r)})))}}const Oi=e=>"start"===e?"left":"end"===e?"right":"center",Fi=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function Wi(e,t,r){const n=t.length;let o=0,a=n;if(e._sorted){const{iScale:i,vScale:s,_parsed:l}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=i.axis,{min:u,max:p,minDefined:h,maxDefined:g}=i.getUserBounds();if(h){if(o=Math.min(_i(l,c,u).lo,r?n:_i(t,c,i.getPixelForValue(u)).lo),d){const e=l.slice(0,o+1).reverse().findIndex((e=>!Oa(e[s.axis])));o-=Math.max(0,e)}o=Ti(o,0,n-1)}if(g){let e=Math.max(_i(l,i.axis,p,!0).hi+1,r?0:_i(t,c,i.getPixelForValue(p),!0).hi+1);if(d){const t=l.slice(e-1).findIndex((e=>!Oa(e[s.axis])));e+=Math.max(0,t)}a=Ti(e,o,n)-o}else a=n-o}return{start:o,count:a}}function Ui(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,o={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=o,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,o),a}const Hi=e=>0===e||1===e,Vi=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*li/r),Yi=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*li/r)+1,qi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*pi),easeOutSine:e=>Math.sin(e*pi),easeInOutSine:e=>-.5*(Math.cos(si*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Hi(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Hi(e)?e:Vi(e,.075,.3),easeOutElastic:e=>Hi(e)?e:Yi(e,.075,.3),easeInOutElastic(e){const t=.1125;return Hi(e)?e:e<.5?.5*Vi(2*e,t,.45):.5+.5*Yi(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-qi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*qi.easeInBounce(2*e):.5*qi.easeOutBounce(2*e-1)+.5};function Qi(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function $i(e){return Qi(e)?e:new Ma(e)}function Gi(e){return Qi(e)?e:new Ma(e).saturate(.5).darken(.1).hexString()}const Ki=["x","y","borderWidth","radius","tension"],Xi=["color","borderColor","backgroundColor"];const Ji=new Map;function Zi(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=Ji.get(r);return n||(n=new Intl.NumberFormat(e,t),Ji.set(r,n)),n}(t,r).format(e)}const es={values:e=>Fa(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let o,a=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(o="scientific"),a=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const i=xi(Math.abs(a)),s=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Zi(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(xi(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?es.numeric.call(this,e,t,r):""}};var ts={formatters:es};const rs=Object.create(null),ns=Object.create(null);function os(e,t){if(!t)return e;const r=t.split(".");for(let n=0,o=r.length;n<o;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function as(e,t,r){return"string"===typeof t?Ja(os(e,t),r):Ja(os(e,""),t)}class is{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Gi(t.backgroundColor),this.hoverBorderColor=(e,t)=>Gi(t.borderColor),this.hoverColor=(e,t)=>Gi(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return as(this,e,t)}get(e){return os(this,e)}describe(e,t){return as(ns,e,t)}override(e,t){return as(rs,e,t)}route(e,t,r,n){const o=os(this,e),a=os(this,r),i="_"+t;Object.defineProperties(o,{[i]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[n];return Wa(e)?Object.assign({},t,e):Va(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach((e=>e(this)))}}var ss=new is({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Xi},numbers:{type:"number",properties:Ki}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ts.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ls(e,t,r,n,o){let a=t[o];return a||(a=t[o]=e.measureText(o).width,r.push(o)),a>n&&(n=a),n}function ds(e,t,r,n){let o=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(o=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const s=r.length;let l,d,c,u,p;for(l=0;l<s;l++)if(u=r[l],void 0===u||null===u||Fa(u)){if(Fa(u))for(d=0,c=u.length;d<c;d++)p=u[d],void 0===p||null===p||Fa(p)||(i=ls(e,o,a,i,p))}else i=ls(e,o,a,i,u);e.restore();const h=a.length/2;if(h>r.length){for(l=0;l<h;l++)delete o[a[l]];a.splice(0,h)}return i}function cs(e,t,r){const n=e.currentDevicePixelRatio,o=0!==r?Math.max(r/2,.5):0;return Math.round((t-o)*n)/n+o}function us(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ps(e,t,r,n){hs(e,t,r,n,null)}function hs(e,t,r,n,o){let a,i,s,l,d,c,u,p;const h=t.pointStyle,g=t.rotation,x=t.radius;let f=(g||0)*ui;if(h&&"object"===typeof h&&(a=h.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(r,n),e.rotate(f),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(x)||x<=0)){switch(e.beginPath(),h){default:o?e.ellipse(r,n,o/2,x,0,0,li):e.arc(r,n,x,0,li),e.closePath();break;case"triangle":c=o?o/2:x,e.moveTo(r+Math.sin(f)*c,n-Math.cos(f)*x),f+=gi,e.lineTo(r+Math.sin(f)*c,n-Math.cos(f)*x),f+=gi,e.lineTo(r+Math.sin(f)*c,n-Math.cos(f)*x),e.closePath();break;case"rectRounded":d=.516*x,l=x-d,i=Math.cos(f+hi)*l,u=Math.cos(f+hi)*(o?o/2-d:l),s=Math.sin(f+hi)*l,p=Math.sin(f+hi)*(o?o/2-d:l),e.arc(r-u,n-s,d,f-si,f-pi),e.arc(r+p,n-i,d,f-pi,f),e.arc(r+u,n+s,d,f,f+pi),e.arc(r-p,n+i,d,f+pi,f+si),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*x,c=o?o/2:l,e.rect(r-c,n-l,2*c,2*l);break}f+=hi;case"rectRot":u=Math.cos(f)*(o?o/2:x),i=Math.cos(f)*x,s=Math.sin(f)*x,p=Math.sin(f)*(o?o/2:x),e.moveTo(r-u,n-s),e.lineTo(r+p,n-i),e.lineTo(r+u,n+s),e.lineTo(r-p,n+i),e.closePath();break;case"crossRot":f+=hi;case"cross":u=Math.cos(f)*(o?o/2:x),i=Math.cos(f)*x,s=Math.sin(f)*x,p=Math.sin(f)*(o?o/2:x),e.moveTo(r-u,n-s),e.lineTo(r+u,n+s),e.moveTo(r+p,n-i),e.lineTo(r-p,n+i);break;case"star":u=Math.cos(f)*(o?o/2:x),i=Math.cos(f)*x,s=Math.sin(f)*x,p=Math.sin(f)*(o?o/2:x),e.moveTo(r-u,n-s),e.lineTo(r+u,n+s),e.moveTo(r+p,n-i),e.lineTo(r-p,n+i),f+=hi,u=Math.cos(f)*(o?o/2:x),i=Math.cos(f)*x,s=Math.sin(f)*x,p=Math.sin(f)*(o?o/2:x),e.moveTo(r-u,n-s),e.lineTo(r+u,n+s),e.moveTo(r+p,n-i),e.lineTo(r-p,n+i);break;case"line":i=o?o/2:Math.cos(f)*x,s=Math.sin(f)*x,e.moveTo(r-i,n-s),e.lineTo(r+i,n+s);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(f)*(o?o/2:x),n+Math.sin(f)*x);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function gs(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function xs(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function fs(e){e.restore()}function ms(e,t,r,n,o){if(!t)return e.lineTo(r.x,r.y);if("middle"===o){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===o!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function ys(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function bs(e,t,r,n,o){if(o.strikethrough||o.underline){const a=e.measureText(n),i=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,d=r+a.actualBoundingBoxDescent,c=o.strikethrough?(l+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(i,c),e.lineTo(s,c),e.stroke()}}function vs(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function js(e,t,r,n,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Fa(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,d;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Oa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)d=i[l],a.backdrop&&vs(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Oa(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,r,n,a.maxWidth)),e.fillText(d,r,n,a.maxWidth),bs(e,r,n,d,a),n+=Number(o.lineHeight);e.restore()}function ks(e,t){const{x:r,y:n,w:o,h:a,radius:i}=t;e.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*si,si,!0),e.lineTo(r,n+a-i.bottomLeft),e.arc(r+i.bottomLeft,n+a-i.bottomLeft,i.bottomLeft,si,pi,!0),e.lineTo(r+o-i.bottomRight,n+a),e.arc(r+o-i.bottomRight,n+a-i.bottomRight,i.bottomRight,pi,0,!0),e.lineTo(r+o,n+i.topRight),e.arc(r+o-i.topRight,n+i.topRight,i.topRight,0,-pi,!0),e.lineTo(r+i.topLeft,n)}const ws=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ss=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Cs(e,t){const r=(""+e).match(ws);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}function Ps(e,t){const r={},n=Wa(t),o=n?Object.keys(t):t,a=Wa(e)?n?r=>Va(e[r],e[t[r]]):t=>e[t]:()=>e;for(const i of o)r[i]=+a(i)||0;return r}function Bs(e){return Ps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ns(e){return Ps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ts(e){const t=Bs(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Rs(e,t){e=e||{},t=t||ss.font;let r=Va(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=Va(e.style,t.style);n&&!(""+n).match(Ss)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:Va(e.family,t.family),lineHeight:Cs(Va(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:Va(e.weight,t.weight),string:""};return o.string=function(e){return!e||Oa(e.size)||Oa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function As(e,t,r,n){let o,a,i,s=!0;for(o=0,a=e.length;o<a;++o)if(i=e[o],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),s=!1),void 0!==r&&Fa(i)&&(i=i[r%i.length],s=!1),void 0!==i))return n&&!s&&(n.cacheable=!1),i}function _s(e,t){return Object.assign(Object.create(e),t)}function Is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const o=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=Vs("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:n,override:n=>Is([n,...e],t,o,r)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>Ls(r,n,(()=>function(e,t,r,n){let o;for(const a of t)if(o=Vs(Ms(a,e),r),"undefined"!==typeof o)return Ds(e,o)?Us(r,n,e,o):o}(n,t,e,r))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ys(e).includes(t),ownKeys:e=>Ys(e),set(e,t,r){const o=e._storage||(e._storage=n());return e[t]=o[t]=r,delete e._keys,!0}})}function zs(e,t,r,n){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:Es(e,n),setContext:t=>zs(e,t,r,n),override:o=>zs(e.override(o),t,r,n)};return new Proxy(o,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>Ls(e,t,(()=>function(e,t,r){const{_proxy:n,_context:o,_subProxy:a,_descriptors:i}=e;let s=n[t];ai(s)&&i.isScriptable(t)&&(s=function(e,t,r,n){const{_proxy:o,_context:a,_subProxy:i,_stack:s}=r;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,i||n);s.delete(e),Ds(e,l)&&(l=Us(o._scopes,o,e,l));return l}(t,s,e,r));Fa(s)&&s.length&&(s=function(e,t,r,n){const{_proxy:o,_context:a,_subProxy:i,_descriptors:s}=r;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(Wa(t[0])){const r=t,n=o._scopes.filter((e=>e!==r));t=[];for(const l of r){const r=Us(n,o,e,l);t.push(zs(r,a,i&&i[e],s))}}return t}(t,s,e,i.isIndexable));Ds(t,s)&&(s=zs(s,o,a&&a[t],i));return s}(e,t,r))),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function Es(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:r,indexable:n,isScriptable:ai(r)?r:()=>r,isIndexable:ai(n)?n:()=>n}}const Ms=(e,t)=>e?e+ni(t):t,Ds=(e,t)=>Wa(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ls(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function Os(e,t,r){return ai(e)?e(t,r):e}const Fs=(e,t)=>!0===e?t:"string"===typeof e?ri(t,e):void 0;function Ws(e,t,r,n,o){for(const a of t){const t=Fs(r,a);if(t){e.add(t);const a=Os(t._fallback,r,o);if("undefined"!==typeof a&&a!==r&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function Us(e,t,r,n){const o=t._rootScopes,a=Os(t._fallback,r,n),i=[...e,...o],s=new Set;s.add(n);let l=Hs(s,i,r,a||r,n);return null!==l&&(("undefined"===typeof a||a===r||(l=Hs(s,i,a,l,n),null!==l))&&Is(Array.from(s),[""],o,a,(()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const o=n[t];if(Fa(o)&&Wa(r))return r;return o||{}}(t,r,n))))}function Hs(e,t,r,n,o){for(;r;)r=Ws(e,t,r,n,o);return r}function Vs(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function Ys(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function qs(e,t,r,n){const{iScale:o}=e,{key:a="r"}=this._parsing,i=new Array(n);let s,l,d,c;for(s=0,l=n;s<l;++s)d=s+r,c=t[d],i[s]={r:o.parse(ri(c,a),d)};return i}const Qs=Number.EPSILON||1e-14,$s=(e,t)=>t<e.length&&!e[t].skip&&e[t],Gs=e=>"x"===e?"y":"x";function Ks(e,t,r,n){const o=e.skip?t:e,a=t,i=r.skip?t:r,s=Ci(a,o),l=Ci(i,a);let d=s/(s+l),c=l/(s+l);d=isNaN(d)?0:d,c=isNaN(c)?0:c;const u=n*d,p=n*c;return{previous:{x:a.x-u*(i.x-o.x),y:a.y-u*(i.y-o.y)},next:{x:a.x+p*(i.x-o.x),y:a.y+p*(i.y-o.y)}}}function Xs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=Gs(t),n=e.length,o=Array(n).fill(0),a=Array(n);let i,s,l,d=$s(e,0);for(i=0;i<n;++i)if(s=l,l=d,d=$s(e,i+1),l){if(d){const e=d[t]-l[t];o[i]=0!==e?(d[r]-l[r])/e:0}a[i]=s?d?fi(o[i-1])!==fi(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}!function(e,t,r){const n=e.length;let o,a,i,s,l,d=$s(e,0);for(let c=0;c<n-1;++c)l=d,d=$s(e,c+1),l&&d&&(mi(t[c],0,Qs)?r[c]=r[c+1]=0:(o=r[c]/t[c],a=r[c+1]/t[c],s=Math.pow(o,2)+Math.pow(a,2),s<=9||(i=3/Math.sqrt(s),r[c]=o*i*t[c],r[c+1]=a*i*t[c])))}(e,o,a),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=Gs(r),o=e.length;let a,i,s,l=$s(e,0);for(let d=0;d<o;++d){if(i=s,s=l,l=$s(e,d+1),!s)continue;const o=s[r],c=s[n];i&&(a=(o-i[r])/3,s["cp1".concat(r)]=o-a,s["cp1".concat(n)]=c-a*t[d]),l&&(a=(l[r]-o)/3,s["cp2".concat(r)]=o+a,s["cp2".concat(n)]=c+a*t[d])}}(e,a,t)}function Js(e,t,r){return Math.max(Math.min(e,r),t)}function Zs(e,t,r,n,o){let a,i,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Xs(e,o);else{let r=n?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)s=e[a],l=Ks(r,s,e[Math.min(a+1,i-(n?0:1))%i],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,r=s}t.capBezierPoints&&function(e,t){let r,n,o,a,i,s=gs(e[0],t);for(r=0,n=e.length;r<n;++r)i=a,a=s,s=r<n-1&&gs(e[r+1],t),a&&(o=e[r],i&&(o.cp1x=Js(o.cp1x,t.left,t.right),o.cp1y=Js(o.cp1y,t.top,t.bottom)),s&&(o.cp2x=Js(o.cp2x,t.left,t.right),o.cp2y=Js(o.cp2y,t.top,t.bottom)))}(e,r)}function el(){return"undefined"!==typeof window&&"undefined"!==typeof document}function tl(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function rl(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const nl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ol=["top","right","bottom","left"];function al(e,t,r){const n={};r=r?"-"+r:"";for(let o=0;o<4;o++){const a=ol[o];n[a]=parseFloat(e[t+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function il(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,o=nl(r),a="border-box"===o.boxSizing,i=al(o,"padding"),s=al(o,"border","width"),{x:l,y:d,box:c}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:o,offsetY:a}=n;let i,s,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(o,a,e.target))i=o,s=a;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,s=n.clientY-e.top,l=!0}return{x:i,y:s,box:l}}(e,r),u=i.left+(c&&s.left),p=i.top+(c&&s.top);let{width:h,height:g}=t;return a&&(h-=i.width+s.width,g-=i.height+s.height),{x:Math.round((l-u)/h*r.width/n),y:Math.round((d-p)/g*r.height/n)}}const sl=e=>Math.round(10*e)/10;function ll(e,t,r,n){const o=nl(e),a=al(o,"margin"),i=rl(o.maxWidth,e,"clientWidth")||ci,s=rl(o.maxHeight,e,"clientHeight")||ci,l=function(e,t,r){let n,o;if(void 0===t||void 0===r){const a=e&&tl(e);if(a){const e=a.getBoundingClientRect(),i=nl(a),s=al(i,"border","width"),l=al(i,"padding");t=e.width-l.width-s.width,r=e.height-l.height-s.height,n=rl(i.maxWidth,a,"clientWidth"),o=rl(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||ci,maxHeight:o||ci}}(e,t,r);let{width:d,height:c}=l;if("content-box"===o.boxSizing){const e=al(o,"border","width"),t=al(o,"padding");d-=t.width+e.width,c-=t.height+e.height}d=Math.max(0,d-a.width),c=Math.max(0,n?d/n:c-a.height),d=sl(Math.min(d,i,l.maxWidth)),c=sl(Math.min(c,s,l.maxHeight)),d&&!c&&(c=sl(d/2));return(void 0!==t||void 0!==r)&&n&&l.height&&c>l.height&&(c=l.height,d=sl(Math.floor(c*n))),{width:d,height:c}}function dl(e,t,r){const n=t||1,o=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==o||i.width!==a)&&(e.currentDevicePixelRatio=n,i.height=o,i.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const cl=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};el()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(ug){}return e}();function ul(e,t){const r=function(e,t){return nl(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function pl(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function hl(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function gl(e,t,r,n){const o={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=pl(e,o,r),s=pl(o,a,r),l=pl(a,t,r),d=pl(i,s,r),c=pl(s,l,r);return pl(d,c,r)}function xl(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function fl(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function ml(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yl(e){return"angle"===e?{between:Ni,compare:Pi,normalize:Bi}:{between:Ri,compare:(e,t)=>e-t,normalize:e=>e}}function bl(e){let{start:t,end:r,count:n,loop:o,style:a}=e;return{start:t%n,end:r%n,loop:o&&(r-t+1)%n===0,style:a}}function vl(e,t,r){if(!r)return[e];const{property:n,start:o,end:a}=r,i=t.length,{compare:s,between:l,normalize:d}=yl(n),{start:c,end:u,loop:p,style:h}=function(e,t,r){const{property:n,start:o,end:a}=r,{between:i,normalize:s}=yl(n),l=t.length;let d,c,{start:u,end:p,loop:h}=e;if(h){for(u+=l,p+=l,d=0,c=l;d<c&&i(s(t[u%l][n]),o,a);++d)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:h,style:e.style}}(e,t,r),g=[];let x,f,m,y=!1,b=null;const v=()=>y||l(o,m,x)&&0!==s(o,m),j=()=>!y||0===s(a,x)||l(a,m,x);for(let k=c,w=c;k<=u;++k)f=t[k%i],f.skip||(x=d(f[n]),x!==m&&(y=l(x,o,a),null===b&&v()&&(b=0===s(x,o)?k:w),null!==b&&j()&&(g.push(bl({start:b,end:k,loop:p,count:i,style:h})),b=null),w=k,m=x));return null!==b&&g.push(bl({start:b,end:u,loop:p,count:i,style:h})),g}function jl(e,t){const r=[],n=e.segments;for(let o=0;o<n.length;o++){const a=vl(n[o],e.points,t);a.length&&r.push(...a)}return r}function kl(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const o=e._chart.getContext(),a=wl(e.options),{_datasetIndex:i,options:{spanGaps:s}}=e,l=r.length,d=[];let c=a,u=t[0].start,p=u;function h(e,t,n,o){const a=s?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!==t%l&&(d.push({start:e%l,end:t%l,loop:n,style:o}),c=o,u=t%l)}}for(const g of t){u=s?u:g.start;let e,t=r[u%l];for(p=u+1;p<=g.end;p++){const a=r[p%l];e=wl(n.setContext(_s(o,{type:"segment",p0:t,p1:a,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:i}))),Sl(e,c)&&h(u,p-1,g.loop,c),t=a,c=e}u<p-1&&h(u,p-1,g.loop,c)}return d}(e,t,r,n):t}function wl(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Sl(e,t){if(!t)return!1;const r=[],n=function(e,t){return Qi(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Cl(e,t,r){return e.options.clip?e[r]:t[r]}function Pl(e,t){const r=t._clip;if(r.disabled)return!1;const n=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:Cl(r,t,"left"),right:Cl(r,t,"right"),top:Cl(n,t,"top"),bottom:Cl(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:n.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:n.right+(!0===r.right?0:r.right),top:!1===r.top?0:n.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:n.bottom+(!0===r.bottom?0:r.bottom)}}class Bl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const o=t.listeners[n],a=t.duration;o.forEach((n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Di.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((r,n)=>{if(!r.running||!r.items.length)return;const o=r.items;let a,i=o.length-1,s=!1;for(;i>=0;--i)a=o[i],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(e),s=!0):(o[i]=o[o.length-1],o.pop());s&&(n.draw(),this._notify(n,r,e,"progress")),o.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=o.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nl=new Bl;const Tl="transparent",Rl={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=$i(e||Tl),o=n.valid&&$i(t||Tl);return o&&o.valid?o.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class Al{constructor(e,t,r,n){const o=t[r];n=As([e.to,n,o,e.from]);const a=As([e.from,o,n]);this._active=!0,this._fn=e.fn||Rl[e.type||typeof a],this._easing=qi[e.easing]||qi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],o=r-this._start,a=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=As([e.to,t,n,e.from]),this._from=As([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,o=this._from,a=this._loop,i=this._to;let s;if(this._active=o!==i&&(a||t<r),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=o:(s=t/r%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[n]=this._fn(o,i,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,r)=>{e.push({res:t,rej:r})}))}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class _l{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Wa(e))return;const t=Object.keys(ss.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const o=e[n];if(!Wa(o))return;const a={};for(const e of t)a[e]=o[e];(Fa(o.properties)&&o.properties||[n]).forEach((e=>{e!==n&&r.has(e)||r.set(e,a)}))}))}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const o=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let o=0;o<n.length;o++){const t=e[n[o]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then((()=>{e.options=r}),(()=>{})),o}_createAnimations(e,t){const r=this._properties,n=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const d=t[l];let c=o[l];const u=r.get(l);if(c){if(u&&c.active()){c.update(u,d,i);continue}c.cancel()}u&&u.duration?(o[l]=c=new Al(u,e,l,d),n.push(c)):e[l]=d}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(Nl.add(this._chart,r),!0):void 0}}function Il(e,t){const r=e&&e.options||{},n=r.reverse,o=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:n?a:o,end:n?o:a}}function zl(e,t){const r=[],n=e._getSortedDatasetMetas(t);let o,a;for(o=0,a=n.length;o<a;++o)r.push(n[o].index);return r}function El(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.keys,a="single"===n.mode;let i,s,l,d;if(null===t)return;let c=!1;for(i=0,s=o.length;i<s;++i){if(l=+o[i],l===r){if(c=!0,n.all)continue;break}d=e.values[l],Ua(d)&&(a||0===t||fi(t)===fi(d))&&(t+=d)}return c||n.all?t:0}function Ml(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function Dl(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function Ll(e,t,r,n){for(const o of t.getMatchingVisibleMetas(n).reverse()){const t=e[o.index];if(r&&t>0||!r&&t<0)return o.index}return null}function Ol(e,t){const{chart:r,_cachedMeta:n}=e,o=r._stacks||(r._stacks={}),{iScale:a,vScale:i,index:s}=n,l=a.axis,d=i.axis,c=function(e,t,r){return"".concat(e.id,".").concat(t.id,".").concat(r.stack||r.type)}(a,i,n),u=t.length;let p;for(let h=0;h<u;++h){const e=t[h],{[l]:r,[d]:a}=e;p=(e._stacks||(e._stacks={}))[d]=Dl(o,c,r),p[s]=a,p._top=Ll(p,i,!0,n.type),p._bottom=Ll(p,i,!1,n.type);(p._visualValues||(p._visualValues={}))[s]=a}}function Fl(e,t){const r=e.scales;return Object.keys(r).filter((e=>r[e].axis===t)).shift()}function Wl(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const Ul=e=>"reset"===e||"none"===e,Hl=(e,t)=>t?e:Object.assign({},e);class Vl{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ml(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,o=t.xAxisID=Va(r.xAxisID,Fl(e,"x")),a=t.yAxisID=Va(r.yAxisID,Fl(e,"y")),i=t.rAxisID=Va(r.rAxisID,Fl(e,"r")),s=t.indexAxis,l=t.iAxisID=n(s,o,a,i),d=t.vAxisID=n(s,a,o,i);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ei(this._data,this),e._stacked&&Wl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Wa(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,o="x"===r.axis?"x":"y",a="x"===n.axis?"x":"y",i=Object.keys(e),s=new Array(i.length);let l,d,c;for(l=0,d=i.length;l<d;++l)c=i[l],s[l]={[o]:c,[a]:e[c]};return s}(t,e)}else if(r!==t){if(r){Ei(r,this);const e=this._cachedMeta;Wl(e),e._parsed=[]}t&&Object.isExtensible(t)&&(o=this,(n=t)._chartjs?n._chartjs.listeners.push(o):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),zi.forEach((e=>{const t="_onData"+ni(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];const i=r.apply(this,o);return n._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...o)})),i}})})))),this._syncList=[],this._data=t}var n,o}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const o=t._stacked;t._stacked=Ml(t.vScale,t),t.stack!==r.stack&&(n=!0,Wl(t),t.stack=r.stack),this._resyncElements(e),(n||o!==t._stacked)&&(Ol(this,t._parsed),t._stacked=Ml(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:o,_stacked:a}=r,i=o.axis;let s,l,d,c=0===e&&t===n.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,d=n;else{d=Fa(n[e])?this.parseArrayData(r,n,e,t):Wa(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const o=()=>null===l[i]||u&&l[i]<u[i];for(s=0;s<t;++s)r._parsed[s+e]=l=d[s],c&&(o()&&(c=!1),u=l);r._sorted=c}a&&Ol(this,d)}parsePrimitiveData(e,t,r,n){const{iScale:o,vScale:a}=e,i=o.axis,s=a.axis,l=o.getLabels(),d=o===a,c=new Array(n);let u,p,h;for(u=0,p=n;u<p;++u)h=u+r,c[u]={[i]:d||o.parse(l[h],h),[s]:a.parse(t[h],h)};return c}parseArrayData(e,t,r,n){const{xScale:o,yScale:a}=e,i=new Array(n);let s,l,d,c;for(s=0,l=n;s<l;++s)d=s+r,c=t[d],i[s]={x:o.parse(c[0],d),y:a.parse(c[1],d)};return i}parseObjectData(e,t,r,n){const{xScale:o,yScale:a}=e,{xAxisKey:i="x",yAxisKey:s="y"}=this._parsing,l=new Array(n);let d,c,u,p;for(d=0,c=n;d<c;++d)u=d+r,p=t[u],l[d]={x:o.parse(ri(p,i),u),y:a.parse(ri(p,s),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,o=this._cachedMeta,a=t[e.axis];return El({keys:zl(n,!0),values:t._stacks[e.axis]._visualValues},a,o.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const o=r[t.axis];let a=null===o?NaN:o;const i=n&&r._stacks[t.axis];n&&i&&(n.values=i,a=El(n,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,o=r._sorted&&e===r.iScale,a=n.length,i=this._getOtherScale(e),s=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:zl(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:c}=function(e){const{min:t,max:r,minDefined:n,maxDefined:o}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(i);let u,p;function h(){p=n[u];const t=p[i.axis];return!Ua(p[e.axis])||d>t||c<t}for(u=0;u<a&&(h()||(this.updateRangeFromParsed(l,e,p,s),!o));++u);if(o)for(u=a-1;u>=0;--u)if(!h()){this.updateRangeFromParsed(l,e,p,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,o,a;for(n=0,o=t.length;n<o;++n)a=t[n][e.axis],Ua(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,o;return Wa(e)?(t=e.top,r=e.right,n=e.bottom,o=e.left):t=r=n=o=e,{top:t,right:r,bottom:n,left:o,disabled:!1===e}}(Va(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=Il(e,r),o=Il(t,r);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],o=t.chartArea,a=[],i=this._drawStart||0,s=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,o,i,s),d=i;d<i+s;++d){const t=n[d];t.hidden||(t.active&&l?a.push(t):t.draw(e,o))}for(d=0;d<a.length;++d)a[d].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,r){return _s(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=n.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return _s(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=n,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,o=this._cachedDataOpts,a=e+"-"+t,i=o[a],s=this.enableOptionSharing&&oi(r);if(i)return Hl(i,s);const l=this.chart.config,d=l.datasetElementScopeKeys(this._type,e),c=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),d),p=Object.keys(ss.elements[e]),h=l.resolveNamedOptions(u,p,(()=>this.getContext(r,n,t)),c);return h.$shared&&(h.$shared=s,o[a]=Object.freeze(Hl(h,s))),h}_resolveAnimations(e,t,r){const n=this.chart,o=this._cachedDataOpts,a="animation-".concat(t),i=o[a];if(i)return i;let s;if(!1!==n.options.animation){const n=this.chart.config,o=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),o);s=n.createResolver(a,this.getContext(e,r,t))}const l=new _l(n,s&&s.animations);return s&&s._cacheable&&(o[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ul(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(t,o)||o!==n;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:a}}updateElement(e,t,r,n){Ul(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!Ul(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const o=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[i,s,l]of this._syncList)this[i](s,l);this._syncList=[];const n=r.length,o=t.length,a=Math.min(o,n);a&&this.parse(0,a),o>n?this._insertElements(n,o-n,e):o<n&&this._removeElements(o,n-o)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,o=n.data,a=e+t;let i;const s=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(s(o),i=e;i<a;++i)o[i]=new this.dataElementType;this._parsing&&s(n._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&Wl(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Yl(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,o=r.length;t<o;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=Mi(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,o,a,i,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(oi(i)&&(s=Math.min(s,Math.abs(a-i)||s)),i=a)};for(n=0,o=r.length;n<o;++n)a=t.getPixelForValue(r[n]),l();for(i=void 0,n=0,o=t.ticks.length;n<o;++n)a=t.getPixelForTick(n),l();return s}function ql(e,t,r,n){return Fa(e)?function(e,t,r,n){const o=r.parse(e[0],n),a=r.parse(e[1],n),i=Math.min(o,a),s=Math.max(o,a);let l=i,d=s;Math.abs(i)>Math.abs(s)&&(l=s,d=i),t[r.axis]=d,t._custom={barStart:l,barEnd:d,start:o,end:a,min:i,max:s}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function Ql(e,t,r,n){const o=e.iScale,a=e.vScale,i=o.getLabels(),s=o===a,l=[];let d,c,u,p;for(d=r,c=r+n;d<c;++d)p=t[d],u={},u[o.axis]=s||o.parse(i[d],d),l.push(ql(p,u,a,d));return l}function $l(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Gl(e,t,r,n){let o=t.borderSkipped;const a={};if(!o)return void(e.borderSkipped=a);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:s,reverse:l,top:d,bottom:c}=function(e){let t,r,n,o,a;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(o="end",a="start"):(o="start",a="end"),{start:r,end:n,reverse:t,top:o,bottom:a}}(e);"middle"===o&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?o=d:(r._bottom||0)===n?o=c:(a[Kl(c,i,s,l)]=!0,o=d)),a[Kl(o,i,s,l)]=!0,e.borderSkipped=a}function Kl(e,t,r,n){var o,a,i;return n?(i=r,e=Xl(e=(o=e)===(a=t)?i:o===i?a:o,r,t)):e=Xl(e,t,r),e}function Xl(e,t,r){return"start"===e?t:"end"===e?r:e}function Jl(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}Fe(Vl,"defaults",{}),Fe(Vl,"datasetElementType",null),Fe(Vl,"dataElementType",null);class Zl extends Vl{parsePrimitiveData(e,t,r,n){return Ql(e,t,r,n)}parseArrayData(e,t,r,n){return Ql(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:o,vScale:a}=e,{xAxisKey:i="x",yAxisKey:s="y"}=this._parsing,l="x"===o.axis?i:s,d="x"===a.axis?i:s,c=[];let u,p,h,g;for(u=r,p=r+n;u<p;++u)g=t[u],h={},h[o.axis]=o.parse(ri(g,l),u),c.push(ql(ri(g,d),h,a,u));return c}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const o=r._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,o=this.getParsed(e),a=o._custom,i=$l(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(o[n.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const o="reset"===n,{index:a,_cachedMeta:{vScale:i}}=this,s=i.getBasePixel(),l=i.isHorizontal(),d=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,n);for(let p=t;p<t+r;p++){const t=this.getParsed(p),r=o||Oa(t[i.axis])?{base:s,head:s}:this._calculateBarValuePixels(p),h=this._calculateBarIndexPixels(p,d),g=(t._stacks||{})[i.axis],x={horizontal:l,base:r.base,enableBorderRadius:!g||$l(t._custom)||a===g._top||a===g._bottom,x:l?r.head:h.center,y:l?h.center:r.head,height:l?h.size:Math.abs(r.size),width:l?Math.abs(r.size):h.size};u&&(x.options=c||this.resolveDataElementOptions(p,e[p].active?"active":n));const f=x.options||e[p].options;Gl(x,f,g,a),Jl(x,f,d.ratio),this.updateElement(e[p],p,x,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=r.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),s=i&&i[r.axis],l=e=>{const t=e._parsed.find((e=>e[r.axis]===s)),n=t&&t[e.vScale.axis];if(Oa(n)||isNaN(n))return!0};for(const d of n)if((void 0===t||!l(d))&&((!1===o||-1===a.indexOf(d.stack)||void 0===o&&void 0===d.stack)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const n=this._getStacks(e,r),o=void 0!==t?n.indexOf(t):-1;return-1===o?n.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let o,a;for(o=0,a=t.data.length;o<a;++o)n.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const i=e.barThickness;return{min:i||Yl(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:o,minBarLength:a}}=this,i=o||0,s=this.getParsed(e),l=s._custom,d=$l(l);let c,u,p=s[t.axis],h=0,g=r?this.applyStack(t,s,r):p;g!==p&&(h=g-p,g=p),d&&(p=l.barStart,g=l.barEnd-l.barStart,0!==p&&fi(p)!==fi(l.barEnd)&&(h=0),h+=p);const x=Oa(o)||d?h:o;let f=t.getPixelForValue(x);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(h+g):f,u=c-f,Math.abs(u)<a){u=function(e,t,r){return 0!==e?fi(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(u,t,i)*a,p===i&&(f-=u/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),l=Math.min(e,o),h=Math.max(e,o);f=Math.max(Math.min(f,h),l),c=f+u,r&&!d&&(s._stacks[t.axis]._visualValues[n]=t.getValueForPixel(c)-t.getValueForPixel(f))}if(f===t.getPixelForValue(i)){const e=fi(u)*t.getLineWidthForValue(i)/2;f+=e,u-=e}return{size:u,base:f,head:c,center:c+u/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,o=n.skipNull,a=Va(n.maxBarThickness,1/0);let i,s;if(t.grouped){const r=o?this._getStackCount(e):t.stackCount,l="flex"===n.barThickness?function(e,t,r,n){const o=t.pixels,a=o[e];let i=e>0?o[e-1]:null,s=e<o.length-1?o[e+1]:null;const l=r.categoryPercentage;null===i&&(i=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-i);const d=a-(a-Math.min(i,s))/2*l;return{chunk:Math.abs(s-i)/2*l/n,ratio:r.barPercentage,start:d}}(e,t,n,r):function(e,t,r,n){const o=r.barThickness;let a,i;return Oa(o)?(a=t.min*r.categoryPercentage,i=r.barPercentage):(a=o*n,i=1),{chunk:a/n,ratio:i,start:t.pixels[e]-a/2}}(e,t,n,r),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);i=l.start+l.chunk*d+l.chunk/2,s=Math.min(a,l.chunk*l.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),s=Math.min(a,t.min*t.ratio);return{base:i-s/2,head:i+s/2,center:i,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let o=0;for(;o<n;++o)null===this.getParsed(o)[t.axis]||r[o].hidden||r[o].draw(this._ctx)}}Fe(Zl,"id","bar"),Fe(Zl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(Zl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ed extends Vl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const o=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,t,r,n){const o=super.parseArrayData(e,t,r,n);for(let a=0;a<o.length;a++){const e=t[r+a];o[a]._custom=Va(e[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,t,r,n){const o=super.parseObjectData(e,t,r,n);for(let a=0;a<o.length;a++){const e=t[r+a];o[a]._custom=Va(e&&e.r&&+e.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:o}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),s=o.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+i+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const o="reset"===n,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,n),d=a.axis,c=i.axis;for(let u=t;u<t+r;u++){const t=e[u],r=!o&&this.getParsed(u),p={},h=p[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(r[d]),g=p[c]=o?i.getBasePixel():i.getPixelForValue(r[c]);p.skip=isNaN(h)||isNaN(g),l&&(p.options=s||this.resolveDataElementOptions(u,t.active?"active":n),o&&(p.options.radius=0)),this.updateElement(t,u,p,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const o=n.radius;return"active"!==t&&(n.radius=0),n.radius+=Va(r&&r._custom,o),n}}Fe(ed,"id","bubble"),Fe(ed,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Fe(ed,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class td extends Vl{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let o,a,i=e=>+r[e];if(Wa(r[e])){const{key:e="value"}=this._parsing;i=t=>+ri(r[t],e)}for(o=e,a=e+t;o<a;++o)n._parsed[o]=i(o)}}_getRotation(){return ji(this.options.rotation-90)}_getCircumference(){return ji(this.options.circumference)}_getRotationExtents(){let e=li,t=-li;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,o=n._getRotation(),a=n._getCircumference();e=Math.min(e,o),t=Math.max(t,o+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,o=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-a)/2,0),s=Math.min((l=this.options.cutout,d=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/d),1);var l,d;const c=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:x,offsetY:f}=function(e,t,r){let n=1,o=1,a=0,i=0;if(t<li){const s=e,l=s+t,d=Math.cos(s),c=Math.sin(s),u=Math.cos(l),p=Math.sin(l),h=(e,t,n)=>Ni(e,s,l,!0)?1:Math.max(t,t*r,n,n*r),g=(e,t,n)=>Ni(e,s,l,!0)?-1:Math.min(t,t*r,n,n*r),x=h(0,d,u),f=h(pi,c,p),m=g(si,d,u),y=g(si+pi,c,p);n=(x-m)/2,o=(f-y)/2,a=-(x+m)/2,i=-(f+y)/2}return{ratioX:n,ratioY:o,offsetX:a,offsetY:i}}(p,u,s),m=(r.width-a)/h,y=(r.height-a)/g,b=Math.max(Math.min(m,y)/2,0),v=Ya(this.options.radius,b),j=(v-Math.max(v*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=f*v,n.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*o/li)}updateElements(e,t,r,n){const o="reset"===n,a=this.chart,i=a.chartArea,s=a.options.animation,l=(i.left+i.right)/2,d=(i.top+i.bottom)/2,c=o&&s.animateScale,u=c?0:this.innerRadius,p=c?0:this.outerRadius,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(t,n);let x,f=this._getRotation();for(x=0;x<t;++x)f+=this._circumference(x,o);for(x=t;x<t+r;++x){const t=this._circumference(x,o),r=e[x],a={x:l+this.offsetX,y:d+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:p,innerRadius:u};g&&(a.options=h||this.resolveDataElementOptions(x,r.active?"active":n)),f+=t,this.updateElement(r,x,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const o=e._parsed[r];null===o||isNaN(o)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(o))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?li*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],o=Zi(t._parsed[e],r.options.locale);return{label:n[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,o,a,i,s;if(!e)for(n=0,o=r.data.datasets.length;n<o;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,i=a.controller;break}if(!e)return 0;for(n=0,o=e.length;n<o;++n)s=i.resolveDataElementOptions(n),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Va(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe(td,"id","doughnut"),Fe(td,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Fe(td,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Fe(td,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map(((t,o)=>{const a=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class rd extends Vl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:o}=t,a=this.chart._animationsDisabled;let{start:i,count:s}=Wi(t,n,a);this._drawStart=i,this._drawCount=s,Ui(t)&&(i=0,s=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(n,i,s,e)}updateElements(e,t,r,n){const o="reset"===n,{iScale:a,vScale:i,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:d,includeOptions:c}=this._getSharedOptions(t,n),u=a.axis,p=i.axis,{spanGaps:h,segment:g}=this.options,x=bi(h)?h:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||o||"none"===n,m=t+r,y=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<y;++v){const r=e[v],h=f?r:{};if(v<t||v>=m){h.skip=!0;continue}const y=this.getParsed(v),j=Oa(y[p]),k=h[u]=a.getPixelForValue(y[u],v),w=h[p]=o||j?i.getBasePixel():i.getPixelForValue(s?this.applyStack(i,y,s):y[p],v);h.skip=isNaN(k)||isNaN(w)||j,h.stop=v>0&&Math.abs(y[u]-b[u])>x,g&&(h.parsed=y,h.raw=l.data[v]),c&&(h.options=d||this.resolveDataElementOptions(v,r.active?"active":n)),f||this.updateElement(r,v,h,n),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Fe(rd,"id","line"),Fe(rd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Fe(rd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nd extends Vl{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],o=Zi(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:o}}parseObjectData(e,t,r,n){return qs.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(n/2,0),a=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,n){const o="reset"===n,a=this.chart,i=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,d=s.yCenter,c=s.getIndexAngle(0)-.5*si;let u,p=c;const h=360/this.countVisibleElements();for(u=0;u<t;++u)p+=this._computeAngle(u,n,h);for(u=t;u<t+r;u++){const t=e[u];let r=p,g=p+this._computeAngle(u,n,h),x=a.getDataVisibility(u)?s.getDistanceFromCenterForValue(this.getParsed(u).r):0;p=g,o&&(i.animateScale&&(x=0),i.animateRotate&&(r=g=c));const f={x:l,y:d,innerRadius:0,outerRadius:x,startAngle:r,endAngle:g,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,f,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++})),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?ji(this.resolveDataElementOptions(e,t).angle||r):0}}Fe(nd,"id","polarArea"),Fe(nd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Fe(nd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map(((t,o)=>{const a=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class od extends td{}Fe(od,"id","pie"),Fe(od,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ad extends Vl{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return qs.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],o=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===n.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const o=this._cachedMeta.rScale,a="reset"===n;for(let i=t;i<t+r;i++){const t=e[i],r=this.resolveDataElementOptions(i,t.active?"active":n),s=o.getPointPositionForValue(i,this.getParsed(i).r),l=a?o.xCenter:s.x,d=a?o.yCenter:s.y,c={x:l,y:d,angle:s.angle,skip:isNaN(l)||isNaN(d),options:r};this.updateElement(t,i,c,n)}}}Fe(ad,"id","radar"),Fe(ad,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Fe(ad,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class id extends Vl{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:o}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),s=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+i+", "+s+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:o,count:a}=Wi(t,r,n);if(this._drawStart=o,this._drawCount=a,Ui(t)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:a}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=r;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const o="reset"===n,{iScale:a,vScale:i,_stacked:s,_dataset:l}=this._cachedMeta,d=this.resolveDataElementOptions(t,n),c=this.getSharedOptions(d),u=this.includeOptions(n,c),p=a.axis,h=i.axis,{spanGaps:g,segment:x}=this.options,f=bi(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||"none"===n;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+r;++b){const t=e[b],r=this.getParsed(b),d=m?t:{},g=Oa(r[h]),v=d[p]=a.getPixelForValue(r[p],b),j=d[h]=o||g?i.getBasePixel():i.getPixelForValue(s?this.applyStack(i,r,s):r[h],b);d.skip=isNaN(v)||isNaN(j)||g,d.stop=b>0&&Math.abs(r[p]-y[p])>f,x&&(d.parsed=r,d.raw=l.data[b]),u&&(d.options=c||this.resolveDataElementOptions(b,t.active?"active":n)),m||this.updateElement(t,b,d,n),y=r}this.updateSharedOptions(c,n,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const o=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,o,a)/2}}Fe(id,"id","scatter"),Fe(id,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Fe(id,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function sd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ld{static override(e){Object.assign(ld.prototype,e)}constructor(e){Fe(this,"options",void 0),this.options=e||{}}init(){}formats(){return sd()}parse(){return sd()}format(){return sd()}add(){return sd()}diff(){return sd()}startOf(){return sd()}endOf(){return sd()}}var dd=ld;function cd(e,t,r,n){const{controller:o,data:a,_sorted:i}=e,s=o._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&"r"!==t&&i&&a.length){const i=s._reversePixels?Ii:_i;if(!n){const n=i(a,t,r);if(l){const{vScale:t}=o._cachedMeta,{_parsed:r}=e,a=r.slice(0,n.lo+1).reverse().findIndex((e=>!Oa(e[t.axis])));n.lo-=Math.max(0,a);const i=r.slice(n.hi).findIndex((e=>!Oa(e[t.axis])));n.hi+=Math.max(0,i)}return n}if(o._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(a,t,r-n),o=i(a,t,r+n);return{lo:e.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function ud(e,t,r,n,o){const a=e.getSortedVisibleDatasetMetas(),i=r[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:r}=a[s],{lo:l,hi:d}=cd(a[s],t,i,o);for(let t=l;t<=d;++t){const o=r[t];o.skip||n(o,e,t)}}}function pd(e,t,r,n,o){const a=[];if(!o&&!e.isPointInArea(t))return a;return ud(e,r,t,(function(r,i,s){(o||gs(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&a.push({element:r,datasetIndex:i,index:s})}),!0),a}function hd(e,t,r,n,o,a){let i=[];const s=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const o=t?Math.abs(e.x-n.x):0,a=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(r);let l=Number.POSITIVE_INFINITY;return ud(e,r,t,(function(r,d,c){const u=r.inRange(t.x,t.y,o);if(n&&!u)return;const p=r.getCenterPoint(o);if(!(!!a||e.isPointInArea(p))&&!u)return;const h=s(t,p);h<l?(i=[{element:r,datasetIndex:d,index:c}],l=h):h===l&&i.push({element:r,datasetIndex:d,index:c})})),i}function gd(e,t,r,n,o,a){return a||e.isPointInArea(t)?"r"!==r||n?hd(e,t,r,n,o,a):function(e,t,r,n){let o=[];return ud(e,r,t,(function(e,r,a){const{startAngle:i,endAngle:s}=e.getProps(["startAngle","endAngle"],n),{angle:l}=Si(e,{x:t.x,y:t.y});Ni(l,i,s)&&o.push({element:e,datasetIndex:r,index:a})})),o}(e,t,r,o):[]}function xd(e,t,r,n,o){const a=[],i="x"===r?"inXRange":"inYRange";let s=!1;return ud(e,r,t,((e,n,l)=>{e[i]&&e[i](t[r],o)&&(a.push({element:e,datasetIndex:n,index:l}),s=s||e.inRange(t.x,t.y,o))})),n&&!s?[]:a}var fd={evaluateInteractionItems:ud,modes:{index(e,t,r,n){const o=il(t,e),a=r.axis||"x",i=r.includeInvisible||!1,s=r.intersect?pd(e,o,a,n,i):gd(e,o,a,!1,n,i),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,r,n){const o=il(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;let s=r.intersect?pd(e,o,a,n,i):gd(e,o,a,!1,n,i);if(s.length>0){const t=s[0].datasetIndex,r=e.getDatasetMeta(t).data;s=[];for(let e=0;e<r.length;++e)s.push({element:r[e],datasetIndex:t,index:e})}return s},point:(e,t,r,n)=>pd(e,il(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const o=il(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;return gd(e,o,a,r.intersect,n,i)},x:(e,t,r,n)=>xd(e,il(t,e),"x",r.intersect,n),y:(e,t,r,n)=>xd(e,il(t,e),"y",r.intersect,n)}};const md=["left","top","right","bottom"];function yd(e,t){return e.filter((e=>e.pos===t))}function bd(e,t){return e.filter((e=>-1===md.indexOf(e.pos)&&e.box.axis===t))}function vd(e,t){return e.sort(((e,r)=>{const n=t?r:e,o=t?e:r;return n.weight===o.weight?n.index-o.index:n.weight-o.weight}))}function jd(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:o}=r;if(!e||!md.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:o}=t;let a,i,s;for(a=0,i=e.length;a<i;++a){s=e[a];const{fullSize:i}=s.box,l=r[s.stack],d=l&&s.stackWeight/l.weight;s.horizontal?(s.width=d?d*n:i&&t.availableWidth,s.height=o):(s.width=n,s.height=d?d*o:i&&t.availableHeight)}return r}function kd(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function wd(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Sd(e,t,r,n){const{pos:o,box:a}=r,i=e.maxPadding;if(!Wa(o)){r.size&&(e[o]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[o]+=r.size}a.getPadding&&wd(i,a.getPadding());const s=Math.max(0,t.outerWidth-kd(i,e,"left","right")),l=Math.max(0,t.outerHeight-kd(i,e,"top","bottom")),d=s!==e.w,c=l!==e.h;return e.w=s,e.h=l,r.horizontal?{same:d,other:c}:{same:c,other:d}}function Cd(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],r[e])})),n}return n(e?["left","right"]:["top","bottom"])}function Pd(e,t,r,n){const o=[];let a,i,s,l,d,c;for(a=0,i=e.length,d=0;a<i;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,Cd(s.horizontal,t));const{same:i,other:u}=Sd(t,r,s,n);d|=i&&o.length,c=c||u,l.fullSize||o.push(s)}return d&&Pd(o,t,r,n)||c}function Bd(e,t,r,n,o){e.top=r,e.left=t,e.right=t+n,e.bottom=r+o,e.width=n,e.height=o}function Nd(e,t,r,n){const o=r.padding;let{x:a,y:i}=t;for(const s of e){const e=s.box,l=n[s.stack]||{count:1,placed:0,weight:1},d=s.stackWeight/l.weight||1;if(s.horizontal){const n=t.w*d,a=l.size||e.height;oi(l.start)&&(i=l.start),e.fullSize?Bd(e,o.left,i,r.outerWidth-o.right-o.left,a):Bd(e,t.left+l.placed,i,n,a),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*d,i=l.size||e.width;oi(l.start)&&(a=l.start),e.fullSize?Bd(e,a,o.top,i,r.outerHeight-o.bottom-o.top):Bd(e,a,t.top+l.placed,i,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=i}var Td={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const o=Ts(e.options.layout.padding),a=Math.max(t-o.width,0),i=Math.max(r-o.height,0),s=function(e){const t=function(e){const t=[];let r,n,o,a,i,s;for(r=0,n=(e||[]).length;r<n;++r)o=e[r],({position:a,options:{stack:i,stackWeight:s=1}}=o),t.push({index:r,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:i&&a+i,stackWeight:s});return t}(e),r=vd(t.filter((e=>e.box.fullSize)),!0),n=vd(yd(t,"left"),!0),o=vd(yd(t,"right")),a=vd(yd(t,"top"),!0),i=vd(yd(t,"bottom")),s=bd(t,"x"),l=bd(t,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:o.concat(l).concat(i).concat(s),chartArea:yd(t,"chartArea"),vertical:n.concat(o).concat(l),horizontal:a.concat(i).concat(s)}}(e.boxes),l=s.vertical,d=s.horizontal;Qa(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const c=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:o,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/c,hBoxMaxHeight:i/2}),p=Object.assign({},o);wd(p,Ts(n));const h=Object.assign({maxPadding:p,w:a,h:i,x:o.left,y:o.top},o),g=jd(l.concat(d),u);Pd(s.fullSize,h,u,g),Pd(l,h,u,g),Pd(d,h,u,g)&&Pd(l,h,u,g),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(h),Nd(s.leftAndTop,h,u,g),h.x+=h.w,h.y+=h.h,Nd(s.rightAndBottom,h,u,g),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Qa(s.chartArea,(t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})}))}};class Rd{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class Ad extends Rd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _d="$chartjs",Id={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zd=e=>null===e||""===e;const Ed=!!cl&&{passive:!0};function Md(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,Ed)}function Dd(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Ld(e,t,r){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||Dd(r.addedNodes,n),t=t&&!Dd(r.removedNodes,n);t&&r()}));return o.observe(document,{childList:!0,subtree:!0}),o}function Od(e,t,r){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||Dd(r.removedNodes,n),t=t&&!Dd(r.addedNodes,n);t&&r()}));return o.observe(document,{childList:!0,subtree:!0}),o}const Fd=new Map;let Wd=0;function Ud(){const e=window.devicePixelRatio;e!==Wd&&(Wd=e,Fd.forEach(((t,r)=>{r.currentDevicePixelRatio!==e&&t()})))}function Hd(e,t,r){const n=e.canvas,o=n&&tl(n);if(!o)return;const a=Li(((e,t)=>{const n=o.clientWidth;r(e,t),n<o.clientWidth&&r()}),window),i=new ResizeObserver((e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||a(r,n)}));return i.observe(o),function(e,t){Fd.size||window.addEventListener("resize",Ud),Fd.set(e,t)}(e,a),i}function Vd(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){Fd.delete(e),Fd.size||window.removeEventListener("resize",Ud)}(e)}function Yd(e,t,r){const n=e.canvas,o=Li((t=>{null!==e.ctx&&r(function(e,t){const r=Id[e.type]||e.type,{x:n,y:o}=il(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,r){e&&e.addEventListener(t,r,Ed)}(n,t,o),o}class qd extends Rd{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),o=e.getAttribute("width");if(e[_d]={initial:{height:n,width:o,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",zd(o)){const t=ul(e,"width");void 0!==t&&(e.width=t)}if(zd(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ul(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[_d])return!1;const r=t[_d].initial;["height","width"].forEach((e=>{const n=r[e];Oa(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=r.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[_d],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:Ld,detach:Od,resize:Hd}[t]||Yd;n[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:Vd,detach:Vd,resize:Vd}[t]||Md)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return ll(e,t,r,n)}isAttached(e){const t=e&&tl(e);return!(!t||!t.isConnected)}}class Qd{constructor(){Fe(this,"x",void 0),Fe(this,"y",void 0),Fe(this,"active",!1),Fe(this,"options",void 0),Fe(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return bi(this.x)&&bi(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach((e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]})),n}}function $d(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),o=e._maxLength/r;return Math.floor(Math.min(n,o))}(e),o=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],i=a.length,s=a[0],l=a[i-1],d=[];if(i>o)return function(e,t,r,n){let o,a=0,i=r[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===i&&(t.push(e[o]),a++,i=r[a*n])}(t,d,a,i/o),d;const c=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),o=t.length/r;if(!n)return Math.max(o,1);const a=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let i=0,s=a.length-1;i<s;i++){const e=a[i];if(e>o)return e}return Math.max(o,1)}(a,t,o);if(i>0){let e,r;const n=i>1?Math.round((l-s)/(i-1)):null;for(Gd(t,d,c,Oa(n)?0:s-n,s),e=0,r=i-1;e<r;e++)Gd(t,d,c,a[e],a[e+1]);return Gd(t,d,c,l,Oa(n)?t.length:l+n),d}return Gd(t,d,c),d}function Gd(e,t,r,n,o){const a=Va(n,0),i=Math.min(Va(o,e.length),e.length);let s,l,d,c=0;for(r=Math.ceil(r),o&&(s=o-n,r=s/Math.floor(s/r)),d=a;d<0;)c++,d=Math.round(a+c*r);for(l=Math.max(a,0);l<i;l++)l===d&&(t.push(e[l]),c++,d=Math.round(a+c*r))}Fe(Qd,"defaults",{}),Fe(Qd,"defaultRoutes",void 0);const Kd=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,Xd=(e,t)=>Math.min(t||e,e);function Jd(e,t){const r=[],n=e.length/t,o=e.length;let a=0;for(;a<o;a+=n)r.push(e[Math.floor(a)]);return r}function Zd(e,t,r){const n=e.ticks.length,o=Math.min(t,n-1),a=e._startPixel,i=e._endPixel,s=1e-6;let l,d=e.getPixelForTick(o);if(!(r&&(l=1===n?Math.max(d-a,i-d):0===t?(e.getPixelForTick(1)-d)/2:(d-e.getPixelForTick(o-1))/2,d+=o<t?l:-l,d<a-s||d>i+s)))return d}function ec(e){return e.drawTicks?e.tickLength:0}function tc(e,t){if(!e.display)return 0;const r=Rs(e.font,t),n=Ts(e.padding);return(Fa(e.text)?e.text.length:1)*r.lineHeight+n.height}function rc(e,t,r){let n=Oi(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class nc extends Qd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=Ha(e,Number.POSITIVE_INFINITY),t=Ha(t,Number.NEGATIVE_INFINITY),r=Ha(r,Number.POSITIVE_INFINITY),n=Ha(n,Number.NEGATIVE_INFINITY),{min:Ha(e,r),max:Ha(t,n),minDefined:Ua(e),maxDefined:Ua(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:r,max:n};const i=this.getMatchingVisibleMetas();for(let s=0,l=i.length;s<l;++s)t=i[s].controller.getMinMax(this,e),o||(r=Math.min(r,t.min)),a||(n=Math.max(n,t.max));return r=a&&r>n?n:r,n=o&&r>n?r:n,{min:Ha(r,Ha(n,r)),max:Ha(n,Ha(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qa(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:o,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:o}=e,a=Ya(t,(o-n)/2),i=(e,t)=>r&&0===e?0:e+t;return{min:i(n,-Math.abs(a)),max:i(o,a)}}(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=i<this.ticks.length;this._convertTicksToLabels(s?Jd(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=$d(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qa(this.options.afterUpdate,[this])}beforeSetDimensions(){qa(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qa(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),qa(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qa(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,o;for(r=0,n=e.length;r<n;r++)o=e[r],o.label=qa(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){qa(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qa(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Xd(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,o=t.maxRotation;let a,i,s,l=n;if(!this._isVisible()||!t.display||n>=o||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const d=this._getLabelSizes(),c=d.widest.width,u=d.highest.height,p=Ti(this.chart.width-c,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),c+6>a&&(a=p/(r-(e.offset?.5:1)),i=this.maxHeight-ec(e.grid)-t.padding-tc(e.title,this.chart.options.font),s=Math.sqrt(c*c+u*u),l=ki(Math.min(Math.asin(Ti((d.highest.height+6)/a,-1,1)),Math.asin(Ti(i/s,-1,1))-Math.asin(Ti(u/s,-1,1)))),l=Math.max(n,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){qa(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qa(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:o}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=tc(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=ec(o)+a):(e.height=this.maxHeight,e.width=ec(o)+a),r.display&&this.ticks.length){const{first:t,last:n,widest:o,highest:a}=this._getLabelSizes(),s=2*r.padding,l=ji(this.labelRotation),d=Math.cos(l),c=Math.sin(l);if(i){const t=r.mirror?0:c*o.width+d*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=r.mirror?0:d*o.width+c*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,n,c,d)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:o,padding:a},position:i}=this.options,s=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;s?l?(c=n*e.width,u=r*t.height):(c=r*e.height,u=n*t.width):"start"===o?u=t.width:"end"===o?c=e.width:"inner"!==o&&(c=e.width/2,u=t.width/2),this.paddingLeft=Math.max((c-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-d+a)*this.width/(this.width-d),0)}else{let r=t.height/2,n=e.height/2;"start"===o?(r=0,n=e.height):"end"===o&&(r=t.height,n=0),this.paddingTop=r+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qa(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Oa(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Jd(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:o}=this,a=[],i=[],s=Math.floor(t/Xd(t,r));let l,d,c,u,p,h,g,x,f,m,y,b=0,v=0;for(l=0;l<t;l+=s){if(u=e[l].label,p=this._resolveTickFontOptions(l),n.font=h=p.string,g=o[h]=o[h]||{data:{},gc:[]},x=p.lineHeight,f=m=0,Oa(u)||Fa(u)){if(Fa(u))for(d=0,c=u.length;d<c;++d)y=u[d],Oa(y)||Fa(y)||(f=ls(n,g.data,g.gc,f,y),m+=x)}else f=ls(n,g.data,g.gc,f,u),m=x;a.push(f),i.push(m),b=Math.max(f,b),v=Math.max(m,v)}!function(e,t){Qa(e,(e=>{const r=e.gc,n=r.length/2;let o;if(n>t){for(o=0;o<n;++o)delete e.data[r[o]];r.splice(0,n)}}))}(o,t);const j=a.indexOf(b),k=i.indexOf(v),w=e=>({width:a[e]||0,height:i[e]||0});return{first:w(0),last:w(t-1),widest:w(j),highest:w(k),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ti(this._alignToPixels?cs(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return _s(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=_s(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ji(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,i=o?o.widest.width+a:0,s=o?o.highest.height+a:0;return this.isHorizontal()?s*r>i*n?i/r:s/n:s*n<i*r?s/r:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:o,position:a,border:i}=n,s=o.offset,l=this.isHorizontal(),d=this.ticks.length+(s?1:0),c=ec(o),u=[],p=i.setContext(this.getContext()),h=p.display?p.width:0,g=h/2,x=function(e){return cs(r,e,h)};let f,m,y,b,v,j,k,w,S,C,P,B;if("top"===a)f=x(this.bottom),j=this.bottom-c,w=f-g,C=x(e.top)+g,B=e.bottom;else if("bottom"===a)f=x(this.top),C=e.top,B=x(e.bottom)-g,j=f+g,w=this.top+c;else if("left"===a)f=x(this.right),v=this.right-c,k=f-g,S=x(e.left)+g,P=e.right;else if("right"===a)f=x(this.left),S=e.left,P=x(e.right)-g,v=f+g,k=this.left+c;else if("x"===t){if("center"===a)f=x((e.top+e.bottom)/2+.5);else if(Wa(a)){const e=Object.keys(a)[0],t=a[e];f=x(this.chart.scales[e].getPixelForValue(t))}C=e.top,B=e.bottom,j=f+g,w=j+c}else if("y"===t){if("center"===a)f=x((e.left+e.right)/2);else if(Wa(a)){const e=Object.keys(a)[0],t=a[e];f=x(this.chart.scales[e].getPixelForValue(t))}v=f-g,k=v-c,S=e.left,P=e.right}const N=Va(n.ticks.maxTicksLimit,d),T=Math.max(1,Math.ceil(d/N));for(m=0;m<d;m+=T){const e=this.getContext(m),t=o.setContext(e),n=i.setContext(e),a=t.lineWidth,d=t.color,c=n.dash||[],p=n.dashOffset,h=t.tickWidth,g=t.tickColor,x=t.tickBorderDash||[],f=t.tickBorderDashOffset;y=Zd(this,m,s),void 0!==y&&(b=cs(r,y,a),l?v=k=S=P=b:j=w=C=B=b,u.push({tx1:v,ty1:j,tx2:k,ty2:w,x1:S,y1:C,x2:P,y2:B,width:a,color:d,borderDash:c,borderDashOffset:p,tickWidth:h,tickColor:g,tickBorderDash:x,tickBorderDashOffset:f}))}return this._ticksLength=d,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:o}=r,a=this.isHorizontal(),i=this.ticks,{align:s,crossAlign:l,padding:d,mirror:c}=o,u=ec(r.grid),p=u+d,h=c?-d:p,g=-ji(this.labelRotation),x=[];let f,m,y,b,v,j,k,w,S,C,P,B,N="middle";if("top"===n)j=this.bottom-h,k=this._getXAxisLabelAlignment();else if("bottom"===n)j=this.top+h,k=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,v=e.x}else if("x"===t){if("center"===n)j=(e.top+e.bottom)/2+p;else if(Wa(n)){const e=Object.keys(n)[0],t=n[e];j=this.chart.scales[e].getPixelForValue(t)+p}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-p;else if(Wa(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===s?N="top":"end"===s&&(N="bottom"));const T=this._getLabelSizes();for(f=0,m=i.length;f<m;++f){y=i[f],b=y.label;const e=o.setContext(this.getContext(f));w=this.getPixelForTick(f)+o.labelOffset,S=this._resolveTickFontOptions(f),C=S.lineHeight,P=Fa(b)?b.length:1;const t=P/2,r=e.color,s=e.textStrokeColor,d=e.textStrokeWidth;let u,p=k;if(a?(v=w,"inner"===k&&(p=f===m-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),B="top"===n?"near"===l||0!==g?-P*C+C/2:"center"===l?-T.highest.height/2-t*C+C:-T.highest.height+C/2:"near"===l||0!==g?C/2:"center"===l?T.highest.height/2-t*C:T.highest.height-P*C,c&&(B*=-1),0===g||e.showLabelBackdrop||(v+=C/2*Math.sin(g))):(j=w,B=(1-P)*C/2),e.showLabelBackdrop){const t=Ts(e.backdropPadding),r=T.heights[f],n=T.widths[f];let o=B-t.top,a=0-t.left;switch(N){case"middle":o-=r/2;break;case"bottom":o-=r}switch(k){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":f===m-1?a-=n:f>0&&(a-=n/2)}u={left:a,top:o,width:n+t.width,height:r+t.height,color:e.backdropColor}}x.push({label:b,font:S,textOffset:B,options:{rotation:g,color:r,strokeColor:s,strokeWidth:d,textAlign:p,textBaseline:N,translation:[v,j],backdrop:u}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ji(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:o}}=this.options,a=e+o,i=this._getLabelSizes().widest.width;let s,l;return"left"===t?n?(l=this.right+o,"near"===r?s="left":"center"===r?(s="center",l+=i/2):(s="right",l+=i)):(l=this.right-a,"near"===r?s="right":"center"===r?(s="center",l-=i/2):(s="left",l=this.left)):"right"===t?n?(l=this.left+o,"near"===r?s="right":"center"===r?(s="center",l-=i/2):(s="left",l-=i)):(l=this.left+a,"near"===r?s="left":"center"===r?(s="center",l+=i/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:o,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,o,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex((t=>t.value===e));if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const i=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(o=0,a=n.length;o<a;++o){const e=n[o];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,o=r.setContext(this.getContext()),a=r.display?o.width:0;if(!a)return;const i=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,d,c,u;this.isHorizontal()?(l=cs(e,this.left,a)-a/2,d=cs(e,this.right,i)+i/2,c=u=s):(c=cs(e,this.top,a)-a/2,u=cs(e,this.bottom,i)+i/2,l=d=s),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,c),t.lineTo(d,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&xs(t,r);const n=this.getLabelItems(e);for(const o of n){const e=o.options,r=o.font;js(t,o.label,0,o.textOffset,r,e)}r&&fs(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const o=Rs(r.font),a=Ts(r.padding),i=r.align;let s=o.lineHeight/2;"bottom"===t||"center"===t||Wa(t)?(s+=a.bottom,Fa(r.text)&&(s+=o.lineHeight*(r.text.length-1))):s+=a.top;const{titleX:l,titleY:d,maxWidth:c,rotation:u}=function(e,t,r,n){const{top:o,left:a,bottom:i,right:s,chart:l}=e,{chartArea:d,scales:c}=l;let u,p,h,g=0;const x=i-o,f=s-a;if(e.isHorizontal()){if(p=Fi(n,a,s),Wa(r)){const e=Object.keys(r)[0],n=r[e];h=c[e].getPixelForValue(n)+x-t}else h="center"===r?(d.bottom+d.top)/2+x-t:Kd(e,r,t);u=s-a}else{if(Wa(r)){const e=Object.keys(r)[0],n=r[e];p=c[e].getPixelForValue(n)-f+t}else p="center"===r?(d.left+d.right)/2-f+t:Kd(e,r,t);h=Fi(n,i,o),g="left"===r?-pi:pi}return{titleX:p,titleY:h,maxWidth:u,rotation:g}}(this,s,t,i);js(e,r.text,0,0,o,{color:r.color,maxWidth:c,rotation:u,textAlign:rc(i,t,n),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Va(e.grid&&e.grid.z,-1),n=Va(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nc.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let o,a;for(o=0,a=t.length;o<a;++o){const a=t[o];a[r]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return Rs(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class oc{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in n||(n[o]=e,function(e,t,r){const n=Ja(Object.create(null),[r?ss.get(r):{},ss.get(t),e.defaults]);ss.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((r=>{const n=r.split("."),o=n.pop(),a=[e].concat(n).join("."),i=t[r].split("."),s=i.pop(),l=i.join(".");ss.route(a,o,l,s)}))}(t,e.defaultRoutes);e.descriptors&&ss.describe(t,e.descriptors)}(e,a,r),this.override&&ss.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in ss[n]&&(delete ss[n][r],this.override&&delete rs[r])}}class ac{constructor(){this.controllers=new oc(Vl,"datasets",!0),this.elements=new oc(Qd,"elements"),this.plugins=new oc(Object,"plugins"),this.scales=new oc(nc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach((t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Qa(t,(t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,r){const n=ni(e);qa(r["before"+n],[],r),t[e](r),qa(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var ic=new ac;class sc{constructor(){this._init=[]}notify(e,t,r,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(o,e,t,r);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,n){n=n||{};for(const o of e){const e=o.plugin;if(!1===qa(e[r],[t,n,o.options],e)&&n.cancelable)return!1}return!0}invalidate(){Oa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=Va(r.options&&r.options.plugins,{}),o=function(e){const t={},r=[],n=Object.keys(ic.plugins.items);for(let a=0;a<n.length;a++)r.push(ic.getPlugin(n[a]));const o=e.plugins||[];for(let a=0;a<o.length;a++){const e=o[a];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:o,localIds:a}=t;const i=[],s=e.getContext();for(const l of o){const t=l.id,o=lc(r[t],n);null!==o&&i.push({plugin:l,options:dc(e.config,{plugin:l,local:a[t]},o,s)})}return i}(e,o,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function lc(e,t){return t||!1!==e?!0===e?{}:e:null}function dc(e,t,r,n){let{plugin:o,local:a}=t;const i=e.pluginScopeKeys(o),s=e.getOptionScopes(r,i);return a&&o.defaults&&s.push(o.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cc(e,t){const r=ss.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function uc(e){if("x"===e||"y"===e||"r"===e)return e}function pc(e){if(uc(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const a of r){const t=a.axis||("top"===(o=a.position)||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0)||e.length>1&&uc(e[0].toLowerCase());if(t)return t}var o;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function hc(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function gc(e,t){const r=rs[e.type]||{scales:{}},n=t.scales||{},o=cc(e.type,t),a=Object.create(null);return Object.keys(n).forEach((t=>{const i=n[t];if(!Wa(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=pc(t,i,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(r.length)return hc(e,"x",r[0])||hc(e,"y",r[0])}return{}}(t,e),ss.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,o),d=r.scales||{};a[t]=Za(Object.create(null),[{axis:s},i,d[s],d[l]])})),e.data.datasets.forEach((r=>{const o=r.type||e.type,i=r.indexAxis||cc(o,t),s=(rs[o]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,i),o=r[t+"AxisID"]||t;a[o]=a[o]||Object.create(null),Za(a[o],[{axis:t},n[o],s[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];Za(t,[ss.scales[t.type],ss.scale])})),a}function xc(e){const t=e.options||(e.options={});t.plugins=Va(t.plugins,{}),t.scales=gc(e,t)}function fc(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const mc=new Map,yc=new Set;function bc(e,t){let r=mc.get(e);return r||(r=t(),mc.set(e,r),yc.add(r)),r}const vc=(e,t,r)=>{const n=ri(t,r);void 0!==n&&e.add(n)};class jc{constructor(e){this._config=function(e){return(e=e||{}).data=fc(e.data),xc(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fc(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xc(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bc(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return bc("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return bc("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,r=this.type;return bc("".concat(r,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:o}=this,a=this._cachedScopes(e,r),i=a.get(t);if(i)return i;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>vc(s,e,t)))),t.forEach((e=>vc(s,n,e))),t.forEach((e=>vc(s,rs[o]||{},e))),t.forEach((e=>vc(s,ss,e))),t.forEach((e=>vc(s,ns,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),yc.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,rs[t]||{},ss.datasets[t]||{},{type:t},ss,ns]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const o={$shared:!0},{resolver:a,subPrefixes:i}=kc(this._resolverCache,e,n);let s=a;if(function(e,t){const{isScriptable:r,isIndexable:n}=Es(e);for(const o of t){const t=r(o),a=n(o),i=(a||t)&&e[o];if(t&&(ai(i)||wc(i))||a&&Fa(i))return!0}return!1}(a,t)){o.$shared=!1;s=zs(a,r=ai(r)?r():r,this.createResolver(e,r,i))}for(const l of t)o[l]=s[l];return o}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:o}=kc(this._resolverCache,e,r);return Wa(t)?zs(o,t,void 0,n):o}}function kc(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const o=r.join();let a=n.get(o);if(!a){a={resolver:Is(t,r),subPrefixes:r.filter((e=>!e.toLowerCase().includes("hover")))},n.set(o,a)}return a}const wc=e=>Wa(e)&&Object.getOwnPropertyNames(e).some((t=>ai(e[t])));const Sc=["top","bottom","left","right","chartArea"];function Cc(e,t){return"top"===e||"bottom"===e||-1===Sc.indexOf(e)&&"x"===t}function Pc(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function Bc(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),qa(r&&r.onComplete,[e],t)}function Nc(e){const t=e.chart,r=t.options.animation;qa(r&&r.onProgress,[e],t)}function Tc(e){return el()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Rc={},Ac=e=>{const t=Tc(e);return Object.values(Rc).filter((e=>e.canvas===t)).pop()};function _c(e,t,r){const n=Object.keys(e);for(const o of n){const n=+o;if(n>=t){const a=e[o];delete e[o],(r>0||n>t)&&(e[n+r]=a)}}}class Ic{static register(){ic.add(...arguments),zc()}static unregister(){ic.remove(...arguments),zc()}constructor(e,t){const r=this.config=new jc(t),n=Tc(e),o=Ac(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!el()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Ad:qd}(n)),this.platform.updateConfig(r);const i=this.platform.acquireContext(n,a.aspectRatio),s=i&&i.canvas,l=s&&s.height,d=s&&s.width;this.id=La(),this.ctx=i,this.canvas=s,this.width=d,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t?(clearTimeout(r),r=setTimeout(e,t,o)):e.apply(this,o),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],Rc[this.id]=this,i&&s?(Nl.listen(this,"complete",Bc),Nl.listen(this,"progress",Nc),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:o}=this;return Oa(e)?t&&o?o:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ic}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return us(this.canvas,this.ctx),this}stop(){return Nl.stop(this),this}resize(e,t){Nl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,o),i=r.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,dl(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),qa(r.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Qa(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const r=t[e],n=pc(e,r),o="r"===n,a="x"===n;return{options:r,dposition:o?"chartArea":a?"bottom":"left",dtype:o?"radialLinear":a?"category":"linear"}})))),Qa(o,(t=>{const o=t.options,a=o.id,i=pc(a,o),s=Va(o.type,t.dtype);void 0!==o.position&&Cc(o.position,i)===Cc(t.dposition)||(o.position=t.dposition),n[a]=!0;let l=null;if(a in r&&r[a].type===s)l=r[a];else{l=new(ic.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(o,e)})),Qa(n,((e,t)=>{e||delete r[t]})),Qa(r,(e=>{Td.configure(this,e,e.options),Td.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort(((e,t)=>e.index-t.index)),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Pc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,r)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(r)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let o=this.getDatasetMeta(r);const a=n.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=n.indexAxis||cc(a,this.options),o.order=n.order||0,o.index=r,o.label=""+n.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const t=ic.getController(a),{datasetElementType:n,dataElementType:i}=ss.datasets[a];Object.assign(t,{dataElementType:ic.getElement(i),datasetElementType:n&&ic.getElement(n)}),o.controller=new t(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Qa(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,d=this.data.datasets.length;l<d;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===o.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Qa(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pc("z","_idx"));const{_active:i,_lastEvent:s}=this;s?this._eventHandler(s,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Qa(this.scales,(e=>{Td.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);ii(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:o}of t){_c(e,n,"_removeElements"===r?-o:o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=r(0);for(let o=1;o<t;o++)if(!ii(n,r(o)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Td.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Qa(this.boxes,(e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,ai(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Nl.has(this)?this.attached&&!Nl.running(this)&&Nl.start(this):(this.draw(),Bc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,o;for(n=0,o=t.length;n<o;++n){const o=t[n];e&&!o.visible||r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=Pl(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&xs(t,n),e.controller.draw(),n&&fs(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return gs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const o=fd.modes[t];return"function"===typeof o?o(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,n);oi(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Nl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),us(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Qa(this.options.events,(e=>r(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},o=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{n("attach",i),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),r("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){Qa(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Qa(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let o,a,i,s;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+n+"DatasetHoverStyle"]()),i=0,s=e.length;i<s;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}));!$a(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,r){const n=this.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=o(t,e),i=r?e:o(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:o}=this,a=t,i=this._getActiveElements(e,n,r,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,s);r&&(this._lastEvent=null,qa(o.onHover,[e,i,this],this),s&&qa(o.onClick,[e,i,this],this));const d=!$a(i,n);return(d||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,d}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,n)}}function zc(){return Qa(Ic.instances,(e=>e._plugins.invalidate()))}function Ec(e,t,r,n){const o=Ps(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(r-t)/2,i=Math.min(a,n*t/2),s=e=>{const t=(r-Math.min(a,e))*n/2;return Ti(e,0,Math.min(a,t))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:Ti(o.innerStart,0,i),innerEnd:Ti(o.innerEnd,0,i)}}function Mc(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Dc(e,t,r,n,o,a){const{x:i,y:s,startAngle:l,pixelMargin:d,innerRadius:c}=t,u=Math.max(t.outerRadius+n+r-d,0),p=c>0?c+n+r+d:0;let h=0;const g=o-l;if(n){const e=((c>0?c-n:0)+(u>0?u-n:0))/2;h=(g-(0!==e?g*e/(e+n):g))/2}const x=(g-Math.max(.001,g*u-r/si)/u)/2,f=l+x+h,m=o-x-h,{outerStart:y,outerEnd:b,innerStart:v,innerEnd:j}=Ec(t,p,u,m-f),k=u-y,w=u-b,S=f+y/k,C=m-b/w,P=p+v,B=p+j,N=f+v/P,T=m-j/B;if(e.beginPath(),a){const t=(S+C)/2;if(e.arc(i,s,u,S,t),e.arc(i,s,u,t,C),b>0){const t=Mc(w,C,i,s);e.arc(t.x,t.y,b,C,m+pi)}const r=Mc(B,m,i,s);if(e.lineTo(r.x,r.y),j>0){const t=Mc(B,T,i,s);e.arc(t.x,t.y,j,m+pi,T+Math.PI)}const n=(m-j/p+(f+v/p))/2;if(e.arc(i,s,p,m-j/p,n,!0),e.arc(i,s,p,n,f+v/p,!0),v>0){const t=Mc(P,N,i,s);e.arc(t.x,t.y,v,N+Math.PI,f-pi)}const o=Mc(k,f,i,s);if(e.lineTo(o.x,o.y),y>0){const t=Mc(k,S,i,s);e.arc(t.x,t.y,y,f-pi,S)}}else{e.moveTo(i,s);const t=Math.cos(S)*u+i,r=Math.sin(S)*u+s;e.lineTo(t,r);const n=Math.cos(C)*u+i,o=Math.sin(C)*u+s;e.lineTo(n,o)}e.closePath()}function Lc(e,t,r,n,o){const{fullCircles:a,startAngle:i,circumference:s,options:l}=t,{borderWidth:d,borderJoinStyle:c,borderDash:u,borderDashOffset:p}=l,h="inner"===l.borderAlign;if(!d)return;e.setLineDash(u||[]),e.lineDashOffset=p,h?(e.lineWidth=2*d,e.lineJoin=c||"round"):(e.lineWidth=d,e.lineJoin=c||"bevel");let g=t.endAngle;if(a){Dc(e,t,r,n,g,o);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(g=i+(s%li||li))}h&&function(e,t,r){const{startAngle:n,pixelMargin:o,x:a,y:i,outerRadius:s,innerRadius:l}=t;let d=o/s;e.beginPath(),e.arc(a,i,s,n-d,r+d),l>o?(d=o/l,e.arc(a,i,l,r+d,n-d,!0)):e.arc(a,i,o,r+pi,n-pi),e.closePath(),e.clip()}(e,t,g),a||(Dc(e,t,r,n,g,o),e.stroke())}Fe(Ic,"defaults",ss),Fe(Ic,"instances",Rc),Fe(Ic,"overrides",rs),Fe(Ic,"registry",ic),Fe(Ic,"version","4.4.9"),Fe(Ic,"getChart",Ac);class Oc extends Qd{constructor(e){super(),Fe(this,"circumference",void 0),Fe(this,"endAngle",void 0),Fe(this,"fullCircles",void 0),Fe(this,"innerRadius",void 0),Fe(this,"outerRadius",void 0),Fe(this,"pixelMargin",void 0),Fe(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:o,distance:a}=Si(n,{x:e,y:t}),{startAngle:i,endAngle:s,innerRadius:l,outerRadius:d,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,p=Va(c,s-i),h=Ni(o,i,s)&&i!==s,g=p>=li||h,x=Ri(a,l+u,d+u);return g&&x}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:o,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,d=(n+o)/2,c=(a+i+l+s)/2;return{x:t+Math.cos(d)*c,y:r+Math.sin(d)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>li?Math.floor(r/li):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const s=n*(1-Math.sin(Math.min(si,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,o){const{fullCircles:a,startAngle:i,circumference:s}=t;let l=t.endAngle;if(a){Dc(e,t,r,n,l,o);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=i+(s%li||li))}Dc(e,t,r,n,l,o),e.fill()}(e,this,s,o,a),Lc(e,this,s,o,a),e.restore()}}function Fc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Va(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Va(r.borderDash,t.borderDash)),e.lineDashOffset=Va(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Va(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Va(r.borderWidth,t.borderWidth),e.strokeStyle=Va(r.borderColor,t.borderColor)}function Wc(e,t,r){e.lineTo(r.x,r.y)}function Uc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:o=0,end:a=n-1}=r,{start:i,end:s}=t,l=Math.max(o,i),d=Math.min(a,s),c=o<i&&a<i||o>s&&a>s;return{count:n,start:l,loop:t.loop,ilen:d<l&&!c?n+d-l:d-l}}function Hc(e,t,r,n){const{points:o,options:a}=t,{count:i,start:s,loop:l,ilen:d}=Uc(o,r,n),c=function(e){return e.stepped?ms:e.tension||"monotone"===e.cubicInterpolationMode?ys:Wc}(a);let u,p,h,{move:g=!0,reverse:x}=n||{};for(u=0;u<=d;++u)p=o[(s+(x?d-u:u))%i],p.skip||(g?(e.moveTo(p.x,p.y),g=!1):c(e,h,p,x,a.stepped),h=p);return l&&(p=o[(s+(x?d:0))%i],c(e,h,p,x,a.stepped)),!!l}function Vc(e,t,r,n){const o=t.points,{count:a,start:i,ilen:s}=Uc(o,r,n),{move:l=!0,reverse:d}=n||{};let c,u,p,h,g,x,f=0,m=0;const y=e=>(i+(d?s-e:e))%a,b=()=>{h!==g&&(e.lineTo(f,g),e.lineTo(f,h),e.lineTo(f,x))};for(l&&(u=o[y(0)],e.moveTo(u.x,u.y)),c=0;c<=s;++c){if(u=o[y(c)],u.skip)continue;const t=u.x,r=u.y,n=0|t;n===p?(r<h?h=r:r>g&&(g=r),f=(m*f+t)/++m):(b(),e.lineTo(t,r),p=n,m=0,h=g=r),x=r}b()}function Yc(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?Vc:Hc}Fe(Oc,"id","arc"),Fe(Oc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Fe(Oc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(Oc,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const qc="function"===typeof Path2D;function Qc(e,t,r,n){qc&&!t.options.segment?function(e,t,r,n){let o=t._path;o||(o=t._path=new Path2D,t.path(o,r,n)&&o.closePath()),Fc(e,t.options),e.stroke(o)}(e,t,r,n):function(e,t,r,n){const{segments:o,options:a}=t,i=Yc(t);for(const s of o)Fc(e,a,s.style),e.beginPath(),i(e,t,s,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class $c extends Qd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;Zs(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,o=r.length;if(!o)return[];const a=!!e._loop,{start:i,end:s}=function(e,t,r,n){let o=0,a=t-1;if(r&&!n)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,r&&(a+=o);a>o&&e[a%t].skip;)a--;return a%=t,{start:o,end:a}}(r,o,a,n);return kl(e,!0===n?[{start:i,end:s,loop:a}]:function(e,t,r,n){const o=e.length,a=[];let i,s=t,l=e[t];for(i=t+1;i<=r;++i){const r=e[i%o];r.skip||r.stop?l.skip||(n=!1,a.push({start:t%o,end:(i-1)%o,loop:n}),t=s=r.stop?i:null):(s=i,l.skip&&(t=i)),l=r}return null!==s&&a.push({start:t%o,end:s%o,loop:n}),a}(r,i,s<i?s+o:s,!!e._fullLoop&&0===i&&s===o-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],o=this.points,a=jl(this,{property:t,start:n,end:n});if(!a.length)return;const i=[],s=function(e){return e.stepped?hl:e.tension||"monotone"===e.cubicInterpolationMode?gl:pl}(r);let l,d;for(l=0,d=a.length;l<d;++l){const{start:d,end:c}=a[l],u=o[d],p=o[c];if(u===p){i.push(u);continue}const h=s(u,p,Math.abs((n-u[t])/(p[t]-u[t])),r.stepped);h[t]=e[t],i.push(h)}return 1===i.length?i[0]:i}pathSegment(e,t,r){return Yc(this)(e,this,t,r)}path(e,t,r){const n=this.segments,o=Yc(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const i of n)a&=o(e,this,i,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Qc(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gc(e,t,r,n){const o=e.options,{[r]:a}=e.getProps([r],n);return Math.abs(t-a)<o.radius+o.hitRadius}Fe($c,"id","line"),Fe($c,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Fe($c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Fe($c,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Kc extends Qd{constructor(e){super(),Fe(this,"parsed",void 0),Fe(this,"skip",void 0),Fe(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return Gc(this,e,"x",t)}inYRange(e,t){return Gc(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!gs(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,ps(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Xc(e,t){const{x:r,y:n,base:o,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let s,l,d,c,u;return e.horizontal?(u=i/2,s=Math.min(r,o),l=Math.max(r,o),d=n-u,c=n+u):(u=a/2,s=r-u,l=r+u,d=Math.min(n,o),c=Math.max(n,o)),{left:s,top:d,right:l,bottom:c}}function Jc(e,t,r,n){return e?0:Ti(t,r,n)}function Zc(e){const t=Xc(e),r=t.right-t.left,n=t.bottom-t.top,o=function(e,t,r){const n=e.options.borderWidth,o=e.borderSkipped,a=Bs(n);return{t:Jc(o.top,a.top,0,r),r:Jc(o.right,a.right,0,t),b:Jc(o.bottom,a.bottom,0,r),l:Jc(o.left,a.left,0,t)}}(e,r/2,n/2),a=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,a=Ns(o),i=Math.min(t,r),s=e.borderSkipped,l=n||Wa(o);return{topLeft:Jc(!l||s.top||s.left,a.topLeft,0,i),topRight:Jc(!l||s.top||s.right,a.topRight,0,i),bottomLeft:Jc(!l||s.bottom||s.left,a.bottomLeft,0,i),bottomRight:Jc(!l||s.bottom||s.right,a.bottomRight,0,i)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:r-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function eu(e,t,r,n){const o=null===t,a=null===r,i=e&&!(o&&a)&&Xc(e,n);return i&&(o||Ri(t,i.left,i.right))&&(a||Ri(r,i.top,i.bottom))}function tu(e,t){e.rect(t.x,t.y,t.w,t.h)}function ru(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,o=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-n,i=(e.y+e.h!==r.y+r.h?t:0)-o;return{x:e.x+n,y:e.y+o,w:e.w+a,h:e.h+i,radius:e.radius}}Fe(Kc,"id","point"),Fe(Kc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Fe(Kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class nu extends Qd{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:o,outer:a}=Zc(this),i=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?ks:tu;var s;e.save(),a.w===o.w&&a.h===o.h||(e.beginPath(),i(e,ru(a,t,o)),e.clip(),i(e,ru(o,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),i(e,ru(o,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return eu(this,e,t,r)}inXRange(e,t){return eu(this,e,null,t)}inYRange(e,t){return eu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+n)/2:t,y:o?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Fe(nu,"id","bar"),Fe(nu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(nu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ou(e,t,r,n){if(n)return;let o=t[e],a=r[e];return"angle"===e&&(o=Bi(o),a=Bi(a)),{property:e,start:o,end:a}}function au(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function iu(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function su(e,t){let r=[],n=!1;return Fa(e)?(n=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},o=t.points,a=[];return t.segments.forEach((e=>{let{start:t,end:i}=e;i=au(t,i,o);const s=o[t],l=o[i];null!==n?(a.push({x:s.x,y:n}),a.push({x:l.x,y:n})):null!==r&&(a.push({x:r,y:s.y}),a.push({x:r,y:l.y}))})),a}(e,t),r.length?new $c({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function lu(e){return e&&!1!==e.fill}function du(e,t,r){let n=e[t].fill;const o=[t];let a;if(!r)return n;for(;!1!==n&&-1===o.indexOf(n);){if(!Ua(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;o.push(n),n=a.fill}return!1}function cu(e,t,r){const n=function(e){const t=e.options,r=t.fill;let n=Va(r&&r.target,r);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(Wa(n))return!isNaN(n.value)&&n;let o=parseFloat(n);return Ua(o)&&Math.floor(o)===o?function(e,t,r,n){"-"!==e&&"+"!==e||(r=t+r);if(r===t||r<0||r>=n)return!1;return r}(n[0],t,o,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function uu(e,t,r){const n=[];for(let o=0;o<r.length;o++){const a=r[o],{first:i,last:s,point:l}=pu(a,t,"x");if(!(!l||i&&s))if(i)n.unshift(l);else if(e.push(l),!s)break}e.push(...n)}function pu(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const o=n[r],a=e.segments,i=e.points;let s=!1,l=!1;for(let d=0;d<a.length;d++){const e=a[d],t=i[e.start][r],n=i[e.end][r];if(Ri(o,t,n)){s=o===t,l=o===n;break}}return{first:s,last:l,point:n}}class hu{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:o,radius:a}=this;return t=t||{start:0,end:li},e.arc(n,o,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,o=e.angle;return{x:t+Math.cos(o)*n,y:r+Math.sin(o)*n,angle:o}}}function gu(e){const{chart:t,fill:r,line:n}=e;if(Ua(r))return function(e,t){const r=e.getDatasetMeta(t),n=r&&e.isDatasetVisible(t);return n?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,o=[],a=n.segments,i=n.points,s=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const e=n[o];if(e.index===t)break;e.hidden||r.unshift(e.dataset)}return r}(t,r);s.push(su({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)uu(o,i[t],s)}return new $c({points:o,options:{}})}(e);if("shape"===r)return!0;const o=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:r}=e,n=t.options,o=t.getLabels().length,a=n.reverse?t.max:t.min,i=function(e,t,r){let n;return n="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:Wa(e)?e.value:t.getBaseValue(),n}(r,t,a),s=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new hu({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<o;++l)s.push(t.getPointPositionForValue(l,i));return s}(e);return function(e){const{scale:t={},fill:r}=e,n=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:Wa(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if(Ua(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return o instanceof hu?o:su(o,n)}function xu(e,t,r){const n=gu(t),{chart:o,index:a,line:i,scale:s,axis:l}=t,d=i.options,c=d.fill,u=d.backgroundColor,{above:p=u,below:h=u}=c||{},g=o.getDatasetMeta(a),x=Pl(o,g);n&&i.points.length&&(xs(e,r),function(e,t){const{line:r,target:n,above:o,below:a,area:i,scale:s,clip:l}=t,d=r._loop?"angle":t.axis;e.save(),"x"===d&&a!==o&&(fu(e,n,i.top),mu(e,{line:r,target:n,color:o,scale:s,property:d,clip:l}),e.restore(),e.save(),fu(e,n,i.bottom));mu(e,{line:r,target:n,color:a,scale:s,property:d,clip:l}),e.restore()}(e,{line:i,target:n,above:p,below:h,area:r,scale:s,axis:l,clip:x}),fs(e))}function fu(e,t,r){const{segments:n,points:o}=t;let a=!0,i=!1;e.beginPath();for(const s of n){const{start:n,end:l}=s,d=o[n],c=o[au(n,l,o)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(d.x,r),e.lineTo(d.x,d.y)),i=!!t.pathSegment(e,s,{move:i}),i?e.closePath():e.lineTo(c.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function mu(e,t){const{line:r,target:n,property:o,color:a,scale:i,clip:s}=t,l=function(e,t,r){const n=e.segments,o=e.points,a=t.points,i=[];for(const s of n){let{start:e,end:n}=s;n=au(e,n,o);const l=ou(r,o[e],o[n],s.loop);if(!t.segments){i.push({source:s,target:l,start:o[e],end:o[n]});continue}const d=jl(t,l);for(const t of d){const e=ou(r,a[t.start],a[t.end],t.loop),n=vl(s,o,e);for(const o of n)i.push({source:o,target:t,start:{[r]:iu(l,e,"start",Math.max)},end:{[r]:iu(l,e,"end",Math.min)}})}}return i}(r,n,o);for(const{source:d,target:c,start:u,end:p}of l){const{style:{backgroundColor:t=a}={}}=d,l=!0!==n;e.save(),e.fillStyle=t,yu(e,i,s,l&&ou(o,u,p)),e.beginPath();const h=!!r.pathSegment(e,d);let g;if(l){h?e.closePath():bu(e,n,p,o);const t=!!n.pathSegment(e,c,{move:h,reverse:!0});g=h&&t,g||bu(e,n,u,o)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function yu(e,t,r,n){const o=t.chart.chartArea,{property:a,start:i,end:s}=n||{};if("x"===a||"y"===a){let t,n,l,d;"x"===a?(t=i,n=o.top,l=s,d=o.bottom):(t=o.left,n=i,l=o.right,d=s),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),n=Math.max(n,r.top),d=Math.min(d,r.bottom)),e.rect(t,n,l-t,d-n),e.clip()}}function bu(e,t,r,n){const o=t.interpolate(r,n);o&&e.lineTo(o.x,o.y)}var vu={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,o=[];let a,i,s,l;for(i=0;i<n;++i)a=e.getDatasetMeta(i),s=a.dataset,l=null,s&&s.options&&s instanceof $c&&(l={visible:e.isDatasetVisible(i),index:i,fill:cu(s,i,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,o.push(l);for(i=0;i<n;++i)l=o[i],l&&!1!==l.fill&&(l.fill=du(o,i,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,o=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=o.length-1;i>=0;--i){const t=o[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&xu(e.ctx,t,a))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const t=n[o].$filler;lu(t)&&xu(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;lu(n)&&"beforeDatasetDraw"===r.drawTime&&xu(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ju=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class ku extends Qd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=qa(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,r)=>e.sort(t,r,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=Rs(r.font),o=n.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:s}=ju(r,o);let l,d;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(a,o,i,s)+10):(d=this.maxHeight,l=this._fitCols(a,n,i,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:o,maxWidth:a,options:{labels:{padding:i}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],d=n+i;let c=e;o.textAlign="left",o.textBaseline="middle";let u=-1,p=-d;return this.legendItems.forEach(((e,h)=>{const g=r+t/2+o.measureText(e.text).width;(0===h||l[l.length-1]+g+2*i>a)&&(c+=d,l[l.length-(h>0?0:1)]=0,p+=d,u++),s[h]={left:0,top:p,row:u,width:g,height:n},l[l.length-1]+=g+i})),c}_fitCols(e,t,r,n){const{ctx:o,maxHeight:a,options:{labels:{padding:i}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],d=a-e;let c=i,u=0,p=0,h=0,g=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:x,itemHeight:f}=function(e,t,r,n,o){const a=function(e,t,r,n){let o=e.text;o&&"string"!==typeof o&&(o=o.reduce(((e,t)=>e.length>t.length?e:t)));return t+r.size/2+n.measureText(o).width}(n,e,t,r),i=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=wu(t,r));return n}(o,n,t.lineHeight);return{itemWidth:a,itemHeight:i}}(r,t,o,e,n);a>0&&p+f+2*i>d&&(c+=u+i,l.push({width:u,height:p}),h+=u+i,g++,u=p=0),s[a]={left:h,top:p,col:g,width:x,height:f},u=Math.max(u,x),p+=f+i})),c+=u,l.push({width:u,height:p}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:o}}=this,a=xl(o,this.left,this.width);if(this.isHorizontal()){let o=0,i=Fi(r,this.left+n,this.right-this.lineWidths[o]);for(const s of t)o!==s.row&&(o=s.row,i=Fi(r,this.left+n,this.right-this.lineWidths[o])),s.top+=this.top+e+n,s.left=a.leftForLtr(a.x(i),s.width),i+=s.width+n}else{let o=0,i=Fi(r,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const s of t)s.col!==o&&(o=s.col,i=Fi(r,this.top+e+n,this.bottom-this.columnSizes[o].height)),s.top=i,s.left+=this.left+n,s.left=a.leftForLtr(a.x(s.left),s.width),i+=s.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;xs(e,this),this._draw(),fs(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:o,labels:a}=e,i=ss.color,s=xl(e.rtl,this.left,this.width),l=Rs(a.font),{padding:d}=a,c=l.size,u=c/2;let p;this.drawTitle(),n.textAlign=s.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:h,boxHeight:g,itemHeight:x}=ju(a,c),f=this.isHorizontal(),m=this._computeTitleHeight();p=f?{x:Fi(o,this.left+d,this.right-r[0]),y:this.top+d+m,line:0}:{x:this.left+d,y:Fi(o,this.top+m+d,this.bottom-t[0].height),line:0},fl(this.ctx,e.textDirection);const y=x+d;this.legendItems.forEach(((b,v)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const j=n.measureText(b.text).width,k=s.textAlign(b.textAlign||(b.textAlign=a.textAlign)),w=h+u+j;let S=p.x,C=p.y;s.setWidth(this.width),f?v>0&&S+w+d>this.right&&(C=p.y+=y,p.line++,S=p.x=Fi(o,this.left+d,this.right-r[p.line])):v>0&&C+y>this.bottom&&(S=p.x=S+t[p.line].width+d,p.line++,C=p.y=Fi(o,this.top+m+d,this.bottom-t[p.line].height));if(function(e,t,r){if(isNaN(h)||h<=0||isNaN(g)||g<0)return;n.save();const o=Va(r.lineWidth,1);if(n.fillStyle=Va(r.fillStyle,i),n.lineCap=Va(r.lineCap,"butt"),n.lineDashOffset=Va(r.lineDashOffset,0),n.lineJoin=Va(r.lineJoin,"miter"),n.lineWidth=o,n.strokeStyle=Va(r.strokeStyle,i),n.setLineDash(Va(r.lineDash,[])),a.usePointStyle){const i={radius:g*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:o},l=s.xPlus(e,h/2);hs(n,i,l,t+u,a.pointStyleWidth&&h)}else{const a=t+Math.max((c-g)/2,0),i=s.leftForLtr(e,h),l=Ns(r.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?ks(n,{x:i,y:a,w:h,h:g,radius:l}):n.rect(i,a,h,g),n.fill(),0!==o&&n.stroke()}n.restore()}(s.x(S),C,b),S=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(k,S+h+u,f?S+w:this.right,e.rtl),function(e,t,r){js(n,r.text,e,t+x/2,l,{strikethrough:r.hidden,textAlign:s.textAlign(r.textAlign)})}(s.x(S),C,b),f)p.x+=w+d;else if("string"!==typeof b.text){const e=l.lineHeight;p.y+=wu(b,e)+d}else p.y+=y})),ml(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Rs(t.font),n=Ts(t.padding);if(!t.display)return;const o=xl(e.rtl,this.left,this.width),a=this.ctx,i=t.position,s=r.size/2,l=n.top+s;let d,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),d=this.top+l,c=Fi(e.align,c,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);d=l+Fi(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=Fi(i,c,c+u);a.textAlign=o.textAlign(Oi(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,js(a,t.text,p,d,r)}_computeTitleHeight(){const e=this.options.title,t=Rs(e.font),r=Ts(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,o;if(Ri(e,this.left,this.right)&&Ri(t,this.top,this.bottom))for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(n=o[r],Ri(e,n.left,n.left+n.width)&&Ri(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,i=(o=r,null!==(n=a)&&null!==o&&n.datasetIndex===o.datasetIndex&&n.index===o.index);a&&!i&&qa(t.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!i&&qa(t.onHover,[e,r,this],this)}else r&&qa(t.onClick,[e,r,this],this);var n,o}}function wu(e,t){return t*(e.text?e.text.length:0)}var Su={id:"legend",_element:ku,start(e,t,r){const n=e.legend=new ku({ctx:e.ctx,options:r,chart:e});Td.configure(e,n,r),Td.addBox(e,n)},stop(e){Td.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Td.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,o=r.chart;o.isDatasetVisible(n)?(o.hide(n),t.hidden=!0):(o.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:o,color:a,useBorderRadius:i,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(r?0:void 0),d=Ts(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:o||l.textAlign,borderRadius:i&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cu extends Qd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Fa(r.text)?r.text.length:1;this._padding=Ts(r.padding);const o=n*Rs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:o,options:a}=this,i=a.align;let s,l,d,c=0;return this.isHorizontal()?(l=Fi(i,r,o),d=t+e,s=o-r):("left"===a.position?(l=r+e,d=Fi(i,n,t),c=-.5*si):(l=o-e,d=Fi(i,t,n),c=.5*si),s=n-t),{titleX:l,titleY:d,maxWidth:s,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Rs(t.font),n=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:i,rotation:s}=this._drawArgs(n);js(e,t.text,0,0,r,{color:t.color,maxWidth:i,rotation:s,textAlign:Oi(t.align),textBaseline:"middle",translation:[o,a]})}}var Pu={id:"title",_element:Cu,start(e,t,r){!function(e,t){const r=new Cu({ctx:e.ctx,options:t,chart:e});Td.configure(e,r,t),Td.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;Td.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;Td.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Bu={average(e){if(!e.length)return!1;let t,r,n=new Set,o=0,a=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),o+=e.y,++a}}if(0===a||0===n.size)return!1;return{x:[...n].reduce(((e,t)=>e+t))/n.size,y:o/a}},nearest(e,t){if(!e.length)return!1;let r,n,o,a=t.x,i=t.y,s=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=Ci(t,n.getCenterPoint());e<s&&(s=e,o=n)}}if(o){const e=o.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function Nu(e,t){return t&&(Fa(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Tu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ru(e,t){const{element:r,datasetIndex:n,index:o}=t,a=e.getDatasetMeta(n).controller,{label:i,value:s}=a.getLabelAndValue(o);return{chart:e,label:i,parsed:a.getParsed(o),raw:e.data.datasets[n].data[o],formattedValue:s,dataset:a.getDataset(),dataIndex:o,datasetIndex:n,element:r}}function Au(e,t){const r=e.chart.ctx,{body:n,footer:o,title:a}=e,{boxWidth:i,boxHeight:s}=t,l=Rs(t.bodyFont),d=Rs(t.titleFont),c=Rs(t.footerFont),u=a.length,p=o.length,h=n.length,g=Ts(t.padding);let x=g.height,f=0,m=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(m+=e.beforeBody.length+e.afterBody.length,u&&(x+=u*d.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),m){x+=h*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(m-h)*l.lineHeight+(m-1)*t.bodySpacing}p&&(x+=t.footerMarginTop+p*c.lineHeight+(p-1)*t.footerSpacing);let y=0;const b=function(e){f=Math.max(f,r.measureText(e).width+y)};return r.save(),r.font=d.string,Qa(e.title,b),r.font=l.string,Qa(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?i+2+t.boxPadding:0,Qa(n,(e=>{Qa(e.before,b),Qa(e.lines,b),Qa(e.after,b)})),y=0,r.font=c.string,Qa(e.footer,b),r.restore(),f+=g.width,{width:f,height:x}}function _u(e,t,r,n){const{x:o,width:a}=r,{width:i,chartArea:{left:s,right:l}}=e;let d="center";return"center"===n?d=o<=(s+l)/2?"left":"right":o<=a/2?d="left":o>=i-a/2&&(d="right"),function(e,t,r,n){const{x:o,width:a}=n,i=r.caretSize+r.caretPadding;return"left"===e&&o+a+i>t.width||"right"===e&&o-a-i<0||void 0}(d,e,t,r)&&(d="center"),d}function Iu(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||_u(e,t,r,n),yAlign:n}}function zu(e,t,r,n){const{caretSize:o,caretPadding:a,cornerRadius:i}=e,{xAlign:s,yAlign:l}=r,d=o+a,{topLeft:c,topRight:u,bottomLeft:p,bottomRight:h}=Ns(i);let g=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,s);const x=function(e,t,r){let{y:n,height:o}=e;return"top"===t?n+=r:n-="bottom"===t?o+r:o/2,n}(t,l,d);return"center"===l?"left"===s?g+=d:"right"===s&&(g-=d):"left"===s?g-=Math.max(c,p)+o:"right"===s&&(g+=Math.max(u,h)+o),{x:Ti(g,0,n.width-t.width),y:Ti(x,0,n.height-t.height)}}function Eu(e,t,r){const n=Ts(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Mu(e){return Nu([],Tu(e))}function Du(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const Lu={beforeTitle:Da,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Da,beforeBody:Da,beforeLabel:Da,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Oa(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Da,afterBody:Da,beforeFooter:Da,footer:Da,afterFooter:Da};function Ou(e,t,r,n){const o=e[t].call(r,n);return"undefined"===typeof o?Lu[t].call(r,n):o}class Fu extends Qd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,o=new _l(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,_s(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=Ou(r,"beforeTitle",this,e),o=Ou(r,"title",this,e),a=Ou(r,"afterTitle",this,e);let i=[];return i=Nu(i,Tu(n)),i=Nu(i,Tu(o)),i=Nu(i,Tu(a)),i}getBeforeBody(e,t){return Mu(Ou(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Qa(e,(e=>{const t={before:[],lines:[],after:[]},o=Du(r,e);Nu(t.before,Tu(Ou(o,"beforeLabel",this,e))),Nu(t.lines,Ou(o,"label",this,e)),Nu(t.after,Tu(Ou(o,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return Mu(Ou(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=Ou(r,"beforeFooter",this,e),o=Ou(r,"footer",this,e),a=Ou(r,"afterFooter",this,e);let i=[];return i=Nu(i,Tu(n)),i=Nu(i,Tu(o)),i=Nu(i,Tu(a)),i}_createItems(e){const t=this._active,r=this.chart.data,n=[],o=[],a=[];let i,s,l=[];for(i=0,s=t.length;i<s;++i)l.push(Ru(this.chart,t[i]));return e.filter&&(l=l.filter(((t,n,o)=>e.filter(t,n,o,r)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,r)))),Qa(l,(t=>{const r=Du(e.callbacks,t);n.push(Ou(r,"labelColor",this,t)),o.push(Ou(r,"labelPointStyle",this,t)),a.push(Ou(r,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let o,a=[];if(n.length){const e=Bu[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const t=this._size=Au(this,r),i=Object.assign({},e,t),s=Iu(this.chart,r,i),l=zu(r,i,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,o={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const o=this.getCaretPosition(e,r,n);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:o}=this,{caretSize:a,cornerRadius:i}=r,{topLeft:s,topRight:l,bottomLeft:d,bottomRight:c}=Ns(i),{x:u,y:p}=e,{width:h,height:g}=t;let x,f,m,y,b,v;return"center"===o?(b=p+g/2,"left"===n?(x=u,f=x-a,y=b+a,v=b-a):(x=u+h,f=x+a,y=b-a,v=b+a),m=x):(f="left"===n?u+Math.max(s,d)+a:"right"===n?u+h-Math.max(l,c)-a:this.caretX,"top"===o?(y=p,b=y-a,x=f-a,m=f+a):(y=p+g,b=y+a,x=f+a,m=f-a),v=y),{x1:x,x2:f,x3:m,y1:y,y2:b,y3:v}}drawTitle(e,t,r){const n=this.title,o=n.length;let a,i,s;if(o){const l=xl(r.rtl,this.x,this.width);for(e.x=Eu(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",a=Rs(r.titleFont),i=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,s=0;s<o;++s)t.fillText(n[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,s+1===o&&(e.y+=r.titleMarginBottom-i)}}_drawColorBox(e,t,r,n,o){const a=this.labelColors[r],i=this.labelPointStyles[r],{boxHeight:s,boxWidth:l}=o,d=Rs(o.bodyFont),c=Eu(this,"left",o),u=n.x(c),p=s<d.lineHeight?(d.lineHeight-s)/2:0,h=t.y+p;if(o.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},r=n.leftForLtr(u,l)+l/2,d=h+s/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ps(e,t,r,d),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ps(e,t,r,d)}else{e.lineWidth=Wa(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,l),r=n.leftForLtr(n.xPlus(u,1),l-2),i=Ns(a.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ks(e,{x:t,y:h,w:l,h:s,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ks(e,{x:r,y:h+1,w:l-2,h:s-2,radius:i}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,h,l,s),e.strokeRect(t,h,l,s),e.fillStyle=a.backgroundColor,e.fillRect(r,h+1,l-2,s-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:o,bodyAlign:a,displayColors:i,boxHeight:s,boxWidth:l,boxPadding:d}=r,c=Rs(r.bodyFont);let u=c.lineHeight,p=0;const h=xl(r.rtl,this.x,this.width),g=function(r){t.fillText(r,h.x(e.x+p),e.y+u/2),e.y+=u+o},x=h.textAlign(a);let f,m,y,b,v,j,k;for(t.textAlign=a,t.textBaseline="middle",t.font=c.string,e.x=Eu(this,x,r),t.fillStyle=r.bodyColor,Qa(this.beforeBody,g),p=i&&"right"!==x?"center"===a?l/2+d:l+2+d:0,b=0,j=n.length;b<j;++b){for(f=n[b],m=this.labelTextColors[b],t.fillStyle=m,Qa(f.before,g),y=f.lines,i&&y.length&&(this._drawColorBox(t,e,b,h,r),u=Math.max(c.lineHeight,s)),v=0,k=y.length;v<k;++v)g(y[v]),u=c.lineHeight;Qa(f.after,g)}p=0,u=c.lineHeight,Qa(this.afterBody,g),e.y-=o}drawFooter(e,t,r){const n=this.footer,o=n.length;let a,i;if(o){const s=xl(r.rtl,this.x,this.width);for(e.x=Eu(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=s.textAlign(r.footerAlign),t.textBaseline="middle",a=Rs(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,i=0;i<o;++i)t.fillText(n[i],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:o,yAlign:a}=this,{x:i,y:s}=e,{width:l,height:d}=r,{topLeft:c,topRight:u,bottomLeft:p,bottomRight:h}=Ns(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+c,s),"top"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+l-u,s),t.quadraticCurveTo(i+l,s,i+l,s+u),"center"===a&&"right"===o&&this.drawCaret(e,t,r,n),t.lineTo(i+l,s+d-h),t.quadraticCurveTo(i+l,s+d,i+l-h,s+d),"bottom"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+p,s+d),t.quadraticCurveTo(i,s+d,i,s+d-p),"center"===a&&"left"===o&&this.drawCaret(e,t,r,n),t.lineTo(i,s+c),t.quadraticCurveTo(i,s,i+c,s),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,o=r&&r.y;if(n||o){const r=Bu[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Au(this,e),i=Object.assign({},r,this._size),s=Iu(t,e,i),l=zu(e,i,s,t);n._to===l.x&&o._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ts(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,n,t),fl(e,t.textDirection),o.y+=a.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),ml(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}})),o=!$a(r,n),a=this._positionChanged(n,t);(o||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,o=this._active||[],a=this._getActiveElements(e,o,t,r),i=this._positionChanged(a,e),s=t||!$a(a,o)||i;return s&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,r,n){const o=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:o}=this,a=Bu[o.position].call(this,e,t);return!1!==a&&(r!==a.x||n!==a.y)}}Fe(Fu,"positioners",Bu);var Wu={id:"tooltip",_element:Fu,positioners:Bu,afterInit(e,t,r){r&&(e.tooltip=new Fu({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Ue(Ue({},r),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Uu(e,t,r,n){const o=e.indexOf(t);if(-1===o)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return o!==e.lastIndexOf(t)?r:o}function Hu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Vu extends nc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Oa(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:Ti(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:Uu(r,e,Va(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return Hu.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Yu(e,t){const r=[],{bounds:n,step:o,min:a,max:i,precision:s,count:l,maxTicks:d,maxDigits:c,includeBounds:u}=e,p=o||1,h=d-1,{min:g,max:x}=t,f=!Oa(a),m=!Oa(i),y=!Oa(l),b=(x-g)/(c+1);let v,j,k,w,S=yi((x-g)/h/p)*p;if(S<1e-14&&!f&&!m)return[{value:g},{value:x}];w=Math.ceil(x/S)-Math.floor(g/S),w>h&&(S=yi(w*S/h/p)*p),Oa(s)||(v=Math.pow(10,s),S=Math.ceil(S*v)/v),"ticks"===n?(j=Math.floor(g/S)*S,k=Math.ceil(x/S)*S):(j=g,k=x),f&&m&&o&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((i-a)/o,S/1e3)?(w=Math.round(Math.min((i-a)/S,d)),S=(i-a)/w,j=a,k=i):y?(j=f?a:j,k=m?i:k,w=l-1,S=(k-j)/w):(w=(k-j)/S,w=mi(w,Math.round(w),S/1e3)?Math.round(w):Math.ceil(w));const C=Math.max(wi(S),wi(j));v=Math.pow(10,Oa(s)?C:s),j=Math.round(j*v)/v,k=Math.round(k*v)/v;let P=0;for(f&&(u&&j!==a?(r.push({value:a}),j<a&&P++,mi(Math.round((j+P*S)*v)/v,a,qu(a,b,e))&&P++):j<a&&P++);P<w;++P){const e=Math.round((j+P*S)*v)/v;if(m&&e>i)break;r.push({value:e})}return m&&u&&k!==i?r.length&&mi(r[r.length-1].value,i,qu(i,b,e))?r[r.length-1].value=i:r.push({value:i}):m&&k!==i||r.push({value:k}),r}function qu(e,t,r){let{horizontal:n,minRotation:o}=r;const a=ji(o),i=(n?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/i,s)}Fe(Vu,"id","category"),Fe(Vu,"defaults",{ticks:{callback:Hu}});class Qu extends nc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Oa(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:o}=this;const a=e=>n=t?n:e,i=e=>o=r?o:e;if(e){const e=fi(n),t=fi(o);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(n===o){let t=0===o?1:Math.abs(.05*o);i(o+t),e||a(n-t)}this.min=n,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=Yu({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&vi(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Zi(e,this.chart.options.locale,this.options.ticks.format)}}class $u extends Qu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ua(e)?e:0,this.max=Ua(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ji(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe($u,"id","linear"),Fe($u,"defaults",{ticks:{callback:ts.formatters.numeric}});const Gu=e=>Math.floor(xi(e)),Ku=(e,t)=>Math.pow(10,Gu(e)+t);function Xu(e){return 1===e/Math.pow(10,Gu(e))}function Ju(e,t,r){const n=Math.pow(10,r),o=Math.floor(e/n);return Math.ceil(t/n)-o}function Zu(e,t){let{min:r,max:n}=t;r=Ha(e.min,r);const o=[],a=Gu(r);let i=function(e,t){let r=Gu(t-e);for(;Ju(e,t,r)>10;)r++;for(;Ju(e,t,r)<10;)r--;return Math.min(r,Gu(e))}(r,n),s=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),d=a>i?Math.pow(10,a):0,c=Math.round((r-d)*s)/s,u=Math.floor((r-d)/l/10)*l*10;let p=Math.floor((c-u)/Math.pow(10,i)),h=Ha(e.min,Math.round((d+u+p*Math.pow(10,i))*s)/s);for(;h<n;)o.push({value:h,major:Xu(h),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(i++,p=2,s=i>=0?1:s),h=Math.round((d+u+p*Math.pow(10,i))*s)/s;const g=Ha(e.max,h);return o.push({value:g,major:Xu(g),significand:p}),o}class ep extends nc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=Qu.prototype.parse.apply(this,[e,t]);if(0!==r)return Ua(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ua(e)?Math.max(0,e):null,this.max=Ua(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ua(this._userMin)&&(this.min=e===Ku(this.min,0)?Ku(this.min,-1):Ku(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const o=t=>r=e?r:t,a=e=>n=t?n:e;r===n&&(r<=0?(o(1),a(10)):(o(Ku(r,-1)),a(Ku(n,1)))),r<=0&&o(Ku(n,-1)),n<=0&&a(Ku(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t=Zu({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&vi(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Zi(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=xi(e),this._valueRange=xi(this.max)-xi(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function tp(e){const t=e.ticks;if(t.display&&e.display){const e=Ts(t.backdropPadding);return Va(t.font&&t.font.size,ss.font.size)+e.height}return 0}function rp(e,t,r,n,o){return e===n||e===o?{start:t-r/2,end:t+r/2}:e<n||e>o?{start:t-r,end:t}:{start:t,end:t+r}}function np(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],o=[],a=e._pointLabels.length,i=e.options.pointLabels,s=i.centerPointLabels?si/a:0;for(let u=0;u<a;u++){const a=i.setContext(e.getPointLabelContext(u));o[u]=a.padding;const p=e.getPointPosition(u,e.drawingArea+o[u],s),h=Rs(a.font),g=(l=e.ctx,d=h,c=Fa(c=e._pointLabels[u])?c:[c],{w:ds(l,d.string,c),h:c.length*d.lineHeight});n[u]=g;const x=Bi(e.getIndexAngle(u)+s),f=Math.round(ki(x));op(r,t,x,rp(f,p.x,g.w,0,180),rp(f,p.y,g.h,90,270))}var l,d,c;e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const n=[],o=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:s}=a.pointLabels,l={extra:tp(a)/2,additionalAngle:i?si/o:0};let d;for(let c=0;c<o;c++){l.padding=r[c],l.size=t[c];const o=ap(e,c,l);n.push(o),"auto"===s&&(o.visible=ip(o,d),o.visible&&(d=o))}return n}(e,n,o)}function op(e,t,r,n,o){const a=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let s=0,l=0;n.start<t.l?(s=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-s)):n.end>t.r&&(s=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),o.start<t.t?(l=(t.t-o.start)/i,e.t=Math.min(e.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function ap(e,t,r){const n=e.drawingArea,{extra:o,additionalAngle:a,padding:i,size:s}=r,l=e.getPointPosition(t,n+o+i,a),d=Math.round(ki(Bi(l.angle+pi))),c=function(e,t,r){90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t);return e}(l.y,s.h,d),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(d),p=function(e,t,r){"right"===r?e-=t:"center"===r&&(e-=t/2);return e}(l.x,s.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:p,top:c,right:p+s.w,bottom:c+s.h}}function ip(e,t){if(!t)return!0;const{left:r,top:n,right:o,bottom:a}=e;return!(gs({x:r,y:n},t)||gs({x:r,y:a},t)||gs({x:o,y:n},t)||gs({x:o,y:a},t))}function sp(e,t,r){const{left:n,top:o,right:a,bottom:i}=r,{backdropColor:s}=t;if(!Oa(s)){const r=Ns(t.borderRadius),l=Ts(t.backdropPadding);e.fillStyle=s;const d=n-l.left,c=o-l.top,u=a-n+l.width,p=i-o+l.height;Object.values(r).some((e=>0!==e))?(e.beginPath(),ks(e,{x:d,y:c,w:u,h:p,radius:r}),e.fill()):e.fillRect(d,c,u,p)}}function lp(e,t,r,n){const{ctx:o}=e;if(r)o.arc(e.xCenter,e.yCenter,t,0,li);else{let r=e.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=e.getPointPosition(a,t),o.lineTo(r.x,r.y)}}Fe(ep,"id","logarithmic"),Fe(ep,"defaults",{ticks:{callback:ts.formatters.logarithmic,major:{enabled:!0}}});class dp extends Qu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ts(tp(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ua(e)&&!isNaN(e)?e:0,this.max=Ua(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/tp(this.options))}generateTickLabels(e){Qu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const r=qa(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?np(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){return Bi(e*(li/(this._pointLabels.length||1))+ji(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Oa(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Oa(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return _s(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-pi+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),lp(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:o}=t,a=this._pointLabels.length;let i,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let o=t-1;o>=0;o--){const t=e._pointLabelItems[o];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(o));sp(r,a,t);const i=Rs(a.font),{x:s,y:l,textAlign:d}=t;js(r,e._pointLabels[o],s,l+i.lineHeight/2,i,{color:a.color,textAlign:d,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const r=this.getContext(t),i=n.setContext(r),l=o.setContext(r);!function(e,t,r,n,o){const a=e.ctx,i=t.circular,{color:s,lineWidth:l}=t;!i&&!n||!s||!l||r<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(o.dash||[]),a.lineDashOffset=o.dashOffset,a.beginPath(),lp(e,r,i,n),a.closePath(),a.stroke(),a.restore())}(this,i,s,a,l)}})),r.display){for(e.save(),i=a-1;i>=0;i--){const n=r.setContext(this.getPointLabelContext(i)),{color:o,lineWidth:a}=n;a&&o&&(e.lineWidth=a,e.strokeStyle=o,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,s=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let o,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const s=r.setContext(this.getContext(i)),l=Rs(s.font);if(o=this.getDistanceFromCenterForValue(this.ticks[i].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(n.label).width,e.fillStyle=s.backdropColor;const t=Ts(s.backdropPadding);e.fillRect(-a/2-t.left,-o-l.size/2-t.top,a+t.width,l.size+t.height)}js(e,n.label,0,-o,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}Fe(dp,"id","radialLinear"),Fe(dp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ts.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Fe(dp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Fe(dp,"descriptors",{angleLines:{_fallback:"grid"}});const cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},up=Object.keys(cp);function pp(e,t){return e-t}function hp(e,t){if(Oa(t))return null;const r=e._adapter,{parser:n,round:o,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),Ua(i)||(i="string"===typeof n?r.parse(i,n):r.parse(i)),null===i?null:(o&&(i="week"!==o||!bi(a)&&!0!==a?r.startOf(i,o):r.startOf(i,"isoWeek",a)),+i)}function gp(e,t,r,n){const o=up.length;for(let a=up.indexOf(e);a<o-1;++a){const e=cp[up[a]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(o*e.size))<=n)return up[a]}return up[o-1]}function xp(e,t,r){if(r){if(r.length){const{lo:n,hi:o}=Ai(r,t);e[r[n]>=t?r[n]:r[o]]=!0}}else e[t]=!0}function fp(e,t,r){const n=[],o={},a=t.length;let i,s;for(i=0;i<a;++i)s=t[i],o[s]=i,n.push({value:s,major:!1});return 0!==a&&r?function(e,t,r,n){const o=e._adapter,a=+o.startOf(t[0].value,n),i=t[t.length-1].value;let s,l;for(s=a;s<=i;s=+o.add(s,1,n))l=r[s],l>=0&&(t[l].major=!0);return t}(e,n,o,r):n}class mp extends nc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new dd(e.adapters.date);n.init(t),Za(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:hp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:o,minDefined:a,maxDefined:i}=this.getUserBounds();function s(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(o=Math.max(o,e.max))}a&&i||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),n=Ua(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),o=Ua(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,o-1),this.max=Math.max(n+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const o=this.min,a=function(e,t,r){let n=0,o=e.length;for(;n<o&&e[n]<t;)n++;for(;o>n&&e[o-1]>r;)o--;return n>0||o<e.length?e.slice(n,o):e}(n,o,this.max);return this._unit=t.unit||(r.autoSkip?gp(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,r,n,o){for(let a=up.length-1;a>=up.indexOf(r);a--){const r=up[a];if(cp[r].common&&e._adapter.diff(o,n,r)>=t-1)return r}return up[r?up.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=up.indexOf(e)+1,r=up.length;t<r;++t)if(cp[up[t]].common)return up[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),fp(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,o=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),n=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),o=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const a=r.length<3?.5:.25;n=Ti(n,0,a),o=Ti(o,0,a),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,o=n.time,a=o.unit||gp(o.minUnit,t,r,this._getLabelCapacity(t)),i=Va(n.ticks.stepSize,1),s="week"===a&&o.isoWeekday,l=bi(s)||!0===s,d={};let c,u,p=t;if(l&&(p=+e.startOf(p,"isoWeek",s)),p=+e.startOf(p,l?"day":a),e.diff(r,t,a)>1e5*i)throw new Error(t+" and "+r+" are too far apart with stepSize of "+i+" "+a);const h="data"===n.ticks.source&&this.getDataTimestamps();for(c=p,u=0;c<r;c=+e.add(c,i,a),u++)xp(d,c,h);return c!==r&&"ticks"!==n.bounds&&1!==u||xp(d,c,h),Object.keys(d).sort(pp).map((e=>+e))}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,o=t||r[n];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,n){const o=this.options,a=o.ticks.callback;if(a)return qa(a,[e,t,r],this);const i=o.time.displayFormats,s=this._unit,l=this._majorUnit,d=s&&i[s],c=l&&i[l],u=r[t],p=l&&c&&u&&u.major;return this._adapter.format(e,n||(p?c:d))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=ji(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(n),a=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:r*o+i*a,h:r*a+i*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,fp(this,[e],this._majorUnit),n),a=this._getLabelSize(o),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(hp(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mi(e.sort(pp))}}function yp(e,t,r){let n,o,a,i,s=0,l=e.length-1;r?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=_i(e,"pos",t)),({pos:n,time:a}=e[s]),({pos:o,time:i}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=_i(e,"time",t)),({time:n,pos:a}=e[s]),({time:o,pos:i}=e[l]));const d=o-n;return d?a+(i-a)*(t-n)/d:a}Fe(mp,"id","time"),Fe(mp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class bp extends mp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=yp(t,this.min),this._tableRange=yp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],o=[];let a,i,s,l,d;for(a=0,i=e.length;a<i;++a)l=e[a],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,i=n.length;a<i;++a)d=n[a+1],s=n[a-1],l=n[a],Math.round((d+s)/2)!==l&&o.push({time:l,pos:a/(i-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(yp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return yp(this._table,r*this._tableRange+this._minPos,!0)}}Fe(bp,"id","timeseries"),Fe(bp,"defaults",mp.defaults);const vp=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],jp="label";function kp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function wp(e,t){e.labels=t}function Sp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jp;const n=[];e.datasets=t.map((t=>{const o=e.datasets.find((e=>e[r]===t[r]));return o&&t.data&&!n.includes(o)?(n.push(o),Object.assign(o,t),o):Ue({},t)}))}function Cp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp;const r={labels:[],datasets:[]};return wp(r,e.labels),Sp(r,e.datasets,t),r}function Pp(e,t){const{height:r=150,width:n=300,redraw:o=!1,datasetIdKey:i,type:s,data:l,options:d,plugins:c=[],fallbackContent:u,updateMode:p}=e,h=Lo(e,vp),g=(0,a.useRef)(null),x=(0,a.useRef)(null),f=()=>{g.current&&(x.current=new Ic(g.current,{type:s,data:Cp(l,i),options:d&&Ue({},d),plugins:c}),kp(t,x.current))},m=()=>{kp(t,null),x.current&&(x.current.destroy(),x.current=null)};return(0,a.useEffect)((()=>{!o&&x.current&&d&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(x.current,d)}),[o,d]),(0,a.useEffect)((()=>{!o&&x.current&&wp(x.current.config.data,l.labels)}),[o,l.labels]),(0,a.useEffect)((()=>{!o&&x.current&&l.datasets&&Sp(x.current.config.data,l.datasets,i)}),[o,l.datasets]),(0,a.useEffect)((()=>{x.current&&(o?(m(),setTimeout(f)):x.current.update(p))}),[o,d,l.labels,l.datasets,p]),(0,a.useEffect)((()=>{x.current&&(m(),setTimeout(f))}),[s]),(0,a.useEffect)((()=>(f(),()=>m())),[]),a.createElement("canvas",Ue({ref:g,role:"img",height:r,width:n},h),u)}const Bp=(0,a.forwardRef)(Pp);function Np(e,t){return Ic.register(t),(0,a.forwardRef)(((t,r)=>a.createElement(Bp,Ue(Ue({},t),{},{ref:r,type:e}))))}const Tp=Np("line",rd),Rp=Np("bar",Zl),Ap=Np("pie",od),_p=()=>{const[e,t]=(0,a.useState)({width:window.innerWidth,height:window.innerHeight}),[r,n]=(0,a.useState)(window.innerWidth<=768),[o,i]=(0,a.useState)(window.innerWidth<=1024&&window.innerWidth>768),[s,l]=(0,a.useState)(window.innerWidth>1024);return(0,a.useEffect)((()=>{const e=()=>{const e=window.innerWidth,r=window.innerHeight;t({width:e,height:r}),n(e<=768),i(e<=1024&&e>768),l(e>1024)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),{windowSize:e,isMobile:r,isTablet:o,isDesktop:s,width:e.width,height:e.height}};Ic.register(Vu,$u,nu,Pu,Wu,Su,Oc,Kc,$c);const Ip=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p(),o={labels:t.map((e=>e.month)),datasets:[{label:"Sales (\u20b9)",data:t.map((e=>e.sales)),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?200*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Monthly Sales Performance",font:{size:n?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12},callback:function(e){return"\u20b9"+e/1e3+"K"}}},x:{ticks:{font:{size:n?10:12}}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},zp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p(),o={labels:t.map((e=>e.month)),datasets:[{label:"Quantity (Tons)",data:t.map((e=>e.quantity)),borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.2)",tension:.1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2500,easing:"easeOutCubic",delay:e=>"data"===e.type&&"default"===e.mode?150*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Monthly Quantity Sold",font:{size:n?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12}}},x:{ticks:{font:{size:n?10:12}}}}};return(0,Ie.jsx)(Tp,{data:o,options:a})},Ep=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p(),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=new Map;for(const i of e||[]){var n,o,a;const e=i.product||i.productName;if(!e)continue;const s=t&&"number"===typeof i.percentage?i.percentage:null!==(n=null!==(o=null!==(a=i.totalTransactionValue)&&void 0!==a?a:i.totalQuantity)&&void 0!==o?o:i.totalBrokerage)&&void 0!==n?n:0;r.set(e,(r.get(e)||0)+(Number(s)||0))}return Array.from(r.entries()).map((e=>{let[t,r]=e;return{name:t,value:r}}))},a=o(t,!0),i=a.reduce(((e,t)=>e+t.value),0)>0,s=i?a:o(t,!1),l=s.reduce(((e,t)=>e+t.value),0),d=s.map((e=>e.name)),c=i?s.map((e=>e.value)):l>0?s.map((e=>e.value/l*100)):s.map((e=>0));if(!d.length||c.every((e=>!e)))return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No product distribution data"});const u={labels:d,datasets:[{data:c,backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4"],borderColor:["#2563EB","#059669","#D97706","#DC2626","#7C3AED","#EA580C","#0891B2"],borderWidth:2}]},p={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:1500,easing:"easeOutQuart",animateRotate:!0,animateScale:!1,delay:e=>"data"===e.type&&"default"===e.mode?150*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"right",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Product Distribution",font:{size:n?12:14}}}};return(0,Ie.jsx)(Ap,{data:u,options:p})},Mp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p(),o={labels:t.map((e=>e.city)),datasets:[{label:"Buyers",data:t.map((e=>e.buyers)),backgroundColor:"rgba(59, 130, 246, 0.8)"},{label:"Sellers",data:t.map((e=>e.sellers)),backgroundColor:"rgba(34, 197, 94, 0.8)"}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2200,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?400*e.datasetIndex+100*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"City-wise Buyers vs Sellers",font:{size:n?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12}}},x:{ticks:{font:{size:n?10:12}}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Dp=e=>{let{buyers:t,sellers:r,animated:n=!0}=e;const{isMobile:o}=_p(),a={labels:t.slice(0,5).map((e=>e.name)),datasets:[{label:"Purchase Amount (\u20b9)",data:t.slice(0,5).map((e=>e.totalPurchases)),backgroundColor:"rgba(59, 130, 246, 0.8)"}]},i={responsive:!0,maintainAspectRatio:!1,animation:!!n&&{duration:2300,easing:"easeOutElastic",delay:e=>"data"===e.type&&"default"===e.mode?250*e.dataIndex:0},plugins:{legend:{position:o?"bottom":"top",labels:{padding:o?10:20,font:{size:o?10:12}}},title:{display:!0,text:"Top 5 Buyers by Purchase Amount",font:{size:o?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:o?10:12},callback:function(e){return"\u20b9"+e/1e3+"K"}}},x:{ticks:{font:{size:o?10:12}}}}};return(0,Ie.jsx)(Rp,{data:a,options:i})},Lp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No merchant data available"});const o={labels:t.map((e=>e.type)),datasets:[{label:"Total Merchants",data:t.map((e=>e.totalMerchants)),backgroundColor:"rgba(139, 92, 246, 0.8)",borderColor:"rgba(139, 92, 246, 1)",borderWidth:1},{label:"Total Transactions",data:t.map((e=>e.totalTransactions)),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?300*e.datasetIndex+150*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Merchant Type Analytics",font:{size:n?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12}}},x:{ticks:{font:{size:n?10:12}}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Op=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No brokerage data available"});const o={labels:t.map((e=>e.month)),datasets:[{label:"Brokerage Earned (\u20b9)",data:t.map((e=>e.brokerage||0)),backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?200*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Monthly Brokerage Earnings",font:{size:n?12:14}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12},callback:function(e){return"\u20b9"+e/1e3+"K"}}},x:{ticks:{font:{size:n?10:12}}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Fp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No buyer data available"});const o={labels:t.map((e=>e.buyerName||e.firmName)),datasets:[{label:"Quantity Bought (Tons)",data:t.map((e=>e.totalQuantityBought)),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?200*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Top 5 Buyers by Quantity",font:{size:n?12:14}},tooltip:{callbacks:{afterLabel:function(e){const r=t[e.dataIndex];return["Amount Spent: \u20b9".concat((r.totalAmountSpent/1e3).toFixed(0),"K"),"Brokerage Paid: \u20b9".concat((r.totalBrokeragePaid/1e3).toFixed(0),"K"),"Transactions: ".concat(r.totalTransactions),"City: ".concat(r.city)]}}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12}}},x:{ticks:{font:{size:n?10:12},maxRotation:n?45:0}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Wp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No seller data available"});const o={labels:t.map((e=>e.sellerName||e.firmName)),datasets:[{label:"Quantity Sold (Tons)",data:t.map((e=>e.totalQuantitySold)),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?200*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Top Sellers by Quantity",font:{size:n?12:14}},tooltip:{callbacks:{afterLabel:function(e){const r=t[e.dataIndex];return["Amount Received: \u20b9".concat((r.totalAmountReceived/1e3).toFixed(0),"K"),"Brokerage Generated: \u20b9".concat((r.totalBrokerageGenerated/1e3).toFixed(0),"K"),"Transactions: ".concat(r.totalTransactions),"City: ".concat(r.city)]}}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12}}},x:{ticks:{font:{size:n?10:12},maxRotation:n?45:0}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Up=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No merchant data available"});const o={labels:t.map((e=>e.merchantName||e.firmName)),datasets:[{label:"Brokerage Paid (\u20b9)",data:t.map((e=>e.totalBrokeragePaid)),backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:1}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?200*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"top",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Top 5 Merchants by Brokerage",font:{size:n?12:14}},tooltip:{callbacks:{afterLabel:function(e){var r;const n=t[e.dataIndex];return["Quantity Traded: ".concat(n.totalQuantityTraded," tons"),"Amount Traded: \u20b9".concat((n.totalAmountTraded/1e3).toFixed(0),"K"),"Transactions: ".concat(n.totalTransactions),"Avg Brokerage/Transaction: \u20b9".concat((null===(r=n.averageBrokeragePerTransaction)||void 0===r?void 0:r.toFixed(0))||0),"City: ".concat(n.city)]}}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?10:12},callback:function(e){return"\u20b9"+(e/1e3).toFixed(0)+"K"}}},x:{ticks:{font:{size:n?10:12},maxRotation:n?45:0}}}};return(0,Ie.jsx)(Rp,{data:o,options:a})},Hp=e=>{let{data:t,animated:r=!0}=e;const{isMobile:n}=_p();if(!t||0===t.length)return(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No brokerage data available"});const o={labels:t.map((e=>e.merchantName||e.firmName)),datasets:[{data:t.map((e=>e.totalBrokeragePaid)),backgroundColor:["#F59E0B","#3B82F6","#10B981","#EF4444","#8B5CF6","#F97316","#06B6D4"],borderColor:["#D97706","#2563EB","#059669","#DC2626","#7C3AED","#EA580C","#0891B2"],borderWidth:2}]},a={responsive:!0,maintainAspectRatio:!1,animation:!!r&&{duration:1500,easing:"easeOutQuart",animateRotate:!0,animateScale:!1,delay:e=>"data"===e.type&&"default"===e.mode?150*e.dataIndex:0},plugins:{legend:{position:n?"bottom":"right",labels:{padding:n?10:20,font:{size:n?10:12}}},title:{display:!0,text:"Brokerage Distribution",font:{size:n?12:14}},tooltip:{callbacks:{label:function(e){const r=t[e.dataIndex],n=t.reduce(((e,t)=>e+t.totalBrokeragePaid),0),o=(r.totalBrokeragePaid/n*100).toFixed(1);return"".concat(r.merchantName||r.firmName,": \u20b9").concat((r.totalBrokeragePaid/1e3).toFixed(0),"K (").concat(o,"%)")},afterLabel:function(e){const r=t[e.dataIndex];return["Quantity: ".concat(r.totalQuantityTraded," tons"),"Transactions: ".concat(r.totalTransactions),"City: ".concat(r.city)]}}}}};return(0,Ie.jsx)(Ap,{data:o,options:a})},Vp=e=>{let{isOpen:t,onClose:r,address:n=null,onSuccess:o}=e;const{theme:i}=Ee(),[s,l]=(0,a.useState)({city:"",area:"",pincode:""}),[d,c]=(0,a.useState)({}),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)("");(0,a.useEffect)((()=>{l(n?{city:n.city||"",area:n.area||"",pincode:n.pincode||""}:{city:"",area:"",pincode:""}),c({}),g("")}),[n,t]);const x=e=>{const{name:t,value:r}=e.target;l((e=>Ue(Ue({},e),{},{[t]:r}))),d[t]&&c((e=>Ue(Ue({},e),{},{[t]:""}))),h&&g("")};return t?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:i.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:i.shadowModal,border:"1px solid ".concat(i.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(i.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83c\udfe0"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:i.textPrimary,fontSize:"24px",fontWeight:"700"},children:n?"Edit Address":"Add New Address"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:i.textSecondary,fontSize:"14px"},children:n?"Update address information":"Create a new address entry"})]})]}),(0,Ie.jsx)("button",{onClick:r,style:{background:"none",border:"1px solid ".concat(i.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:i.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=i.errorBg,e.currentTarget.style.color=i.error,e.currentTarget.style.borderColor=i.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=i.textSecondary,e.currentTarget.style.borderColor=i.border},children:"\xd7"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.city.trim()||(e.city="City is required"),s.area.trim()||(e.area="Area is required"),s.pincode.trim()?/^\d{6}$/.test(s.pincode.trim())||(e.pincode="Pincode must be 6 digits"):e.pincode="Pincode is required",c(e),0===Object.keys(e).length})()){p(!0),g("");try{const e={city:s.city.trim(),area:s.area.trim(),pincode:s.pincode.trim()};n?(e.addressId=n.addressId,await Gn(e)):await $n(e),o&&o(),r()}catch(t){console.error("Address operation error:",t),409===t.status?g("Address already exists with this city, area, and pincode combination."):400===t.status?g("City and area are mandatory fields."):g(t.message||"Failed to ".concat(n?"update":"create"," address. Please try again."))}finally{p(!1)}}},children:[h&&(0,Ie.jsx)("div",{style:{backgroundColor:i.errorBg,border:"1px solid ".concat(i.errorBorder),color:i.error,padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:h}),(0,Ie.jsx)(Fo,{label:"City",name:"city",value:s.city,onChange:x,error:d.city,placeholder:"Enter city name",required:!0}),(0,Ie.jsx)(Fo,{label:"Area",name:"area",value:s.area,onChange:x,error:d.area,placeholder:"Enter area/locality name",required:!0}),(0,Ie.jsx)(Fo,{label:"Pincode",name:"pincode",value:s.pincode,onChange:x,error:d.pincode,placeholder:"Enter 6-digit pincode",required:!0}),(0,Ie.jsxs)("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:r,disabled:u,style:{padding:"10px 20px",border:"1px solid ".concat(i.border),borderRadius:"8px",backgroundColor:i.cardBackground,color:i.textPrimary,fontSize:"14px",fontWeight:"500",cursor:u?"not-allowed":"pointer",opacity:u?.6:1,transition:"all 0.2s ease"},children:"Cancel"}),(0,Ie.jsx)(Ho,{type:"submit",loading:u,style:{padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:i.buttonPrimary,color:"white",fontSize:"14px",fontWeight:"500",cursor:u?"not-allowed":"pointer"},children:n?"Update Address":"Create Address"})]})]})]})}):null},Yp=e=>{let{isOpen:t,onClose:r,onSuccess:n}=e;const{theme:o}=Ee(),[i,s]=(0,a.useState)({productName:"",quality:"",quantity:"",price:"",productBrokerage:""}),[l,d]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),g=e=>{const{name:t,value:r}=e.target;s((e=>Ue(Ue({},e),{},{[t]:r}))),l[t]&&d((e=>Ue(Ue({},e),{},{[t]:""}))),p&&h("")},x=()=>{s({productName:"",quality:"",quantity:"",price:"",productBrokerage:""}),d({}),h(""),r()};return t?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:o.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%",boxShadow:o.shadowModal,border:"1px solid ".concat(o.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(o.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\u2795"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:o.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Add New Product"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:o.textSecondary,fontSize:"14px"},children:"Create a new product entry"})]})]}),(0,Ie.jsx)("button",{onClick:x,style:{background:"none",border:"1px solid ".concat(o.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:o.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.errorBg,e.currentTarget.style.color=o.error,e.currentTarget.style.borderColor=o.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=o.textSecondary,e.currentTarget.style.borderColor=o.border},children:"\xd7"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.productName.trim()||(e.productName="Product name is required"),i.quality.trim()||(e.quality="Quality is required"),i.quantity?(isNaN(i.quantity)||parseFloat(i.quantity)<=0)&&(e.quantity="Quantity must be positive"):e.quantity="Quantity is required",i.price?(isNaN(i.price)||parseFloat(i.price)<=0)&&(e.price="Price must be positive"):e.price="Price is required",i.productBrokerage?(isNaN(i.productBrokerage)||parseFloat(i.productBrokerage)<0)&&(e.productBrokerage="Product brokerage must be a positive number"):e.productBrokerage="Product brokerage is required",d(e),0===Object.keys(e).length})()){u(!0),h("");try{const e={productName:i.productName.trim(),quality:i.quality.trim(),quantity:parseFloat(i.quantity),price:parseFloat(i.price),productBrokerage:parseFloat(i.productBrokerage)};"success"===(await Nn(e)).status&&(n&&n(),x())}catch(t){console.error("Product creation error:",t),t.errors&&Array.isArray(t.errors)?h(t.errors.join(", ")):t.message?h(t.message):h("Failed to create product. Please try again.")}finally{u(!1)}}},children:[p&&(0,Ie.jsx)("div",{style:{backgroundColor:o.errorBg,border:"1px solid ".concat(o.errorBorder),color:o.error,padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:p}),(0,Ie.jsx)(Fo,{label:"Product Name",name:"productName",value:i.productName,onChange:g,error:l.productName,placeholder:"e.g., Rice",required:!0}),(0,Ie.jsx)(Fo,{label:"Quality",name:"quality",value:i.quality,onChange:g,error:l.quality,placeholder:"e.g., Premium",required:!0}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Ie.jsx)(Fo,{label:"Quantity (kg)",type:"number",name:"quantity",value:i.quantity,onChange:g,error:l.quantity,placeholder:"1000",required:!0}),(0,Ie.jsx)(Fo,{label:"Price (\u20b9)",type:"number",step:"0.01",name:"price",value:i.price,onChange:g,error:l.price,placeholder:"5000",required:!0})]}),(0,Ie.jsx)(Fo,{label:"Product Brokerage (\u20b9)",type:"number",step:"0.01",name:"productBrokerage",value:i.productBrokerage,onChange:g,error:l.productBrokerage,placeholder:"100",required:!0}),(0,Ie.jsxs)("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:x,disabled:c,style:{padding:"10px 20px",border:"1px solid ".concat(o.border),borderRadius:"8px",backgroundColor:o.cardBackground,color:o.textPrimary,fontSize:"14px",fontWeight:"500",cursor:c?"not-allowed":"pointer",opacity:c?.6:1},children:"Cancel"}),(0,Ie.jsx)(Ho,{type:"submit",loading:c,style:{padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:o.success,color:"white",fontSize:"14px",fontWeight:"500",cursor:c?"not-allowed":"pointer"},children:"Create Product"})]})]})]})}):null},qp=e=>{let{isOpen:t,onClose:r,product:n=null,onSuccess:o}=e;const{theme:i}=Ee(),[s,l]=(0,a.useState)({productName:"",productBrokerage:"",quantity:"",price:"",quality:""}),[d,c]=(0,a.useState)({}),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)("");(0,a.useEffect)((()=>{n&&t&&l({productName:n.productName||"",productBrokerage:n.productBrokerage||"",quantity:n.quantity||"",price:n.price||"",quality:n.quality||""}),c({}),g("")}),[n,t]);const x=e=>{const{name:t,value:r}=e.target;l((e=>Ue(Ue({},e),{},{[t]:r}))),d[t]&&c((e=>Ue(Ue({},e),{},{[t]:""}))),h&&g("")};return t&&n?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:i.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%",boxShadow:i.shadowModal,border:"1px solid ".concat(i.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(i.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83c\udf3e"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:i.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Edit Product"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:i.textSecondary,fontSize:"14px"},children:"Update product information"})]})]}),(0,Ie.jsx)("button",{onClick:r,style:{background:"none",border:"1px solid ".concat(i.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:i.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=i.errorBg,e.currentTarget.style.color=i.error,e.currentTarget.style.borderColor=i.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=i.textSecondary,e.currentTarget.style.borderColor=i.border},children:"\xd7"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.productName.trim()||(e.productName="Product name is required"),s.productBrokerage?(isNaN(s.productBrokerage)||parseFloat(s.productBrokerage)<0)&&(e.productBrokerage="Product brokerage must be a valid positive number"):e.productBrokerage="Product brokerage is required",s.quantity?(isNaN(s.quantity)||parseFloat(s.quantity)<=0)&&(e.quantity="Quantity must be a valid positive number"):e.quantity="Quantity is required",s.price?(isNaN(s.price)||parseFloat(s.price)<=0)&&(e.price="Price must be a valid positive number"):e.price="Price is required",s.quality.trim()||(e.quality="Quality is required"),c(e),0===Object.keys(e).length})()){p(!0),g("");try{const e={productId:n.productId,productName:s.productName.trim(),productBrokerage:parseFloat(s.productBrokerage),quantity:parseFloat(s.quantity),price:parseFloat(s.price),quality:s.quality.trim()};await An(e),o&&o(),r()}catch(t){console.error("Product update error:",t),404===t.status?g("Product not found. It may have been deleted."):500===t.status?g("Server error occurred. Please try again later."):g(t.message||"Failed to update product. Please try again.")}finally{p(!1)}}},children:[h&&(0,Ie.jsx)("div",{style:{backgroundColor:i.errorBg,border:"1px solid ".concat(i.errorBorder),color:i.error,padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:h}),(0,Ie.jsx)(Fo,{label:"Product Name",name:"productName",value:s.productName,onChange:x,error:d.productName,placeholder:"Enter product name",required:!0}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Ie.jsx)(Fo,{label:"Product Brokerage (%)",type:"number",name:"productBrokerage",value:s.productBrokerage,onChange:x,error:d.productBrokerage,placeholder:"10",required:!0}),(0,Ie.jsx)(Fo,{label:"Quantity (kg)",type:"number",name:"quantity",value:s.quantity,onChange:x,error:d.quantity,placeholder:"100",required:!0})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Ie.jsx)(Fo,{label:"Price (\u20b9)",type:"number",name:"price",value:s.price,onChange:x,error:d.price,placeholder:"1500",required:!0}),(0,Ie.jsx)(Fo,{label:"Quality",name:"quality",value:s.quality,onChange:x,error:d.quality,placeholder:"first quality",required:!0})]}),(0,Ie.jsxs)("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:r,disabled:u,style:{padding:"10px 20px",border:"1px solid ".concat(i.border),borderRadius:"8px",backgroundColor:i.cardBackground,color:i.textPrimary,fontSize:"14px",fontWeight:"500",cursor:u?"not-allowed":"pointer",opacity:u?.6:1,transition:"all 0.2s ease"},children:"Cancel"}),(0,Ie.jsx)(Ho,{type:"submit",loading:u,style:{padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:i.warning,color:"white",fontSize:"14px",fontWeight:"500",cursor:u?"not-allowed":"pointer"},children:"Update Product"})]})]})]})}):null},Qp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,r]=(0,a.useState)(!1),[n,o]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const t=i.current;if(!t)return;const a=new IntersectionObserver((e=>{let[t]=e;const a=t.isIntersecting;r(a),a&&!n&&o(!0)}),Ue({threshold:.1,rootMargin:"0px 0px -50px 0px"},e));return a.observe(t),()=>{t&&a.unobserve(t)}}),[n,e]),{targetRef:i,isIntersecting:t,hasIntersected:n}},$p=e=>{let{children:t,title:r,height:n="400px",loadingDuration:o=2e3,style:a={}}=e;const{theme:i}=Ee(),{targetRef:s,hasIntersected:l}=Qp({threshold:.2,rootMargin:"0px 0px -100px 0px"}),d=()=>(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",position:"relative"},children:[(0,Ie.jsx)("div",{style:{width:"100%",height:"80%",position:"relative",display:"flex",alignItems:"flex-end",justifyContent:"space-around",padding:"20px"},children:[...Array(6)].map(((e,t)=>(0,Ie.jsx)("div",{className:"chart-loading-bar",style:{width:"40px",backgroundColor:i.buttonPrimary,borderRadius:"4px 4px 0 0",opacity:.7,height:"0%",transition:"all 0.3s ease"}},t)))}),(0,Ie.jsxs)("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",gap:"8px",color:i.textSecondary,fontSize:"14px"},children:[(0,Ie.jsx)("div",{className:"loading-spinner",style:{width:"20px",height:"20px",border:"2px solid ".concat(i.borderLight),borderTop:"2px solid ".concat(i.buttonPrimary),borderRadius:"50%"}}),"Loading chart data..."]}),(0,Ie.jsx)("div",{className:"floating-dot",style:{position:"absolute",top:"20%",left:"20%",width:"8px",height:"8px",backgroundColor:i.success,borderRadius:"50%"}}),(0,Ie.jsx)("div",{className:"floating-dot",style:{position:"absolute",top:"40%",right:"30%",width:"6px",height:"6px",backgroundColor:i.warning,borderRadius:"50%",animationDelay:"0.5s"}}),(0,Ie.jsx)("div",{className:"floating-dot",style:{position:"absolute",bottom:"30%",left:"50%",width:"10px",height:"10px",backgroundColor:i.info,borderRadius:"50%",animationDelay:"1s"}})]});return(0,Ie.jsxs)("div",{ref:s,style:Ue({backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb",height:n,position:"relative",overflow:"hidden"},a),children:[r&&(0,Ie.jsx)("h3",{className:l?"chart-title-enter":"",style:{margin:"0 0 16px 0",color:"#1e293b",fontSize:"16px",fontWeight:"600",opacity:l?1:0,transform:l?"translateY(0)":"translateY(-10px)",transition:l?"none":"all 0.6s ease 0.2s"},children:r}),(0,Ie.jsx)("div",{style:{height:r?"calc(100% - 40px)":"100%",position:"relative"},children:l?(0,Ie.jsx)("div",{className:l?"chart-content-enter":"",style:{opacity:l?1:0,transform:l?"translateY(0) scale(1)":"translateY(20px) scale(0.95)",transition:l?"none":"all 0.8s ease 0.5s",height:"100%"},children:t}):(0,Ie.jsx)(d,{})}),!l&&(0,Ie.jsx)("div",{className:"shimmer-overlay",style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",pointerEvents:"none"}})]})},Gp=e=>{let{selectedFinancialYear:t,onFinancialYearChange:r,compareFinancialYear:n,onCompareFinancialYearChange:o,useRealData:i,onDataSourceToggle:s,showComparison:l,onToggleComparison:d,loading:c=!1,onRefreshCache:u,onRefreshAllCache:p,refreshingCache:h=!1}=e;const{theme:g}=Ee(),{isMobile:x}=_p(),[f,m]=(0,a.useState)([]),[y,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{b(!0);try{const e=await Hn();m(Array.isArray(e)?e:[])}catch(e){console.error("Error loading financial years:",e),m([])}finally{b(!1)}},j=e=>e?"".concat(e.financialYearName||"FY"," (").concat(k(e.start)," - ").concat(k(e.end),")"):"",k=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short"})}catch(t){return e}};return(0,Ie.jsxs)("div",{style:{backgroundColor:g.cardBackground,padding:x?"16px":"20px",borderRadius:"12px",boxShadow:g.shadow,border:"1px solid ".concat(g.border),marginBottom:"20px",transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:x?"column":"row",gap:"16px",alignItems:x?"stretch":"center",justifyContent:"space-between"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:x?"column":"row",gap:"16px",alignItems:x?"stretch":"center",flex:1},children:[(0,Ie.jsxs)("div",{style:{minWidth:x?"auto":"250px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"6px",color:g.textSecondary,fontSize:"12px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Financial Year"}),(0,Ie.jsxs)("select",{value:(null===t||void 0===t?void 0:t.yearId)||"",onChange:e=>{const t=f.find((t=>t.yearId===parseInt(e.target.value)));r(t)},disabled:y||c,style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(g.border),borderRadius:"8px",backgroundColor:g.inputBackground,color:g.textPrimary,fontSize:"14px",outline:"none",cursor:y||c?"not-allowed":"pointer",opacity:y||c?.6:1,transition:"all 0.3s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor=g.border,children:[(0,Ie.jsx)("option",{value:"",children:y?"Loading...":"Select Financial Year"}),f.map((e=>(0,Ie.jsx)("option",{value:e.yearId,children:j(e)},e.yearId)))]})]}),(0,Ie.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:g.textPrimary,fontSize:"14px",fontWeight:"500"},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:l,onChange:e=>d(e.target.checked),style:{width:"16px",height:"16px",accentColor:"#3b82f6"}}),"Compare Years"]})}),l&&(0,Ie.jsxs)("div",{style:{minWidth:x?"auto":"250px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"6px",color:g.textSecondary,fontSize:"12px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Compare With"}),(0,Ie.jsxs)("select",{value:(null===n||void 0===n?void 0:n.yearId)||"",onChange:e=>{const t=f.find((t=>t.yearId===parseInt(e.target.value)));o(t)},disabled:y||c,style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(g.border),borderRadius:"8px",backgroundColor:g.inputBackground,color:g.textPrimary,fontSize:"14px",outline:"none",cursor:y||c?"not-allowed":"pointer",opacity:y||c?.6:1,transition:"all 0.3s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor=g.border,children:[(0,Ie.jsx)("option",{value:"",children:"Select Year to Compare"}),f.filter((e=>e.yearId!==(null===t||void 0===t?void 0:t.yearId))).map((e=>(0,Ie.jsx)("option",{value:e.yearId,children:j(e)},e.yearId)))]})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:x?"column":"row",gap:"12px",alignItems:x?"stretch":"center"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",backgroundColor:g.background,borderRadius:"8px",border:"1px solid ".concat(g.border)},children:[(0,Ie.jsx)("span",{style:{color:g.textSecondary,fontSize:"12px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px"},children:"DUMMY DATA"}),(0,Ie.jsxs)("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"24px",cursor:"pointer"},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:i,onChange:e=>s(e.target.checked),style:{display:"none"}}),(0,Ie.jsx)("span",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:i?"#3b82f6":"#cbd5e1",borderRadius:"12px",transition:"all 0.3s ease",cursor:"pointer"},children:(0,Ie.jsx)("span",{style:{position:"absolute",content:"",height:"18px",width:"18px",left:i?"29px":"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]}),(0,Ie.jsx)("span",{style:{color:g.textPrimary,fontSize:"14px",fontWeight:"500",minWidth:"60px"},children:i?"Real Data":"Demo Data"})]}),i&&(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ie.jsxs)("button",{onClick:u,disabled:!t||h||c,style:{padding:"8px 12px",border:"1px solid ".concat(g.border),borderRadius:"6px",backgroundColor:g.cardBackground,color:g.textPrimary,fontSize:"12px",cursor:!t||h||c?"not-allowed":"pointer",opacity:!t||h||c?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:e=>{h||c||!t||(e.currentTarget.style.backgroundColor=g.hoverBg)},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=g.cardBackground},children:["\ud83d\udd04","Refresh Cache"]}),(0,Ie.jsxs)("button",{onClick:p,disabled:h||c,style:{padding:"8px 12px",border:"1px solid ".concat(g.warning),borderRadius:"6px",backgroundColor:g.warningBg,color:g.warning,fontSize:"12px",cursor:h||c?"not-allowed":"pointer",opacity:h||c?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:e=>{h||c||(e.currentTarget.style.backgroundColor=g.warning,e.currentTarget.style.color="white")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=g.warningBg,e.currentTarget.style.color=g.warning},children:[h?"\ud83d\udd04":"\ud83d\uddd1\ufe0f","Refresh All"]})]})]})]}),c&&(0,Ie.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",backgroundColor:g.background,borderRadius:"6px",border:"1px solid ".concat(g.border),display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,Ie.jsx)("span",{style:{color:g.textSecondary,fontSize:"14px"},children:"Loading analytics data..."})]}),(0,Ie.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]})},Kp={getMarketProducts:async()=>{try{return(await go.get("/market/products")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},addMarketProduct:async e=>{try{return(await go.post("/market/products",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getSellerRequests:async()=>{try{return(await go.get("/market/seller-requests")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},submitSellerRequest:async e=>{try{return(await go.post("/market/seller-requests",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getBuyerRequests:async()=>{try{return(await go.get("/market/buyer-requests")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},submitBuyerRequest:async e=>{try{return(await go.post("/market/buyer-requests",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},acceptSellerRequest:async e=>{try{return(await go.put("/market/seller-requests/".concat(e,"/accept"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},acceptBuyerRequest:async e=>{try{return(await go.put("/market/buyer-requests/".concat(e,"/accept"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}}},Xp=[{productId:"1",productName:"Premium Rice",quality:"Grade A",quantity:1e3,price:50,description:"High-quality premium rice from local farmers",availableUntil:"2024-01-15T18:00:00Z",seller:{firmName:"ABC Traders",location:"Mumbai"}},{productId:"2",productName:"Organic Wheat",quality:"Premium",quantity:500,price:45,description:"Organic wheat from certified farmers",availableUntil:"2024-01-15T18:00:00Z",seller:{firmName:"XYZ Organics",location:"Pune"}},{productId:"3",productName:"Yellow Corn",quality:"Grade B",quantity:750,price:35,description:"Fresh yellow corn for animal feed",availableUntil:"2024-01-15T18:00:00Z",seller:{firmName:"PQR Agro",location:"Delhi"}}],Jp=e=>{let{isBroker:t}=e;const{theme:r}=Ee(),{isMobile:n}=_p(),[o,i]=(0,a.useState)(Xp),[s,l]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[m,y]=(0,a.useState)(""),[b,v]=(0,a.useState)("all"),[j,k]=(0,a.useState)("all"),[w,S]=(0,a.useState)({productName:"",quality:"",quantity:"",price:"",description:"",availableUntil:""});(0,a.useEffect)((()=>{(async()=>{g(!0),f(null);try{0;const[e,r,n]=await Promise.all([Kp.getMarketProducts(),t?Kp.getSellerRequests():Promise.resolve([]),t?Kp.getBuyerRequests():Promise.resolve([])]);i(e),l(r),c(n)}catch(e){f(e.message||"Failed to load market data"),console.error("Error loading market data:",e)}finally{g(!1)}})()}),[t]);const C=o.filter((e=>{const t=e.productName.toLowerCase().includes(m.toLowerCase())||e.description.toLowerCase().includes(m.toLowerCase())||e.seller.firmName.toLowerCase().includes(m.toLowerCase()),r="all"===b||e.quality===b,n="all"===j||e.seller.location===j;return t&&r&&n})),P=["all",...new Set(o.map((e=>e.quality)))],B=["all",...new Set(o.map((e=>e.seller.location)))],N=()=>(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",padding:"20px"},children:[1,2,3,4].map((e=>(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"8px",padding:"20px",height:"300px",animation:"pulse 1.5s infinite",opacity:.7},children:[(0,Ie.jsx)("div",{style:{width:"60%",height:"24px",backgroundColor:r.border,marginBottom:"12px",borderRadius:"4px"}}),(0,Ie.jsx)("div",{style:{width:"40%",height:"16px",backgroundColor:r.border,marginBottom:"8px",borderRadius:"4px"}}),(0,Ie.jsx)("div",{style:{width:"80%",height:"16px",backgroundColor:r.border,marginBottom:"8px",borderRadius:"4px"}})]},e)))}),T=e=>{let{message:t}=e;return(0,Ie.jsxs)("div",{style:{padding:"20px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"8px",margin:"20px",textAlign:"center"},children:[(0,Ie.jsx)("h3",{children:"Error Loading Market Data"}),(0,Ie.jsx)("p",{children:t}),(0,Ie.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#c62828",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",marginTop:"12px"},children:"Retry"})]})},R=e=>{let{product:t}=e;return(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"8px",padding:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,margin:0},children:t.productName}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{backgroundColor:r.buttonPrimary,color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"14px"},children:t.quality}),(0,Ie.jsx)("span",{style:{color:r.textSecondary,fontSize:"14px"},children:t.seller.location})]}),(0,Ie.jsx)("p",{style:{color:r.textSecondary,margin:0,flex:1},children:t.description}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid ".concat(r.border),paddingTop:"12px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{color:r.textPrimary,fontWeight:"bold"},children:["\u20b9",t.price.toFixed(2),"/unit"]}),(0,Ie.jsxs)("div",{style:{color:r.textSecondary,fontSize:"14px"},children:[t.quantity," units available"]})]}),(0,Ie.jsx)("button",{onClick:()=>alert("Contact seller functionality to be implemented"),style:{backgroundColor:r.buttonPrimary,color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},children:"Contact Seller"})]})]})},[A,_]=(0,a.useState)("market");return(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px",padding:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"8px",padding:"12px",boxShadow:r.shadowCard,display:"flex",gap:"12px"},children:[(0,Ie.jsx)("button",{onClick:()=>_("market"),style:{padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"market"===A?r.buttonPrimary:"transparent",color:"market"===A?"white":r.textPrimary,cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:"500"},children:"Market"}),(0,Ie.jsx)("button",{onClick:()=>_("analytics"),style:{padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"analytics"===A?r.buttonPrimary:"transparent",color:"analytics"===A?"white":r.textPrimary,cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:"500"},children:"Analytics"})]}),"market"===A?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"8px",padding:"20px",boxShadow:r.shadowCard},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"2fr 1fr 1fr",gap:"16px",marginBottom:n?"16px":"0"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search products, sellers, or descriptions...",value:m,onChange:e=>y(e.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"4px",border:"1px solid ".concat(r.border),backgroundColor:r.backgroundSecondary,color:r.textPrimary}}),(0,Ie.jsxs)("select",{value:b,onChange:e=>v(e.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid ".concat(r.border),backgroundColor:r.backgroundSecondary,color:r.textPrimary},children:[(0,Ie.jsx)("option",{value:"all",children:"All Qualities"}),P.filter((e=>"all"!==e)).map((e=>(0,Ie.jsx)("option",{value:e,children:e},e)))]}),(0,Ie.jsxs)("select",{value:j,onChange:e=>k(e.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid ".concat(r.border),backgroundColor:r.backgroundSecondary,color:r.textPrimary},children:[(0,Ie.jsx)("option",{value:"all",children:"All Locations"}),B.filter((e=>"all"!==e)).map((e=>(0,Ie.jsx)("option",{value:e,children:e},e)))]})]})}),h?(0,Ie.jsx)(N,{}):x?(0,Ie.jsx)(T,{message:x}):(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:C.map((e=>(0,Ie.jsx)(R,{product:e},e.productId)))})]}):(0,Ie.jsx)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"8px",padding:"20px",boxShadow:r.shadowCard},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, 1fr)",gap:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:r.backgroundSecondary,borderRadius:"8px",padding:"20px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,marginBottom:"16px"},children:"Market Overview"}),(0,Ie.jsxs)("div",{style:{color:r.textSecondary},children:[(0,Ie.jsxs)("p",{children:["Total Products: ",o.length]}),(0,Ie.jsxs)("p",{children:["Active Sellers: ",new Set(o.map((e=>e.seller.firmName))).size]}),(0,Ie.jsxs)("p",{children:["Locations: ",new Set(o.map((e=>e.seller.location))).size]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.backgroundSecondary,borderRadius:"8px",padding:"20px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,marginBottom:"16px"},children:"Quality Distribution"}),(0,Ie.jsx)("div",{style:{color:r.textSecondary},children:P.filter((e=>"all"!==e)).map((e=>{const t=o.filter((t=>t.quality===e)).length;return(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,Ie.jsxs)("span",{children:[e,":"]}),(0,Ie.jsxs)("span",{children:[t," products"]})]},e)}))})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.backgroundSecondary,borderRadius:"8px",padding:"20px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,marginBottom:"16px"},children:"Location Distribution"}),(0,Ie.jsx)("div",{style:{color:r.textSecondary},children:B.filter((e=>"all"!==e)).map((e=>{const t=o.filter((t=>t.seller.location===e)).length;return(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,Ie.jsxs)("span",{children:[e,":"]}),(0,Ie.jsxs)("span",{children:[t," products"]})]},e)}))})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.backgroundSecondary,borderRadius:"8px",padding:"20px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,marginBottom:"16px"},children:"Price Analysis"}),(0,Ie.jsx)("div",{style:{color:r.textSecondary},children:o.length>0&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("p",{children:["Lowest Price: \u20b9",Math.min(...o.map((e=>e.price))).toFixed(2)]}),(0,Ie.jsxs)("p",{children:["Highest Price: \u20b9",Math.max(...o.map((e=>e.price))).toFixed(2)]}),(0,Ie.jsxs)("p",{children:["Average Price: \u20b9",(o.reduce(((e,t)=>e+t.price),0)/o.length).toFixed(2)]})]})})]})]})})]})},Zp=e=>{let{isOpen:t,onClose:r,onSuccess:n}=e;const{theme:o}=Ee(),[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[g,x]=(0,a.useState)(""),f=()=>{s(null),h(null),x(""),r()};return t?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:o.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%",boxShadow:o.shadowModal,border:"1px solid ".concat(o.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(o.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83d\udcca"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:o.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Bulk Upload Products"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:o.textSecondary,fontSize:"14px"},children:"Upload multiple products using Excel file"})]})]}),(0,Ie.jsx)("button",{onClick:f,style:{background:"none",border:"1px solid ".concat(o.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:o.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.errorBg,e.currentTarget.style.color=o.error,e.currentTarget.style.borderColor=o.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=o.textSecondary,e.currentTarget.style.borderColor=o.border},children:"\xd7"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:o.backgroundSecondary,borderRadius:"8px",padding:"16px",border:"1px solid ".concat(o.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:o.textPrimary,fontSize:"16px"},children:"Step 1: Download Template"}),(0,Ie.jsx)("p",{style:{margin:"0 0 12px 0",color:o.textSecondary,fontSize:"14px"},children:"Download the Excel template with sample data and instructions"}),(0,Ie.jsx)(Ho,{onClick:async()=>{u(!0),x("");try{const e=await zn(),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="product_template.xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}catch(g){console.error("Template download error:",g),x(g.message||"Failed to download template. Please try again.")}finally{u(!1)}},loading:c,style:{padding:"8px 16px",border:"1px solid ".concat(o.buttonPrimary),borderRadius:"6px",backgroundColor:"transparent",color:o.buttonPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Download Template"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:o.backgroundSecondary,borderRadius:"8px",padding:"16px",border:"1px solid ".concat(o.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:o.textPrimary,fontSize:"16px"},children:"Step 2: Upload File"}),(0,Ie.jsx)("p",{style:{margin:"0 0 12px 0",color:o.textSecondary,fontSize:"14px"},children:"Select your completed Excel file to upload products"}),(0,Ie.jsxs)("div",{style:{border:"2px dashed ".concat(o.border),borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:o.cardBackground,marginBottom:"12px"},children:[(0,Ie.jsx)("input",{type:"file",accept:".xlsx",onChange:e=>{const t=e.target.files[0];if(t){if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type)return x("Please select a valid Excel file (.xlsx)"),void s(null);s(t),x(""),h(null)}},style:{display:"none"},id:"file-upload"}),(0,Ie.jsx)("label",{htmlFor:"file-upload",style:{display:"inline-block",padding:"8px 16px",backgroundColor:o.buttonPrimary,color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Choose File"}),i&&(0,Ie.jsxs)("p",{style:{margin:"8px 0 0 0",color:o.textPrimary,fontSize:"14px"},children:["Selected: ",i.name]})]}),(0,Ie.jsx)(Ho,{onClick:async()=>{if(i){d(!0),x(""),h(null);try{const e=await In(i);h(e),e.successfulRecords>0&&n&&n()}catch(g){console.error("Bulk upload error:",g),x(g.message||"Failed to upload products. Please try again.")}finally{d(!1)}}else x("Please select a file to upload")},loading:l,disabled:!i,style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:o.success,color:"white",fontSize:"14px",fontWeight:"500",cursor:i?"pointer":"not-allowed",opacity:i?1:.6},children:"Upload Products"})]}),g&&(0,Ie.jsx)("div",{style:{backgroundColor:o.errorBg,border:"1px solid ".concat(o.errorBorder),color:o.error,padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:g}),p&&(0,Ie.jsxs)("div",{style:{backgroundColor:p.failedRecords>0?o.warningBg:o.successBg,border:"1px solid ".concat(p.failedRecords>0?o.warningBorder:o.successBorder),color:p.failedRecords>0?o.warning:o.success,padding:"16px",borderRadius:"8px",fontSize:"14px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"16px"},children:"Upload Results"}),(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:["Total Records: ",p.totalRecords]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:["Successful: ",p.successfulRecords]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:["Failed: ",p.failedRecords]}),p.errorMessages&&p.errorMessages.length>0&&(0,Ie.jsxs)("div",{style:{marginTop:"12px"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:"500"},children:"Error Details:"}),(0,Ie.jsx)("ul",{style:{margin:0,paddingLeft:"20px"},children:p.errorMessages.map(((e,t)=>(0,Ie.jsx)("li",{style:{margin:"4px 0"},children:e},t)))})]}),(0,Ie.jsx)("p",{style:{margin:"12px 0 0 0",fontStyle:"italic"},children:p.message})]})]}),(0,Ie.jsx)("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:(0,Ie.jsx)("button",{onClick:f,style:{padding:"10px 20px",border:"1px solid ".concat(o.border),borderRadius:"8px",backgroundColor:o.cardBackground,color:o.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Close"})})]})}):null},eh=e=>{var t,r,n,o;let{isOpen:i,onClose:s,merchantId:l}=e;const{theme:d}=Ee(),[c,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{i&&l&&y()}),[i,l]);const y=async()=>{h(!0),x("");try{const e=await fetch("/BrokerHub/user/".concat(l),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken")),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch merchant details");const t=await e.json();u(t)}catch(g){x(g.message||"Failed to load merchant details")}finally{h(!1)}};return i?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:d.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:d.shadowModal,border:"1px solid ".concat(d.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(d.border)},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:d.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Merchant Details"}),(0,Ie.jsx)("button",{onClick:s,style:{background:"none",border:"1px solid ".concat(d.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:d.textSecondary},children:"\xd7"})]}),p?(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:(0,Ie.jsx)(Wo,{})}):g?(0,Ie.jsx)("div",{style:{backgroundColor:d.errorBg,color:d.error,padding:"16px",borderRadius:"8px",textAlign:"center"},children:g}):c?(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Basic Information"}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Firm Name"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:c.firmName})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Owner Name"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:c.ownerName})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"User Type"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:c.userType})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"GST Number"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:c.gstNumber})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Contact Information"}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Email"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:c.email})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Phone"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:null===(t=c.phoneNumbers)||void 0===t?void 0:t.join(", ")})]})]})]}),c.address&&(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Address"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:[c.address.area,", ",c.address.city," - ",c.address.pincode]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Trading Summary"}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Bags Sold"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.success,fontSize:"18px",fontWeight:"600"},children:c.totalBagsSold})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Bags Bought"}),(0,Ie.jsx)("p",{style:{margin:0,color:d.buttonPrimary,fontSize:"18px",fontWeight:"600"},children:c.totalBagsBought})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Brokerage Rate"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:[c.brokerageRate,"%"]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Total Brokerage"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.warning,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(r=c.totalPayableBrokerage)||void 0===r?void 0:r.toFixed(2)]})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Financial Summary"}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Payable Amount"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.error,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(n=c.payableAmount)||void 0===n?void 0:n.toFixed(2)]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:d.textSecondary,fontSize:"12px"},children:"Receivable Amount"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.success,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(o=c.receivableAmount)||void 0===o?void 0:o.toFixed(2)]})]})]})]}),c.broker&&(0,Ie.jsxs)("div",{style:{backgroundColor:d.backgroundSecondary,borderRadius:"8px",padding:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:d.textPrimary},children:"Broker Information"}),(0,Ie.jsxs)("p",{style:{margin:0,color:d.textPrimary,fontWeight:"500"},children:[c.broker.brokerName," (ID: ",c.broker.brokerId,")"]})]}),(0,Ie.jsx)("button",{onClick:async()=>{m(!0);try{const e=await Yn(),t=await to(l,e),r=window.URL.createObjectURL(t),n=window.open(r,"_blank");n?n.onload=()=>{window.URL.revokeObjectURL(r)}:(window.URL.revokeObjectURL(r),alert("Please allow pop-ups to view the print bill"))}catch(g){console.error("Error generating city-wise print bill:",g),alert("Failed to generate city-wise print bill. Please try again.")}finally{m(!1)}},disabled:f,style:{padding:"12px 24px",backgroundColor:f?d.border:d.buttonPrimary,color:"#fff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:f?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",transition:"all 0.2s ease"},onMouseEnter:e=>!f&&(e.currentTarget.style.opacity="0.9"),onMouseLeave:e=>e.currentTarget.style.opacity="1",children:f?"\ud83d\udda8\ufe0f Generating...":"\ud83d\udda8\ufe0f Print City Bill"})]}):null]})}):null},th=e=>{let{error:t,title:r,onRetry:n}=e;const{theme:o}=Ee();return(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"300px",padding:"20px",textAlign:"center",backgroundColor:o.errorBg,borderRadius:"8px",border:"1px solid ".concat(o.errorBorder||o.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.7},children:"\u26a0\ufe0f"}),(0,Ie.jsxs)("h4",{style:{margin:"0 0 8px 0",color:o.error,fontSize:"16px",fontWeight:"600"},children:["Failed to Load ",r]}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",color:o.textSecondary,fontSize:"14px",maxWidth:"300px",lineHeight:"1.4"},children:t}),n&&(0,Ie.jsx)("button",{onClick:n,style:{padding:"8px 16px",border:"1px solid ".concat(o.error),borderRadius:"6px",backgroundColor:o.errorBg,color:o.error,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.error,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=o.errorBg,e.currentTarget.style.color=o.error},children:"\ud83d\udd04 Retry"})]})};Ic.register(Vu,$u,Kc,$c,nu,Pu,Wu,Su,vu);const rh=()=>{const{theme:e}=Ee(),{user:t}=fo(),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[d,c]=(0,a.useState)("line"),[u,p]=(0,a.useState)("all"),[h,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)({productName:"",cost:"",dateTime:(new Date).toISOString().slice(0,16)}),[m,y]=(0,a.useState)({startDate:"",endDate:""}),[b,v]=(0,a.useState)(null),[j,k]=(0,a.useState)(null),[w,S]=(0,a.useState)(null),[C,P]=(0,a.useState)({productName:"",cost:"",dateTime:""});(0,a.useEffect)((()=>{B()}),[]);const B=async()=>{if(null!==t&&void 0!==t&&t.brokerId){i(!0),l(null);try{const e=await Zn(t.brokerId);e.success&&e.data?n(e.data):n([])}catch(e){console.error("Error loading grain costs:",e),l("Failed to load grain costs data"),n([])}finally{i(!1)}}},N=e=>{const t=new Date(e),r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getFullYear();return"".concat(r,"-").concat(n,"-").concat(o)},T=()=>{let e=r;return"all"!==u&&(e=e.filter((e=>e.productName===u))),(m.startDate||m.endDate)&&(e=e.filter((e=>{const t=R(e.date),r=m.startDate?new Date(m.startDate):null,n=m.endDate?new Date(m.endDate+"T23:59:59"):null;return r&&n?t>=r&&t<=n:r?t>=r:!n||t<=n}))),e},R=e=>{const[t,r,n]=e.split("-");return new Date(n,r-1,t)},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:e.textPrimary,padding:20,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:"all"===u?"All Products Price Analytics":"".concat(u," Price Analytics"),color:e.textPrimary,font:{size:18,weight:"bold"},padding:{top:10,bottom:30}},tooltip:{mode:"index",intersect:!1,backgroundColor:e.cardBackground,titleColor:e.textPrimary,bodyColor:e.textPrimary,borderColor:e.border,borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:function(e){return"Date: ".concat(e[0].label)},label:function(e){return"".concat(e.dataset.label,": \u20b9").concat(e.parsed.y.toLocaleString())}}}},scales:{x:{display:!0,title:{display:!0,text:"Month",color:e.textPrimary,font:{size:14,weight:"600"}},ticks:{color:e.textSecondary,font:{size:11}},grid:{color:e.borderLight,drawBorder:!1}},y:{display:!0,title:{display:!0,text:"Price (\u20b9)",color:e.textPrimary,font:{size:14,weight:"600"}},ticks:{color:e.textSecondary,font:{size:11},callback:function(e){return"\u20b9"+e.toLocaleString()}},grid:{color:e.borderLight,drawBorder:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},_="line"===d?Tp:Rp;return(0,Ie.jsxs)("div",{style:{padding:"0"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("h2",{style:{margin:0,color:e.textPrimary,fontSize:"28px",fontWeight:"700",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("span",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:"32px"},children:"\ud83d\udcca"}),"Grain Price Analytics"]}),(0,Ie.jsx)("p",{style:{margin:"8px 0 0 0",color:e.textSecondary,fontSize:"16px"},children:"Track and analyze grain price trends with interactive visualizations"})]}),(0,Ie.jsxs)("button",{onClick:()=>g(!0),style:{padding:"14px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(102, 126, 234, 0.6)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:"\u2795"}),"Add Price Entry"]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,padding:"24px",borderRadius:"16px",marginBottom:"24px",border:"1px solid ".concat(e.border),boxShadow:e.shadow},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcc8 Chart Type"}),(0,Ie.jsxs)("select",{value:d,onChange:e=>c(e.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border,children:[(0,Ie.jsx)("option",{value:"line",children:"\ud83d\udcc8 Line Chart"}),(0,Ie.jsx)("option",{value:"bar",children:"\ud83d\udcca Bar Chart"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83c\udf3e Product Filter"}),(0,Ie.jsxs)("select",{value:u,onChange:e=>p(e.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border,children:[(0,Ie.jsx)("option",{value:"all",children:"\ud83c\udf10 All Products"}),[...new Set(r.map((e=>e.productName)))].sort().map((e=>(0,Ie.jsxs)("option",{value:e,children:["\ud83c\udf3e ",e]},e)))]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcc5 Start Date"}),(0,Ie.jsx)("input",{type:"date",value:m.startDate,onChange:e=>y(Ue(Ue({},m),{},{startDate:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcc5 End Date"}),(0,Ie.jsx)("input",{type:"date",value:m.endDate,onChange:e=>y(Ue(Ue({},m),{},{endDate:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(m.startDate||m.endDate)&&(0,Ie.jsx)("button",{onClick:()=>{y({startDate:"",endDate:""})},style:{padding:"12px 16px",border:"1px solid ".concat(e.warning),borderRadius:"8px",backgroundColor:e.warningBg,color:e.warning,cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.warning,t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.warningBg,t.currentTarget.style.color=e.warning},children:"\ud83d\uddd1\ufe0f Clear"}),(0,Ie.jsxs)("button",{onClick:B,disabled:o,style:{padding:"12px 16px",border:"1px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:o?"not-allowed":"pointer",opacity:o?.6:1,fontSize:"12px",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:t=>{o||(t.currentTarget.style.backgroundColor=e.hoverBg)},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.cardBackground},children:["\ud83d\udd04 ",o?"Loading...":"Refresh"]})]})]}),("all"!==u||m.startDate||m.endDate)&&(0,Ie.jsxs)("div",{style:{marginTop:"16px",padding:"12px 16px",backgroundColor:e.infoBg,borderRadius:"8px",border:"1px solid ".concat(e.info),fontSize:"14px",color:e.info},children:[(0,Ie.jsx)("strong",{children:"Active Filters:"}),"all"!==u&&(0,Ie.jsxs)("span",{children:[" Product: ",u]}),m.startDate&&(0,Ie.jsxs)("span",{children:[" From: ",new Date(m.startDate).toLocaleDateString("en-GB")]}),m.endDate&&(0,Ie.jsxs)("span",{children:[" To: ",new Date(m.endDate).toLocaleDateString("en-GB")]}),(0,Ie.jsxs)("span",{children:[" | Showing ",T().length," entries"]})]})]}),(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,padding:"24px",borderRadius:"16px",border:"1px solid ".concat(e.border),marginBottom:"24px",boxShadow:e.shadow},children:o?(0,Ie.jsx)("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center",color:e.textSecondary},children:(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px",animation:"pulse 2s infinite"},children:"\u23f3"}),(0,Ie.jsx)("p",{style:{fontSize:"16px",margin:0},children:"Loading grain price data..."})]})}):s?(0,Ie.jsx)("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center",color:e.error,textAlign:"center"},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"\u26a0\ufe0f"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:"20px"},children:"Error Loading Data"}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",color:e.textSecondary},children:s}),(0,Ie.jsx)("button",{onClick:B,style:{padding:"12px 24px",backgroundColor:e.primary||"#007bff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"\ud83d\udd04 Retry"})]})}):0===T().length?(0,Ie.jsx)("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center",color:e.textSecondary,textAlign:"center"},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"80px",marginBottom:"24px"},children:"\ud83d\udcc8"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 12px 0",color:e.textPrimary,fontSize:"24px"},children:0===r.length?"No Data Available":"No Data in Selected Range"}),(0,Ie.jsx)("p",{style:{margin:0,fontSize:"16px"},children:0===r.length?"Start by adding your first grain price entry":"Try adjusting your filters to see more data"})]})}):(0,Ie.jsx)("div",{style:{height:"500px"},children:(0,Ie.jsx)(_,{data:(()=>{const e=T();if("all"===u){const t={};e.forEach((e=>{t[e.productName]||(t[e.productName]=[]);const r=R(e.date);t[e.productName].push({date:r,cost:e.cost,monthYear:r.toLocaleDateString("en-GB",{month:"short",year:"numeric"})})})),Object.keys(t).forEach((e=>{t[e].sort(((e,t)=>e.date-t.date))}));const r=[...new Set(e.map((e=>R(e.date).toLocaleDateString("en-GB",{month:"short",year:"numeric"}))))].sort(((e,t)=>{const[r,n]=e.split(" "),[o,a]=t.split(" ");return new Date("".concat(r," 1, ").concat(n))-new Date("".concat(o," 1, ").concat(a))})),n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#10B981","#F59E0B","#EF4444","#8B5CF6"],o=[];r.forEach((e=>{const r=[];if(Object.keys(t).forEach((n=>{const o=t[n].filter((t=>t.monthYear===e));r.push(...o)})),r.length>0){r.sort(((e,t)=>e.date-t.date));const t=[...new Set(r.map((e=>e.date.getTime())))];1===t.length?o.push(e):t.forEach(((t,r)=>{o.push("".concat(e," (").concat(r+1,")"))}))}}));const a=Object.keys(t).map(((e,r)=>{const a=t[e];return{label:e,data:o.map((e=>{const t=e.includes("(")?e.split(" (")[0]:e,r=e.includes("(")?parseInt(e.split("(")[1].split(")")[0])-1:0,n=a.filter((e=>e.monthYear===t));return n.length>0?(n.sort(((e,t)=>e.date-t.date)),n[r]?n[r].cost:null):null})),borderColor:n[r%n.length],backgroundColor:n[r%n.length]+"15",tension:.4,fill:!1,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:n[r%n.length],pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n[r%n.length],pointHoverBorderWidth:3,borderWidth:3,spanGaps:!0}}));return{labels:o,datasets:a}}{const t=e.sort(((e,t)=>R(e.date)-R(t.date))),r={};t.forEach((e=>{const t=R(e.date).toLocaleDateString("en-GB",{month:"short",year:"numeric"});r[t]||(r[t]=[]),r[t].push(e)}));const n=[],o=[];return Object.keys(r).sort(((e,t)=>{const[r,n]=e.split(" "),[o,a]=t.split(" ");return new Date("".concat(r," 1, ").concat(n))-new Date("".concat(o," 1, ").concat(a))})).forEach((e=>{const t=r[e].sort(((e,t)=>R(e.date)-R(t.date)));1===t.length?(n.push(e),o.push(t[0].cost)):t.forEach(((t,r)=>{n.push("".concat(e," (").concat(r+1,")")),o.push(t.cost)}))})),{labels:n,datasets:[{label:u,data:o,borderColor:"#36A2EB",backgroundColor:"rgba(54, 162, 235, 0.1)",tension:.4,fill:!0,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#36A2EB",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#36A2EB",pointHoverBorderWidth:3,borderWidth:3}]}}})(),options:A})})}),T().length>0&&(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,padding:"24px",borderRadius:"16px",border:"1px solid ".concat(e.border),boxShadow:e.shadow},children:[(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:(0,Ie.jsxs)("h3",{style:{margin:0,color:e.textPrimary,fontSize:"20px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:["\ud83d\udccb Recent Price Entries (",T().length,")"]})}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:e.background},children:[(0,Ie.jsx)("th",{style:{padding:"16px",textAlign:"left",borderBottom:"2px solid ".concat(e.border),color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"Product"}),(0,Ie.jsx)("th",{style:{padding:"16px",textAlign:"right",borderBottom:"2px solid ".concat(e.border),color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"Price (\u20b9)"}),(0,Ie.jsx)("th",{style:{padding:"16px",textAlign:"center",borderBottom:"2px solid ".concat(e.border),color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"Date"}),(0,Ie.jsx)("th",{style:{padding:"16px",textAlign:"center",borderBottom:"2px solid ".concat(e.border),color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:T().sort(((e,t)=>R(t.date)-R(e.date))).slice(0,20).map(((t,r)=>(0,Ie.jsxs)("tr",{style:{borderBottom:"1px solid ".concat(e.borderLight),transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.hoverBgLight},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,Ie.jsx)("td",{style:{padding:"16px",color:e.textPrimary,fontWeight:"500",fontSize:"14px"},children:(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udf3e"}),t.productName]})}),(0,Ie.jsxs)("td",{style:{padding:"16px",textAlign:"right",color:e.success,fontWeight:"600",fontSize:"15px"},children:["\u20b9",t.cost.toLocaleString()]}),(0,Ie.jsx)("td",{style:{padding:"16px",textAlign:"center",color:e.textSecondary,fontSize:"14px"},children:t.date}),(0,Ie.jsx)("td",{style:{padding:"16px",textAlign:"center"},children:(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{const[t,r,n]=e.date.split("-"),o="".concat(n,"-").concat(r.padStart(2,"0"),"-").concat(t.padStart(2,"0"),"T12:00");P({productName:e.productName,cost:e.cost.toString(),dateTime:o}),S(e)})(t),disabled:j===t.id,style:{padding:"8px 12px",border:"1px solid ".concat(e.info),borderRadius:"6px",backgroundColor:e.infoBg,color:e.info,cursor:j===t.id?"not-allowed":"pointer",fontSize:"12px",fontWeight:"600",opacity:j===t.id?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:r=>{j!==t.id&&(r.currentTarget.style.backgroundColor=e.info,r.currentTarget.style.color="white")},onMouseLeave:r=>{j!==t.id&&(r.currentTarget.style.backgroundColor=e.infoBg,r.currentTarget.style.color=e.info)},children:"\u270f\ufe0f Edit"}),(0,Ie.jsxs)("button",{onClick:()=>v(t),disabled:j===t.id,style:{padding:"8px 12px",border:"1px solid ".concat(e.error),borderRadius:"6px",backgroundColor:e.errorBg,color:e.error,cursor:j===t.id?"not-allowed":"pointer",fontSize:"12px",fontWeight:"600",opacity:j===t.id?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:r=>{j!==t.id&&(r.currentTarget.style.backgroundColor=e.error,r.currentTarget.style.color="white")},onMouseLeave:r=>{j!==t.id&&(r.currentTarget.style.backgroundColor=e.errorBg,r.currentTarget.style.color=e.error)},children:[j===t.id?"\u23f3":"\ud83d\uddd1\ufe0f",j===t.id?"Deleting...":"Delete"]})]})})]},t.id||r)))})]})})]}),h&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",border:"1px solid ".concat(e.border),boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:e.textPrimary,fontSize:"24px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"28px"},children:"\u2795"}),"Add Price Entry"]}),(0,Ie.jsx)("button",{onClick:()=>g(!1),style:{background:"none",border:"1px solid ".concat(e.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:e.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.errorBg,t.currentTarget.style.color=e.error,t.currentTarget.style.borderColor=e.error},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=e.textSecondary,t.currentTarget.style.borderColor=e.border},children:"\xd7"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==t&&void 0!==t&&t.brokerId&&x.productName&&x.cost)try{(await Jn(t.brokerId,{productName:x.productName,cost:parseFloat(x.cost),date:N(x.dateTime)})).success&&(f({productName:"",cost:"",dateTime:(new Date).toISOString().slice(0,16)}),g(!1),B())}catch(r){console.error("Error adding grain cost:",r),alert("Failed to add grain cost entry")}},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83c\udf3e Product Name"}),(0,Ie.jsx)("input",{type:"text",value:x.productName,onChange:e=>f(Ue(Ue({},x),{},{productName:e.target.value})),required:!0,style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},placeholder:"e.g., Wheat, Rice, Dal, Corn",onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcb0 Price (\u20b9)"}),(0,Ie.jsx)("input",{type:"number",step:"0.01",value:x.cost,onChange:e=>f(Ue(Ue({},x),{},{cost:e.target.value})),required:!0,style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},placeholder:"Enter price per unit",onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcc5 Date & Time"}),(0,Ie.jsx)("input",{type:"datetime-local",value:x.dateTime,onChange:e=>f(Ue(Ue({},x),{},{dateTime:e.target.value})),style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>g(!1),style:{padding:"12px 24px",border:"1px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.hoverBg},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.cardBackground},children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",style:{padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:"\u2705 Add Entry"})]})]})]})}),w&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",border:"1px solid ".concat(e.border),boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:e.textPrimary,fontSize:"24px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"28px"},children:"\u270f\ufe0f"}),"Edit Price Entry"]}),(0,Ie.jsx)("button",{onClick:()=>S(null),style:{background:"none",border:"1px solid ".concat(e.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:e.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.errorBg,t.currentTarget.style.color=e.error,t.currentTarget.style.borderColor=e.error},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=e.textSecondary,t.currentTarget.style.borderColor=e.border},children:"\xd7"})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==t&&void 0!==t&&t.brokerId&&C.productName&&C.cost&&w){k(w.id);try{await eo(t.brokerId,w.id);(await Jn(t.brokerId,{productName:C.productName,cost:parseFloat(C.cost),date:N(C.dateTime)})).success&&(P({productName:"",cost:"",dateTime:""}),S(null),B())}catch(r){console.error("Error updating grain cost:",r),alert("Failed to update grain cost entry")}finally{k(null)}}},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83c\udf3e Product Name"}),(0,Ie.jsx)("input",{type:"text",value:C.productName,onChange:e=>P(Ue(Ue({},C),{},{productName:e.target.value})),required:!0,style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},placeholder:"e.g., Wheat, Rice, Dal, Corn",onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcb0 Price (\u20b9)"}),(0,Ie.jsx)("input",{type:"number",step:"0.01",value:C.cost,onChange:e=>P(Ue(Ue({},C),{},{cost:e.target.value})),required:!0,style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},placeholder:"Enter price per unit",onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:e.textPrimary,fontWeight:"600",fontSize:"14px"},children:"\ud83d\udcc5 Date & Time"}),(0,Ie.jsx)("input",{type:"datetime-local",value:C.dateTime,onChange:e=>P(Ue(Ue({},C),{},{dateTime:e.target.value})),style:{width:"100%",padding:"14px 16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor=e.border})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>S(null),style:{padding:"12px 24px",border:"1px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.hoverBg},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.cardBackground},children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",disabled:j===w.id,style:{padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:j===w.id?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",opacity:j===w.id?.6:1},onMouseEnter:e=>{j!==w.id&&(e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)")},onMouseLeave:e=>{j!==w.id&&(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)")},children:j===w.id?"\u23f3 Updating...":"\u2705 Update Entry"})]})]})]})}),b&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"400px",width:"90%",border:"1px solid ".concat(e.border),boxShadow:"0 20px 40px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\uddd1\ufe0f"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:e.textPrimary,fontSize:"20px",fontWeight:"600"},children:"Delete Price Entry"}),(0,Ie.jsxs)("p",{style:{margin:"0 0 24px 0",color:e.textSecondary,fontSize:"14px"},children:["Are you sure you want to delete the price entry for ",(0,Ie.jsx)("strong",{children:b.productName}),"(\u20b9",b.cost.toLocaleString(),") from ",b.date,"?"]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Ie.jsx)("button",{onClick:()=>v(null),style:{padding:"12px 24px",border:"1px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:()=>(async e=>{if(null!==t&&void 0!==t&&t.brokerId){k(e);try{(await eo(t.brokerId,e)).success&&(B(),v(null))}catch(r){console.error("Error deleting grain cost:",r),alert("Failed to delete grain cost entry")}finally{k(null)}}})(b.id),disabled:j===b.id,style:{padding:"12px 24px",backgroundColor:e.error,color:"white",border:"none",borderRadius:"8px",cursor:j===b.id?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",opacity:j===b.id?.6:1},children:j===b.id?"\u23f3 Deleting...":"\ud83d\uddd1\ufe0f Delete"})]})]})})]})},nh=e=>{let{stats:t,loading:r,onRefresh:n}=e;if(r||!t)return(0,Ie.jsxs)("div",{className:"dashboard-loading",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{children:"Loading dashboard statistics..."})]});const o=e=>null===e||void 0===e?"\u20b90":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),a=function(e){return e>(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?"#e74c3c":"#27ae60"};return(0,Ie.jsx)("div",{className:"payment-dashboard",children:(0,Ie.jsxs)("div",{className:"dashboard-grid",children:[(0,Ie.jsxs)("div",{className:"dashboard-section",children:[(0,Ie.jsx)("h3",{children:"Brokerage Payments"}),(0,Ie.jsxs)("div",{className:"stats-grid",children:[(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:o(t.totalBrokerageAmount)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Total Brokerage"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:o(t.totalBrokeragePaid)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Paid Amount"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",style:{color:a(t.totalBrokeragePending)},children:o(t.totalBrokeragePending)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Pending Amount"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsxs)("div",{className:"stat-value",children:[(i=t.brokerageCompletionPercentage,null===i||void 0===i?"0.0":i.toFixed(1)),"%"]}),(0,Ie.jsx)("div",{className:"stat-label",children:"Completion Rate"})]})]}),(0,Ie.jsxs)("div",{className:"additional-stats",children:[(0,Ie.jsxs)("span",{children:["Merchants with Pending: ",t.merchantsWithPendingBrokerage]}),(0,Ie.jsxs)("span",{style:{color:a(t.overdueBrokeragePayments)},children:["Overdue: ",t.overdueBrokeragePayments]})]})]}),(0,Ie.jsxs)("div",{className:"dashboard-section",children:[(0,Ie.jsx)("h3",{children:"Pending Payments"}),(0,Ie.jsxs)("div",{className:"stats-grid",children:[(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",style:{color:a(t.totalPendingPaymentAmount)},children:o(t.totalPendingPaymentAmount)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Total Pending"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:t.buyersWithPendingPayments}),(0,Ie.jsx)("div",{className:"stat-label",children:"Buyers with Pending"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",style:{color:a(t.overduePendingPayments)},children:t.overduePendingPayments}),(0,Ie.jsx)("div",{className:"stat-label",children:"Overdue Payments"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:o(t.averagePendingPaymentAmount)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Average Amount"})]})]})]}),(0,Ie.jsxs)("div",{className:"dashboard-section",children:[(0,Ie.jsx)("h3",{children:"Receivable Payments"}),(0,Ie.jsxs)("div",{className:"stats-grid",children:[(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:o(t.totalReceivablePaymentAmount)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Total Receivable"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:t.sellersWithReceivablePayments}),(0,Ie.jsx)("div",{className:"stat-label",children:"Sellers with Receivable"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",style:{color:a(t.overdueReceivablePayments)},children:t.overdueReceivablePayments}),(0,Ie.jsx)("div",{className:"stat-label",children:"Overdue Receivables"})]}),(0,Ie.jsxs)("div",{className:"stat-card",children:[(0,Ie.jsx)("div",{className:"stat-value",children:o(t.averageReceivablePaymentAmount)}),(0,Ie.jsx)("div",{className:"stat-label",children:"Average Amount"})]})]})]}),(0,Ie.jsxs)("div",{className:"dashboard-section full-width",children:[(0,Ie.jsx)("h3",{children:"Overall Summary"}),(0,Ie.jsxs)("div",{className:"summary-grid",children:[(0,Ie.jsxs)("div",{className:"summary-card",children:[(0,Ie.jsx)("div",{className:"summary-value",children:o(t.totalAmountInCirculation)}),(0,Ie.jsx)("div",{className:"summary-label",children:"Total Amount in Circulation"})]}),(0,Ie.jsxs)("div",{className:"summary-card",children:[(0,Ie.jsx)("div",{className:"summary-value",children:t.totalActivePayments}),(0,Ie.jsx)("div",{className:"summary-label",children:"Active Payments"})]}),(0,Ie.jsxs)("div",{className:"summary-card",children:[(0,Ie.jsx)("div",{className:"summary-value",style:{color:a(t.criticalPaymentsCount)},children:t.criticalPaymentsCount}),(0,Ie.jsx)("div",{className:"summary-label",children:"Critical Payments"})]}),(0,Ie.jsxs)("div",{className:"summary-card",children:[(0,Ie.jsx)("div",{className:"summary-value",children:t.paymentsDueSoonCount}),(0,Ie.jsx)("div",{className:"summary-label",children:"Due Soon"})]}),(0,Ie.jsxs)("div",{className:"summary-card",children:[(0,Ie.jsx)("div",{className:"summary-value",children:o(t.recentPaymentsAmount)}),(0,Ie.jsxs)("div",{className:"summary-label",children:["Recent Payments (",t.recentPaymentsCount,")"]})]})]})]})]})});var i},oh=e=>{var t,r,n,o;if(!e)return null;const a=(null===(t=e.monthlyAnalytics)||void 0===t?void 0:t.map((e=>({month:ah(e.month),sales:e.totalTransactionValue||0,quantity:e.totalQuantity||0,brokerage:e.totalBrokerage||0,transactions:e.totalTransactions||0}))))||[],i=(null===(r=e.overallProductTotals)||void 0===r?void 0:r.map((t=>({product:t.productName,quantity:t.totalQuantity||0,value:t.totalTransactionValue||0,percentage:ih(t.totalTransactionValue,e.totalTransactionValue),avgPrice:t.averagePrice||0,brokerage:t.totalBrokerage||0,transactions:t.totalTransactions||0}))))||[],s=(null===(n=e.overallCityTotals)||void 0===n?void 0:n.map((e=>({city:e.cityName,buyers:e.totalBuyers||0,sellers:e.totalSellers||0,totalVolume:e.totalQuantity||0,totalValue:e.totalTransactionValue||0,avgPrice:e.totalQuantity>0?e.totalTransactionValue/e.totalQuantity:0,brokerage:e.totalBrokerage||0,transactions:e.totalTransactions||0}))))||[],l=(null===(o=e.overallMerchantTypeTotals)||void 0===o?void 0:o.map((e=>({type:e.merchantType,totalSold:e.totalQuantitySold||0,totalBought:e.totalQuantityBought||0,totalBrokerage:e.totalBrokeragePaid||0,totalValue:e.totalTransactionValue||0,totalTransactions:e.totalTransactions||0,totalMerchants:e.totalMerchants||0}))))||[],d=s.sort(((e,t)=>t.totalValue-e.totalValue)).slice(0,5).map(((e,t)=>({id:t+1,name:"Top Buyer in ".concat(e.city),city:e.city,totalPurchases:e.totalValue,quantity:e.totalVolume,transactions:e.transactions,type:"BUYER"}))),c=s.sort(((e,t)=>t.totalValue-e.totalValue)).slice(0,5).map(((e,t)=>({id:t+1,name:"Top Seller in ".concat(e.city),city:e.city,totalSales:e.totalValue,quantity:e.totalVolume,transactions:e.transactions,type:"SELLER"})));return{sales:{totalSales:e.totalTransactionValue||0,totalQuantity:e.totalQuantity||0,totalTransactions:e.totalTransactions||0,totalBrokerage:e.totalBrokerage||0,totalTransactionValue:e.totalTransactionValue||0,monthlyGrowth:sh(a),monthlySales:a},topBuyers:d,topSellers:c,cityAnalytics:s,productAnalytics:i,merchantTypeAnalytics:l,financialYearInfo:{id:e.financialYearId,name:e.financialYearName,startDate:e.startDate,endDate:e.endDate}}},ah=e=>{if(!e)return"";const[t,r]=e.split("-");return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(r)-1]||e},ih=(e,t)=>t&&0!==t?Math.round(e/t*100*10)/10:0,sh=e=>{if(!e||e.length<2)return 0;const t=e[e.length-1],r=e[e.length-2];return r.sales&&0!==r.sales?Math.round((t.sales-r.sales)/r.sales*100*10)/10:0},lh=(e,t)=>e&&t?e.map((e=>{const r=t.find((t=>t.product===e.product)),n=r?r.value:0,o=r?r.quantity:0;return Ue(Ue({},e),{},{valueChange:ch(e.value,n),quantityChange:ch(e.quantity,o)})})):[],dh=(e,t)=>e&&t?e.map((e=>{const r=t.find((t=>t.city===e.city)),n=r?r.totalValue:0,o=r?r.totalVolume:0;return Ue(Ue({},e),{},{valueChange:ch(e.totalValue,n),volumeChange:ch(e.totalVolume,o)})})):[],ch=(e,t)=>t&&0!==t?Math.round((e-t)/t*100*10)/10:0,uh=e=>{if(!e)return"N/A";const t="string"===typeof e?new Date(e):e;if(isNaN(t.getTime()))return"Invalid Date";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear();return"".concat(r,"-").concat(n,"-").concat(o)},ph=e=>{if(!e)return"N/A";const t="string"===typeof e?new Date(e):e;if(isNaN(t.getTime()))return"Invalid Date";const r=t.getDate(),n=t.toLocaleDateString("en-US",{month:"long"}),o=t.getFullYear();return"".concat((e=>{const t=["th","st","nd","rd"],r=e%100;return e+(t[(r-20)%10]||t[r]||t[0])})(r)," ").concat(n," ").concat(o)},hh={totalSales:0,totalQuantity:0,totalTransactions:0,totalBrokerage:0,totalTransactionValue:0,monthlyGrowth:0,monthlySales:[{month:"Jan",sales:18e4,quantity:1200},{month:"Feb",sales:22e4,quantity:1450},{month:"Mar",sales:195e3,quantity:1300},{month:"Apr",sales:24e4,quantity:1600},{month:"May",sales:28e4,quantity:1850},{month:"Jun",sales:32e4,quantity:2100},{month:"Jul",sales:29e4,quantity:1900},{month:"Aug",sales:35e4,quantity:2300},{month:"Sep",sales:31e4,quantity:2050},{month:"Oct",sales:38e4,quantity:2500},{month:"Nov",sales:42e4,quantity:2750},{month:"Dec",sales:455e3,quantity:3e3}]},gh=[{id:1,name:"Test Mills",city:"Hyderabad",totalPurchases:45e4,quantity:3200,transactions:45,type:"MILLER"},{id:2,name:"Dummy Traders",city:"Vijayawada",totalPurchases:38e4,quantity:2800,transactions:38,type:"TRADER"},{id:3,name:"Abc Mills",city:"Guntur",totalPurchases:32e4,quantity:2400,transactions:32,type:"MILLER"},{id:4,name:"Venkat Grains",city:"Warangal",totalPurchases:28e4,quantity:2100,transactions:28,type:"TRADER"},{id:5,name:"Lakshmi Rice Center",city:"Karimnagar",totalPurchases:25e4,quantity:1900,transactions:25,type:"MILLER"}],xh=[{id:1,name:"Ramesh Agro Farms",city:"Nizamabad",totalSales:52e4,quantity:3800,transactions:52,type:"TRADER"},{id:2,name:"Suresh Rice Suppliers",city:"Khammam",totalSales:48e4,quantity:3500,transactions:48,type:"MILLER"},{id:3,name:"Mahesh Dal Trading",city:"Nalgonda",totalSales:42e4,quantity:3100,transactions:42,type:"TRADER"},{id:4,name:"Ganesh Grains Hub",city:"Medak",totalSales:38e4,quantity:2800,transactions:38,type:"MILLER"},{id:5,name:"Ravi Commodity Center",city:"Adilabad",totalSales:34e4,quantity:2500,transactions:34,type:"TRADER"}],fh=[{city:"Hyderabad",buyers:12,sellers:8,totalVolume:4500,totalValue:65e4,avgPrice:144.44},{city:"Vijayawada",buyers:10,sellers:15,totalVolume:4200,totalValue:58e4,avgPrice:138.1},{city:"Guntur",buyers:8,sellers:12,totalVolume:3800,totalValue:52e4,avgPrice:136.84},{city:"Warangal",buyers:6,sellers:9,totalVolume:3200,totalValue:44e4,avgPrice:137.5},{city:"Karimnagar",buyers:5,sellers:7,totalVolume:2800,totalValue:38e4,avgPrice:135.71}],mh=[{product:"Basmati Rice",quantity:4500,value:72e4,percentage:28.5,avgPrice:160},{product:"Sona Masoori Rice",quantity:3800,value:456e3,percentage:24.2,avgPrice:120},{product:"Channa Dal",quantity:2200,value:33e4,percentage:14.1,avgPrice:150},{product:"Toor Dal",quantity:1900,value:285e3,percentage:12.2,avgPrice:150},{product:"Moong Dal",quantity:1600,value:24e4,percentage:10.3,avgPrice:150},{product:"Urad Dal",quantity:1200,value:18e4,percentage:7.7,avgPrice:150},{product:"Masoor Dal",quantity:500,value:75e3,percentage:3.2,avgPrice:150}],yh=gn.create({baseURL:"".concat("http://localhost:8080/BrokerHub","/payments"),headers:{"Content-Type":"application/json"}});yh.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const bh={getAllFirms:async()=>{try{return(await yh.get("/firms")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}},getBrokeragePayments:async e=>{try{return(await yh.get("/".concat(e,"/brokerage"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},searchBrokeragePayments:async(e,t)=>{try{return(await yh.get("/".concat(e,"/brokerage/search?firmName=").concat(encodeURIComponent(t)))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},addPartPayment:async(e,t,r)=>{try{return(await yh.post("/".concat(e,"/brokerage/").concat(t,"/part-payment"),r)).data}catch(o){var n;throw(null===(n=o.response)||void 0===n?void 0:n.data)||o.message}},getPendingPayments:async e=>{try{return(await yh.get("/".concat(e,"/pending"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},searchPendingPayments:async(e,t)=>{try{return(await yh.get("/".concat(e,"/pending/search?buyerFirm=").concat(encodeURIComponent(t)))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},getReceivablePayments:async e=>{try{return(await yh.get("/".concat(e,"/receivable"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},searchReceivablePayments:async(e,t)=>{try{return(await yh.get("/".concat(e,"/receivable/search?sellerFirm=").concat(encodeURIComponent(t)))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}},refreshCache:async e=>{try{return(await yh.post("/".concat(e,"/refresh-cache"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},updateOverdueStatus:async e=>{try{return(await yh.post("/".concat(e,"/update-overdue-status"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getDashboardStats:async e=>{try{return(await yh.get("/".concat(e,"/dashboard"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},getPaymentSummary:async e=>{try{return(await yh.get("/".concat(e,"/summary"))).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r.message}},generateFromLedger:async(e,t)=>{try{return(await yh.post("/".concat(e,"/generate-from-ledger/").concat(t))).data}catch(n){var r;throw(null===(r=n.response)||void 0===r?void 0:r.data)||n.message}}},vh=()=>{var e,t,r,n,o,i,s,l,d,c,u,p,h,g,x,f,m,y,b;const v=te(),j=Z(),{isMobile:k,isTablet:w}=_p(),{theme:S}=Ee(),{user:C}=fo(),{t:P}=Io(),[B,N]=(0,a.useState)(""),[T,R]=(0,a.useState)("overview");(0,a.useEffect)((()=>{const e=new URLSearchParams(j.search).get("tab");e&&R(e)}),[j.search]);const A=localStorage.getItem("brokerId")||"1",[_,I]=(0,a.useState)({sales:hh,topBuyers:gh,topSellers:xh,cityAnalytics:fh,productAnalytics:mh}),[z,E]=(0,a.useState)(null),[M,D]=(0,a.useState)(null),[L,O]=(0,a.useState)(!1),[F,W]=(0,a.useState)(!1),[U,H]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(null),[q,Q]=(0,a.useState)(null),[$,G]=(0,a.useState)(null),[K,X]=(0,a.useState)([]),[J,ee]=(0,a.useState)(!1),[re,ne]=(0,a.useState)(null),[oe,ae]=(0,a.useState)([]),[ie,se]=(0,a.useState)([]),[le,de]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(!1),[pe,he]=(0,a.useState)({financialYearAnalytics:null,topPerformers:null,topBuyers:null,topSellers:null,topMerchants:null}),[ge,xe]=(0,a.useState)("brokerage"),[fe,me]=(0,a.useState)([]),[ye,be]=(0,a.useState)([]),[ve,je]=(0,a.useState)([]),[ke,we]=(0,a.useState)(null),[Se,Ce]=(0,a.useState)(!1),[Pe,Be]=(0,a.useState)(!1),[Ne,Te]=(0,a.useState)(""),[Ae,_e]=(0,a.useState)("CASH"),[ze,Me]=(0,a.useState)({totalBrokerageAmount:0,totalBrokeragePaid:0,totalBrokeragePending:0,brokerageCompletionPercentage:0,merchantsWithPendingBrokerage:0,overdueBrokeragePayments:0,totalPendingPaymentAmount:0,buyersWithPendingPayments:0,overduePendingPayments:0,averagePendingPaymentAmount:0,totalReceivablePaymentAmount:0,sellersWithReceivablePayments:0,overdueReceivablePayments:0,averageReceivablePaymentAmount:0,totalAmountInCirculation:0,totalActivePayments:0,criticalPaymentsCount:0,paymentsDueSoonCount:0,recentPaymentsAmount:0,recentPaymentsCount:0}),[De,Le]=(0,a.useState)(!1),[Oe,Fe]=(0,a.useState)(""),[We,He]=(0,a.useState)(""),[Ve,Ye]=(0,a.useState)(""),[qe,Qe]=(0,a.useState)(!1),[$e,Ge]=(0,a.useState)(!1),[Ke,Xe]=(0,a.useState)(!1),[Je,Ze]=(0,a.useState)(["Tarun Traders","Siri Traders","Krishna Mills","Rama Traders","Lakshmi Mills","Venkat Traders","Sai Mills","Ganga Traders","Surya Mills","Priya Traders"]),[et,tt]=(0,a.useState)(""),[rt,nt]=(0,a.useState)(null),[ot,at]=(0,a.useState)(!1),[it,st]=(0,a.useState)(!1),[lt,dt]=(0,a.useState)(null),[ct,ut]=(0,a.useState)(!1),[pt,ht]=(0,a.useState)(""),[gt,xt]=(0,a.useState)([]),[ft,mt]=(0,a.useState)(!1),[yt,bt]=(0,a.useState)(null),[vt,jt]=(0,a.useState)(""),[kt,wt]=(0,a.useState)({}),[St,Ct]=(0,a.useState)([]),[Pt,Bt]=(0,a.useState)(!1),[Nt,Tt]=(0,a.useState)(null),[Rt,At]=(0,a.useState)({}),[_t,It]=(0,a.useState)(!1),[zt,Et]=(0,a.useState)(!1),[Mt,Dt]=(0,a.useState)(null),[Lt,Ot]=(0,a.useState)(!1),[Ft,Wt]=(0,a.useState)(!1),[Ut,Ht]=(0,a.useState)(null),[Vt,Yt]=(0,a.useState)([]),[qt,Qt]=(0,a.useState)(""),[$t,Gt]=(0,a.useState)(!1);(0,a.useEffect)((()=>{var e;console.log("Dashboard - User data:",C),null!==(e=j.state)&&void 0!==e&&e.message&&(N(j.state.message),window.history.replaceState({},document.title),setTimeout((()=>N("")),5e3)),"analytics"===T&&Kt(),C&&C.brokerId&&console.log("User data available from auth context")}),[v,j,C]),(0,a.useEffect)((()=>{"payments"!==T||ze||or()}),[T]),(0,a.useEffect)((()=>{"payments"===T&&("brokerage"===ge&&0===fe.length?ar():"pending"===ge&&0===ye.length?ir():"receivable"===ge&&0===ve.length&&sr())}),[T,ge]),(0,a.useEffect)((()=>{"merchants"===T&&0===K.length&&(Zt(),nr())}),[T]),(0,a.useEffect)((()=>{"products"===T&&0===gt.length&&er()}),[T]),(0,a.useEffect)((()=>{"routes"!==T&&"addresses"!==T||0!==St.length||tr()}),[T]),(0,a.useEffect)((()=>{"analytics"===T&&(0===Vt.length&&lr(),qt||dr(),Kt())}),[T]),(0,a.useEffect)((()=>{"overview"===T&&(L&&z?Xt():I({sales:hh,topBuyers:gh,topSellers:xh,cityAnalytics:fh,productAnalytics:mh}))}),[T,L,z]);const Kt=async()=>{try{L&&z?await Xt():I({sales:hh,topBuyers:gh,topSellers:xh,cityAnalytics:fh,productAnalytics:mh})}catch(e){console.error("Error loading analytics:",e)}},Xt=async()=>{if(z){H(!0);try{console.log("Loading analytics for financial year:",z.yearId);const e=await En(z.yearId),t=oh(e);t&&(Y(t),I(t)),he((e=>Ue(Ue({},e),{},{financialYearAnalytics:null})))}catch(e){console.error("Error loading financial year analytics:",e),he((t=>Ue(Ue({},t),{},{financialYearAnalytics:e.message||"Failed to load analytics data"})))}await rr(),F&&M&&await Jt(),H(!1)}},Jt=async()=>{if(M&&z)try{const e=await En(M.yearId),t=oh(e);if(t&&V){Q(t);const e=((e,t)=>{if(!e||!t)return null;const r=(e,t)=>t&&0!==t?Math.round((e-t)/t*100*10)/10:0;return{salesChange:r(e.sales.totalSales,t.sales.totalSales),quantityChange:r(e.sales.totalQuantity,t.sales.totalQuantity),transactionsChange:r(e.sales.totalTransactions,t.sales.totalTransactions),brokerageChange:r(e.sales.totalBrokerage,t.sales.totalBrokerage),productComparison:lh(e.productAnalytics,t.productAnalytics),cityComparison:dh(e.cityAnalytics,t.cityAnalytics)}})(V,t);G(e)}}catch(e){console.error("Error loading comparison data:",e),alert("Failed to fetch comparison data: ".concat(e.message||"Server error occurred")),Q(null),G(null)}},Zt=async()=>{ee(!0);try{console.log("Loading merchants data...");const e=await kn(0,100,"firmName,asc"),t=e.content||e;console.log("Loaded merchants data:",e),console.log("Type of merchants data:",typeof e),console.log("Is array:",Array.isArray(e)),Array.isArray(t)?X(t):(console.warn("Merchants data is not an array:",t),X([]))}catch(e){console.error("Error loading merchants:",e),alert("Failed to fetch merchants data: ".concat(e.message||"Server error occurred")),X([])}finally{ee(!1)}},er=async()=>{try{console.log("Loading products data...");const e=await Tn(0,100);console.log("Loaded products data:",e),Array.isArray(e)?xt(e):(console.warn("Products data is not an array:",e),xt([]))}catch(e){console.error("Error loading products:",e),alert("Failed to fetch products data: ".concat(e.message||"Server error occurred")),xt([])}},tr=async()=>{try{console.log("Loading addresses data...");const e=await Qn();console.log("Loaded addresses data:",e),Array.isArray(e)?Ct(e):(console.warn("Addresses data is not an array:",e),Ct([]))}catch(e){console.error("Error loading addresses:",e),alert("Failed to fetch addresses data: ".concat(e.message||"Server error occurred")),Ct([])}},rr=async()=>{if(!L||!z)return;de(!0);const e=[Mn(z.yearId).then((e=>{ne(e),he((e=>Ue(Ue({},e),{},{topPerformers:null})))})).catch((e=>{console.error("Error loading top performers:",e),he((t=>Ue(Ue({},t),{},{topPerformers:e.message||"Failed to load top performers"}))),ne(null)})),Dn(z.yearId).then((e=>{ae(e),I((t=>Ue(Ue({},t),{},{topBuyers:e||[]}))),he((e=>Ue(Ue({},e),{},{topBuyers:null})))})).catch((e=>{console.error("Error loading top buyers:",e),he((t=>Ue(Ue({},t),{},{topBuyers:e.message||"Failed to load top buyers"}))),ae([])})),Ln(z.yearId).then((e=>{ne((t=>Ue(Ue({},t),{},{topSellersByQuantity:e}))),I((t=>Ue(Ue({},t),{},{topSellers:e||[]}))),he((e=>Ue(Ue({},e),{},{topSellers:null})))})).catch((e=>{console.error("Error loading top sellers:",e),he((t=>Ue(Ue({},t),{},{topSellers:e.message||"Failed to load top sellers"})))})),On(z.yearId).then((e=>{se(e),he((e=>Ue(Ue({},e),{},{topMerchants:null})))})).catch((e=>{console.error("Error loading top merchants:",e),he((t=>Ue(Ue({},t),{},{topMerchants:e.message||"Failed to load top merchants"}))),se([])}))];await Promise.allSettled(e),de(!1)},nr=async()=>{try{console.log("Loading firm names from API...");const e=await bh.getAllFirms();console.log("Firm names API response:",e),e.data&&Array.isArray(e.data)&&Ze(e.data)}catch(e){console.error("Failed to load firm names:",e),alert("API Connection Error: Check if backend is running on correct port")}},or=async()=>{try{console.log("Loading payment dashboard stats..."),Le(!0);const e=await bh.getDashboardStats(A);console.log("Payment dashboard stats loaded:",e),Me(e.data||e)}catch(e){console.error("Error loading payment dashboard stats:",e),alert("Failed to load payment dashboard statistics: "+(e.message||"Server error")),Me(null)}finally{Le(!1)}},ar=async()=>{try{console.log("Loading brokerage payments...");const e=await bh.getBrokeragePayments(A);me(e.data||[])}catch(e){console.error("Error loading brokerage payments:",e),me([])}},ir=async()=>{try{console.log("Loading pending payments...");const e=await bh.getPendingPayments(A);be(e.data||[])}catch(e){console.error("Error loading pending payments:",e),be([])}},sr=async()=>{try{console.log("Loading receivable payments...");const e=await bh.getReceivablePayments(A);je(e.data||[])}catch(e){console.error("Error loading receivable payments:",e),je([])}},lr=async()=>{try{console.log("Loading financial years...");const e=await Hn();Yt(e||[]),console.log("Financial years loaded:",e)}catch(e){console.error("Error loading financial years:",e),Yt([])}},dr=async()=>{try{const e=await Yn();e&&e.financialYearName&&Qt(e.financialYearName)}catch(e){console.log("No current financial year set or error loading:",e)}};(0,a.useEffect)((()=>{const e=e=>{e.target.closest(".search-container")||(Qe(!1),Ge(!1),Xe(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const cr=()=>Oe?fe.filter((e=>e.firmName.toLowerCase().includes(Oe.toLowerCase()))):fe,ur=()=>We?ye.filter((e=>e.buyerFirm.toLowerCase().includes(We.toLowerCase()))):ye,pr=()=>Ve?ve.filter((e=>e.sellerFirm.toLowerCase().includes(Ve.toLowerCase()))):ve,hr=e=>e?Je.filter((t=>t.toLowerCase().includes(e.toLowerCase()))):Je,gr=async(e,t)=>{switch(t){case"brokerage":Fe(e),Qe(!1);try{const t=await bh.searchBrokeragePayments(A,e);me(t.data||[])}catch(r){console.error("Search failed:",r)}break;case"pending":He(e),Ge(!1);try{const t=await bh.searchPendingPayments(A,e);be(t.data||[])}catch(r){console.error("Search failed:",r)}break;case"receivable":Ye(e),Xe(!1);try{const t=await bh.searchReceivablePayments(A,e);je(t.data||[])}catch(r){console.error("Search failed:",r)}}},xr=async e=>{switch(e){case"brokerage":Fe(""),Qe(!1);try{const e=await bh.getBrokeragePayments(A);me(e.data||[])}catch(t){console.error("Failed to reload brokerage payments:",t)}break;case"pending":He(""),Ge(!1);try{const e=await bh.getPendingPayments(A);be(e.data||[])}catch(t){console.error("Failed to reload pending payments:",t)}break;case"receivable":Ye(""),Xe(!1);try{const e=await bh.getReceivablePayments(A);je(e.data||[])}catch(t){console.error("Failed to reload receivable payments:",t)}}},fr=(e,t)=>{we(Ue(Ue({},e),{},{type:t})),Ce(!0)},mr=e=>{we(e),Be(!0),Te("")},yr=()=>{Ce(!1),we(null)},br=()=>{Be(!1),we(null),Te(""),_e("CASH")},vr=e=>{switch(e){case"PAID":return S.success;case"PARTIAL_PAID":case"DUE_SOON":return S.warning;case"PENDING":return S.info;case"OVERDUE":return S.error;default:return S.textSecondary}},jr=e=>{switch(e){case"PAID":return S.successBg;case"PARTIAL_PAID":case"DUE_SOON":return S.warningBg;case"PENDING":return S.infoBg;case"OVERDUE":return S.errorBg;default:return S.background}},kr=()=>{at(!1),nt(null)},wr=()=>{mt(!1),bt(null)},Sr=()=>{Bt(!1),Tt(null)},Cr=()=>{st(!1),dt(null),ht("")},Pr=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Br=e=>new Intl.NumberFormat("en-IN").format(e),Nr=e=>{const t=e.toLowerCase();return t.includes("rice")||t.includes("chawal")?"\ud83c\udf5a":t.includes("dal")||t.includes("lentil")?"\ud83e\uded8":t.includes("wheat")||t.includes("gehun")?"\ud83c\udf3e":t.includes("channa")||t.includes("chickpea")||t.includes("moong")||t.includes("mung")?"\ud83e\udedb":t.includes("corn")||t.includes("maize")?"\ud83c\udf3d":(t.includes("bajra")||t.includes("millet"),"\ud83c\udf3e")};return C?(0,Ie.jsxs)("div",{style:{padding:k?"12px":"20px",backgroundColor:S.background,minHeight:"100vh",transition:"background-color 0.3s ease"},children:[(0,Ie.jsx)("header",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",padding:k?"16px":"20px",backgroundColor:S.headerBackground,borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"responsive-text-2xl",style:{margin:0,color:S.textPrimary,fontSize:"28px",fontWeight:"700"},children:P("BrokerHub Dashboard")}),(0,Ie.jsxs)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:k?"14px":"16px"},children:[P("Welcome back"),", ",(null===C||void 0===C?void 0:C.brokerName)||"Broker User","!"]})]})}),B&&(0,Ie.jsx)("div",{style:{backgroundColor:S.successBg,border:"1px solid ".concat(S.successBorder),color:S.success,padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",transition:"all 0.3s ease"},children:B}),(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"12px",padding:"0",marginBottom:"20px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsx)("div",{className:"dashboard-tabs",style:{display:"flex",borderBottom:"1px solid ".concat(S.borderLight),overflowX:"auto",WebkitOverflowScrolling:"touch"},children:[{id:"overview",label:P("Overview")},{id:"analytics",label:P("Analytics")},{id:"grainanalytics",label:P("Grain Analytics")},{id:"payments",label:P("Payments")},{id:"merchants",label:P("Merchants")},{id:"products",label:P("Products")},{id:"addresses",label:P("Addresses")},{id:"profile",label:P("Profile")},{id:"allservices",label:P("All Services")}].map((e=>(0,Ie.jsx)("button",{onClick:()=>R(e.id),className:"dashboard-tab",style:{padding:k?"12px 16px":"16px 24px",border:"none",backgroundColor:"transparent",color:T===e.id?S.buttonPrimary:S.textSecondary,fontWeight:T===e.id?"600":"400",borderBottom:T===e.id?"2px solid ".concat(S.buttonPrimary):"2px solid transparent",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap",minWidth:"fit-content",transition:"all 0.2s ease"},onMouseEnter:t=>{T!==e.id&&(t.currentTarget.style.color=S.textPrimary,t.currentTarget.style.backgroundColor=S.hoverBgLight)},onMouseLeave:t=>{T!==e.id&&(t.currentTarget.style.color=S.textSecondary,t.currentTarget.style.backgroundColor="transparent")},children:e.label},e.id)))})}),("overview"===T||"analytics"===T)&&(0,Ie.jsx)(Gp,{selectedFinancialYear:z,onFinancialYearChange:e=>{E(e),L&&e&&(Xt(),rr())},compareFinancialYear:M,onCompareFinancialYearChange:e=>{D(e),L&&e&&z&&Jt()},useRealData:L,onDataSourceToggle:e=>{O(e),e&&z?(he({financialYearAnalytics:null,topPerformers:null,topBuyers:null,topSellers:null,topMerchants:null}),Xt(),rr()):(I({sales:hh,topBuyers:gh,topSellers:xh,cityAnalytics:fh,productAnalytics:mh}),Y(null),Q(null),G(null),ne(null),ae([]),se([]),he({financialYearAnalytics:null,topPerformers:null,topBuyers:null,topSellers:null,topMerchants:null}))},showComparison:F,onToggleComparison:e=>{W(e),e||(D(null),Q(null),G(null))},loading:U,onRefreshCache:async()=>{if(z){ue(!0);try{await Fn(z.yearId),alert("Analytics cache refreshed successfully!"),L&&(await Xt(),await rr())}catch(e){console.error("Error refreshing cache:",e),alert("Failed to refresh cache: ".concat(e.message||"Server error occurred"))}finally{ue(!1)}}else alert("Please select a financial year first")},onRefreshAllCache:async()=>{ue(!0);try{await Wn(),alert("All analytics cache refreshed successfully!"),L&&z&&(await Xt(),await rr())}catch(e){console.error("Error refreshing all cache:",e),alert("Failed to refresh all cache: ".concat(e.message||"Server error occurred"))}finally{ue(!1)}},refreshingCache:ce}),"overview"===T&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(S.buttonPrimary," 0%, #8b5cf6 100%)"),padding:"32px",borderRadius:"16px",marginBottom:"30px",boxShadow:S.shadowHover,border:"1px solid ".concat(S.border),position:"relative",overflow:"hidden",transition:"all 0.3s ease"},children:[(0,Ie.jsx)("div",{style:{position:"absolute",top:0,right:0,width:"200px",height:"200px",background:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(50%, -50%)"}}),(0,Ie.jsxs)("div",{style:{position:"relative",zIndex:1,display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:k?"column":"row",gap:k?"20px":"0"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"32px"},children:"\ud83d\udcca"}),(0,Ie.jsx)("h2",{style:{margin:0,color:"white",fontSize:"24px",fontWeight:"700"},children:"Audit Ledger Management"})]}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",color:"rgba(255,255,255,0.9)",fontSize:"16px",maxWidth:"500px"},children:"Manage financial years, track transactions, and audit your business records with our comprehensive ledger system."}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[(0,Ie.jsx)("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"\u2705 Financial Year Management"}),(0,Ie.jsx)("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"\u2705 Transaction Tracking"}),(0,Ie.jsx)("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"\u2705 Audit Reports"})]})]}),(0,Ie.jsxs)("div",{style:{textAlign:k?"center":"right"},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:k?"1fr":"repeat(2, 1fr)",gap:"12px",maxWidth:k?"100%":"600px",marginLeft:"auto"},children:[(0,Ie.jsxs)(Re,{to:"/json-transaction",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"16px 20px",backgroundColor:"rgba(255,255,255,0.2)",color:"white",textDecoration:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",border:"2px solid rgba(255,255,255,0.3)",transition:"all 0.3s ease",backdropFilter:"blur(10px)",minHeight:"56px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.3)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcdd"}),"JSON"]}),(0,Ie.jsxs)(Re,{to:"/financial-years",style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",backgroundColor:"rgba(255,255,255,0.95)",color:"#667eea",textDecoration:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",border:"2px solid white",transition:"all 0.3s ease",backdropFilter:"blur(10px)",boxShadow:"0 4px 15px rgba(0,0,0,0.15)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="white",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.25)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.95)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.15)"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\ude80"}),"Open Ledger Detail"]}),(0,Ie.jsxs)(Re,{to:"/ledger-management",style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",backgroundColor:"rgba(255,255,255,0.2)",color:"white",textDecoration:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",border:"2px solid rgba(255,255,255,0.3)",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.3)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udccb"}),"Ledger Management"]}),(0,Ie.jsxs)(Re,{to:"/brokerage",style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",backgroundColor:"rgba(255,255,255,0.2)",color:"white",textDecoration:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",border:"2px solid rgba(255,255,255,0.3)",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.3)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcb0"}),"Brokerage Dashboard"]})]}),(0,Ie.jsx)("p",{style:{margin:"8px 0 0 0",color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:"Start managing your financial records"})]})]})]}),_?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{className:"dashboard-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Total Sales"}),(0,Ie.jsx)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:Pr((null===(e=_.sales)||void 0===e?void 0:e.totalSales)||0)})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.infoBg,padding:"12px",borderRadius:"8px",color:S.info,fontSize:"24px"},children:"\ud83d\udcb0"})]}),(0,Ie.jsxs)("p",{style:{margin:"8px 0 0 0",color:S.success,fontSize:"12px"},children:["+",(null===(t=_.sales)||void 0===t?void 0:t.monthlyGrowth)||0,"% from last month"]})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Total Quantity"}),(0,Ie.jsxs)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:[Br((null===(r=_.sales)||void 0===r?void 0:r.totalQuantity)||0)," Tons"]})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.successBg,padding:"12px",borderRadius:"8px",color:S.success,fontSize:"24px"},children:"\ud83d\udce6"})]})}),(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Total Transactions"}),(0,Ie.jsx)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:Br((null===(n=_.sales)||void 0===n?void 0:n.totalTransactions)||0)})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.warningBg,padding:"12px",borderRadius:"8px",color:S.warning,fontSize:"24px"},children:"\ud83d\udcca"})]})}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Total Brokerage Earned"}),(0,Ie.jsx)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:Pr((null===(o=_.sales)||void 0===o?void 0:o.totalBrokerage)||0)})]}),(0,Ie.jsx)("div",{style:{backgroundColor:"#fef3c7",padding:"12px",borderRadius:"8px",color:"#f59e0b",fontSize:"24px"},children:"\ud83d\udcb8"})]}),(0,Ie.jsxs)("p",{style:{margin:"8px 0 0 0",color:S.textSecondary,fontSize:"12px"},children:["Earned from ",(null===(i=_.sales)||void 0===i?void 0:i.totalTransactions)||0," transactions"]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Total Transaction Value"}),(0,Ie.jsx)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:Pr((null===(s=_.sales)||void 0===s?void 0:s.totalTransactionValue)||0)})]}),(0,Ie.jsx)("div",{style:{backgroundColor:"#dcfce7",padding:"12px",borderRadius:"8px",color:"#16a34a",fontSize:"24px"},children:"\ud83d\udcb0"})]}),(0,Ie.jsx)("p",{style:{margin:"8px 0 0 0",color:S.success,fontSize:"12px"},children:"Total value of all transactions"})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Active Merchants"}),(0,Ie.jsx)("h3",{style:{margin:"4px 0 0 0",color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:K.length})]}),(0,Ie.jsx)("div",{style:{backgroundColor:"#ede9fe",padding:"12px",borderRadius:"8px",color:"#8b5cf6",fontSize:"24px"},children:"\ud83d\udc65"})]})})]}),(0,Ie.jsxs)("div",{className:"dashboard-charts-grid",style:{display:"grid",gridTemplateColumns:k||w?"1fr":"2fr 1fr",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsx)($p,{title:"Monthly Sales Performance",height:k?"300px":"400px",children:L&&pe.financialYearAnalytics?(0,Ie.jsx)(th,{error:pe.financialYearAnalytics,title:"Sales Data",onRetry:()=>Xt()}):(0,Ie.jsx)(Ip,{data:(null===(l=_.sales)||void 0===l?void 0:l.monthlySales)||[],animated:!0})}),(0,Ie.jsx)($p,{title:"Product Distribution",height:k?"300px":"400px",children:L&&pe.financialYearAnalytics?(0,Ie.jsx)(th,{error:pe.financialYearAnalytics,title:"Product Data",onRetry:()=>Xt()}):_.productAnalytics&&_.productAnalytics.length>0?(0,Ie.jsx)(Ep,{data:_.productAnalytics,animated:!0}):(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No product data available"})})]}),(0,Ie.jsxs)("div",{className:"dashboard-analytics-grid",style:{display:"grid",gridTemplateColumns:k?"1fr":"1fr 1fr",gap:k?"16px":"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"Top Buyers"}),(0,Ie.jsxs)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:[(_.topBuyers||[]).slice(0,5).map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:t<4?"1px solid #f1f5f9":"none"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:"#1e293b"},children:e.firmName||e.buyerName||"Unknown Buyer"}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:[e.city||"Unknown City"," \u2022 ",e.userType||e.type||"BUYER"]})]}),(0,Ie.jsxs)("div",{style:{textAlign:"right"},children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"600",color:"#1e293b"},children:Pr(e.totalAmountSpent||0)}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:[e.totalQuantityBought||e.quantity||e.totalQuantity||0," tons"]})]})]},e.id||t))),(!_.topBuyers||0===_.topBuyers.length)&&(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No buyer data available"})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"Top Sellers"}),(0,Ie.jsxs)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:[(_.topSellers||[]).slice(0,5).map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:t<4?"1px solid #f1f5f9":"none"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:"#1e293b"},children:e.firmName||e.sellerName||"Unknown Seller"}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:[e.city||"Unknown City"," \u2022 ",e.userType||e.type||"SELLER"]})]}),(0,Ie.jsxs)("div",{style:{textAlign:"right"},children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"600",color:"#1e293b"},children:Pr(e.totalAmountReceived||0)}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:[e.totalQuantitySold||e.quantity||e.totalQuantity||0," tons"]})]})]},e.id||t))),(!_.topSellers||0===_.topSellers.length)&&(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No seller data available"})]})]})]})]}):L?(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"40px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),textAlign:"center",marginBottom:"30px"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\u26a0\ufe0f"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.error},children:"Failed to Load Analytics Data"}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",color:S.textSecondary},children:"Unable to fetch real analytics data from the server. Please check your connection and try again."}),(0,Ie.jsx)("button",{onClick:()=>z&&Xt(),style:{padding:"8px 16px",border:"1px solid ".concat(S.primary),borderRadius:"6px",backgroundColor:S.primary,color:"white",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},children:"Retry"})]}):null]}),"analytics"===T&&(0,Ie.jsx)("div",{children:_?(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{className:"dashboard-analytics-grid",style:{display:"grid",gridTemplateColumns:k?"1fr":"1fr 1fr",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsx)($p,{title:"Monthly Quantity Sold",height:k?"300px":"400px",children:L&&pe.financialYearAnalytics?(0,Ie.jsx)(th,{error:pe.financialYearAnalytics,title:"Quantity Data",onRetry:()=>Xt()}):(0,Ie.jsx)(zp,{data:_.sales.monthlySales,animated:!0})}),(0,Ie.jsx)($p,{title:"City-wise Buyers vs Sellers",height:k?"300px":"400px",children:L&&pe.financialYearAnalytics?(0,Ie.jsx)(th,{error:pe.financialYearAnalytics,title:"City Data",onRetry:()=>Xt()}):(0,Ie.jsx)(Mp,{data:_.cityAnalytics,animated:!0})})]}),(0,Ie.jsx)($p,{title:"Top 5 Buyers by Purchase Amount",height:"400px",style:{marginBottom:"20px"},children:(0,Ie.jsx)(Dp,{buyers:_.topBuyers,sellers:_.topSellers,animated:!0})}),L&&_.merchantTypeAnalytics&&_.merchantTypeAnalytics.length>0&&(0,Ie.jsxs)("div",{className:"dashboard-analytics-grid",style:{display:"grid",gridTemplateColumns:k?"1fr":"1fr 1fr",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsx)($p,{title:"Merchant Type Analytics",height:k?"300px":"400px",children:(0,Ie.jsx)(Lp,{data:_.merchantTypeAnalytics,animated:!0})}),(0,Ie.jsx)($p,{title:"Monthly Brokerage Earnings",height:k?"300px":"400px",children:(0,Ie.jsx)(Op,{data:_.sales.monthlySales,animated:!0})})]}),L&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:"30px 0 20px 0",color:S.textPrimary,fontSize:"20px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83c\udfc6 Top Performers Analysis"}),(0,Ie.jsxs)("div",{className:"dashboard-analytics-grid",style:{display:"grid",gridTemplateColumns:k?"1fr":"1fr 1fr",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsx)($p,{title:"Top 5 Buyers by Quantity",height:k?"300px":"400px",children:pe.topBuyers?(0,Ie.jsx)(th,{error:pe.topBuyers,title:"Top Buyers Data",onRetry:()=>rr()}):oe.length>0?(0,Ie.jsx)(Fp,{data:oe,animated:!0}):(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No buyer data available"})}),(0,Ie.jsx)($p,{title:"Top Sellers by Quantity",height:k?"300px":"400px",children:pe.topSellers?(0,Ie.jsx)(th,{error:pe.topSellers,title:"Top Sellers Data",onRetry:()=>rr()}):(null===re||void 0===re||null===(d=re.topSellersByQuantity)||void 0===d?void 0:d.length)>0?(0,Ie.jsx)(Wp,{data:re.topSellersByQuantity,animated:!0}):(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No seller data available"})})]}),(0,Ie.jsxs)("div",{className:"dashboard-analytics-grid",style:{display:"grid",gridTemplateColumns:k?"1fr":"2fr 1fr",gap:k?"16px":"20px",marginBottom:"30px"},children:[(0,Ie.jsx)($p,{title:"Top 5 Merchants by Brokerage",height:k?"300px":"400px",children:pe.topMerchants?(0,Ie.jsx)(th,{error:pe.topMerchants,title:"Top Merchants Data",onRetry:()=>rr()}):ie.length>0?(0,Ie.jsx)(Up,{data:ie,animated:!0}):(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No merchant data available"})}),(0,Ie.jsx)($p,{title:"Brokerage Distribution",height:k?"300px":"400px",children:pe.topMerchants?(0,Ie.jsx)(th,{error:pe.topMerchants,title:"Brokerage Distribution",onRetry:()=>rr()}):ie.length>0?(0,Ie.jsx)(Hp,{data:ie,animated:!0}):(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No brokerage data available"})})]})]}),F&&$&&(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),marginBottom:"30px",transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("h3",{style:{margin:"0 0 20px 0",color:S.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:["\ud83d\udcca Financial Year Comparison",z&&M&&(0,Ie.jsxs)("span",{style:{fontSize:"14px",fontWeight:"normal",color:S.textSecondary},children:["(",z.financialYearName," vs ",M.financialYearName,")"]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,Ie.jsxs)("div",{style:{padding:"16px",backgroundColor:S.background,borderRadius:"8px",border:"1px solid ".concat(S.border)},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Sales Change"}),(0,Ie.jsxs)("p",{style:{margin:0,color:$.salesChange>=0?S.success:S.error,fontSize:"18px",fontWeight:"600"},children:[$.salesChange>=0?"+":"",$.salesChange,"%"]})]}),(0,Ie.jsxs)("div",{style:{padding:"16px",backgroundColor:S.background,borderRadius:"8px",border:"1px solid ".concat(S.border)},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Quantity Change"}),(0,Ie.jsxs)("p",{style:{margin:0,color:$.quantityChange>=0?S.success:S.error,fontSize:"18px",fontWeight:"600"},children:[$.quantityChange>=0?"+":"",$.quantityChange,"%"]})]}),(0,Ie.jsxs)("div",{style:{padding:"16px",backgroundColor:S.background,borderRadius:"8px",border:"1px solid ".concat(S.border)},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Transactions Change"}),(0,Ie.jsxs)("p",{style:{margin:0,color:$.transactionsChange>=0?S.success:S.error,fontSize:"18px",fontWeight:"600"},children:[$.transactionsChange>=0?"+":"",$.transactionsChange,"%"]})]}),(0,Ie.jsxs)("div",{style:{padding:"16px",backgroundColor:S.background,borderRadius:"8px",border:"1px solid ".concat(S.border)},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Brokerage Change"}),(0,Ie.jsxs)("p",{style:{margin:0,color:$.brokerageChange>=0?S.success:S.error,fontSize:"18px",fontWeight:"600"},children:[$.brokerageChange>=0?"+":"",$.brokerageChange,"%"]})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"City-wise Performance"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:"#f8fafc"},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:"City"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #e5e7eb"},children:"Buyers"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #e5e7eb"},children:"Sellers"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #e5e7eb"},children:"Volume (Tons)"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #e5e7eb"},children:"Value"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #e5e7eb"},children:"Avg Price"})]})}),(0,Ie.jsx)("tbody",{children:_.cityAnalytics.map(((e,t)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #f1f5f9"},children:e.city}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #f1f5f9"},children:e.buyers}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #f1f5f9"},children:e.sellers}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #f1f5f9"},children:Br(e.totalVolume)}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #f1f5f9"},children:Pr(e.totalValue)}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #f1f5f9"},children:["\u20b9",e.avgPrice]})]},t)))})]})})]})]}):L?(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"40px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),textAlign:"center",marginBottom:"30px"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\u26a0\ufe0f"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.error},children:"Failed to Load Analytics Data"}),(0,Ie.jsx)("p",{style:{margin:"0 0 16px 0",color:S.textSecondary},children:"Unable to fetch real analytics data from the server. Please check your connection and try again."}),(0,Ie.jsx)("button",{onClick:()=>z&&Xt(),style:{padding:"8px 16px",border:"1px solid ".concat(S.primary),borderRadius:"6px",backgroundColor:S.primary,color:"white",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},children:"Retry"})]}):null}),"payments"===T&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"12px",padding:"24px",marginBottom:"20px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udcca Payment Dashboard"}),(0,Ie.jsx)("button",{onClick:or,disabled:De,style:{padding:"8px 16px",border:"1px solid ".concat(S.border),borderRadius:"6px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",cursor:De?"not-allowed":"pointer",opacity:De?.6:1,transition:"all 0.2s ease"},children:De?"\ud83d\udd04 Loading...":"\ud83d\udd04 Refresh Stats"})]}),(0,Ie.jsx)(nh,{stats:ze,loading:De,onRefresh:or})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"12px",padding:"0",marginBottom:"20px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsx)("div",{className:"payment-tabs",style:{display:"flex",borderBottom:"1px solid ".concat(S.borderLight),overflowX:"auto",WebkitOverflowScrolling:"touch"},children:[{id:"brokerage",label:"Brokerage Payments",icon:"\ud83d\udcb0"},{id:"pending",label:"Pending Payments",icon:"\u23f3"},{id:"receivable",label:"Receivable Payments",icon:"\ud83d\udcb8"}].map((e=>(0,Ie.jsxs)("button",{onClick:()=>xe(e.id),className:"payment-tab",style:{padding:k?"12px 16px":"16px 24px",border:"none",backgroundColor:"transparent",color:ge===e.id?S.buttonPrimary:S.textSecondary,fontWeight:ge===e.id?"600":"400",borderBottom:ge===e.id?"2px solid ".concat(S.buttonPrimary):"2px solid transparent",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap",minWidth:"fit-content",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:t=>{ge!==e.id&&(t.currentTarget.style.color=S.textPrimary,t.currentTarget.style.backgroundColor=S.hoverBgLight)},onMouseLeave:t=>{ge!==e.id&&(t.currentTarget.style.color=S.textSecondary,t.currentTarget.style.backgroundColor="transparent")},children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),e.label]},e.id)))})}),"brokerage"===ge&&(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:S.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:["\ud83d\udcb0 Brokerage Payments (",cr().length,")"]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:(0,Ie.jsxs)("span",{style:{fontSize:"12px",color:S.textSecondary,display:"flex",alignItems:"center",gap:"4px"},children:["Total Pending: \u20b9",cr().reduce(((e,t)=>e+t.pendingAmount),0).toLocaleString()]})})]}),(0,Ie.jsxs)("div",{className:"search-container",style:{marginBottom:"20px",position:"relative"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:S.inputBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",padding:"8px 12px",transition:"all 0.2s ease"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"16px"},children:"\ud83d\udd0d"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search by firm name...",value:Oe,onChange:e=>{Fe(e.target.value),Qe(!0)},onFocus:()=>Qe(!0),style:{border:"none",outline:"none",backgroundColor:"transparent",color:S.textPrimary,fontSize:"14px",flex:1,fontFamily:"inherit"}}),Oe&&(0,Ie.jsx)("button",{onClick:()=>xr("brokerage"),style:{background:"none",border:"none",color:S.textSecondary,cursor:"pointer",fontSize:"16px",padding:"0",display:"flex",alignItems:"center"},children:"\xd7"})]}),qe&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:S.cardBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",boxShadow:S.shadow,zIndex:10,maxHeight:"200px",overflowY:"auto"},children:[hr(Oe).map(((e,t)=>(0,Ie.jsx)("div",{onClick:()=>gr(e,"brokerage"),style:{padding:"12px",cursor:"pointer",borderBottom:t<hr(Oe).length-1?"1px solid ".concat(S.borderLight):"none",color:S.textPrimary,transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor=S.hoverBackground,onMouseLeave:e=>e.target.style.backgroundColor="transparent",children:e},t))),0===hr(Oe).length&&(0,Ie.jsx)("div",{style:{padding:"12px",color:S.textSecondary,fontStyle:"italic"},children:"No firms found"})]})]}),(0,Ie.jsx)("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:k?"800px":"auto"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Firm Name"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Total Bags"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Rate (\u20b9/bag)"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Net Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Paid Amount"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Pending Amount"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Status"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:cr().map((e=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:S.textPrimary},children:e.firmName}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:S.textSecondary},children:[e.ownerName," \u2022 ",e.city]})]})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:e.totalBags||e.soldBags+e.boughtBags||0}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:["\u20b9",e.brokerageRate]}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:["\u20b9",e.netBrokerage.toLocaleString()]}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.success},children:["\u20b9",e.paidAmount.toLocaleString()]}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:e.pendingAmount>0?S.error:S.success},children:["\u20b9",e.pendingAmount.toLocaleString()]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:jr(e.status),color:vr(e.status)},children:e.status.replace("_"," ")})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[(0,Ie.jsx)("button",{onClick:()=>fr(e,"brokerage"),style:{padding:"4px 8px",border:"1px solid ".concat(S.info),borderRadius:"4px",backgroundColor:S.infoBg,color:S.info,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:"View Details"}),e.pendingAmount>0&&(0,Ie.jsx)("button",{onClick:()=>mr(e),style:{padding:"4px 8px",border:"1px solid ".concat(S.success),borderRadius:"4px",backgroundColor:S.successBg,color:S.success,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:"Add Payment"})]})})]},e.id)))})]})})]}),"pending"===ge&&(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:S.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:["\u23f3 Pending Payments (",ur().length,")"]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:(0,Ie.jsxs)("span",{style:{fontSize:"12px",color:S.textSecondary,display:"flex",alignItems:"center",gap:"4px"},children:["Total Pending: \u20b9",ur().reduce(((e,t)=>e+t.totalPendingAmount),0).toLocaleString()]})})]}),(0,Ie.jsxs)("div",{className:"search-container",style:{marginBottom:"20px",position:"relative"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:S.inputBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",padding:"8px 12px",transition:"all 0.2s ease"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"16px"},children:"\ud83d\udd0d"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search by buyer firm name...",value:We,onChange:e=>{He(e.target.value),Ge(!0)},onFocus:()=>Ge(!0),style:{border:"none",outline:"none",backgroundColor:"transparent",color:S.textPrimary,fontSize:"14px",flex:1,fontFamily:"inherit"}}),We&&(0,Ie.jsx)("button",{onClick:()=>xr("pending"),style:{background:"none",border:"none",color:S.textSecondary,cursor:"pointer",fontSize:"16px",padding:"0",display:"flex",alignItems:"center"},children:"\xd7"})]}),$e&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:S.cardBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",boxShadow:S.shadow,zIndex:10,maxHeight:"200px",overflowY:"auto"},children:[hr(We).map(((e,t)=>(0,Ie.jsx)("div",{onClick:()=>gr(e,"pending"),style:{padding:"12px",cursor:"pointer",borderBottom:t<hr(We).length-1?"1px solid ".concat(S.borderLight):"none",color:S.textPrimary,transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor=S.hoverBackground,onMouseLeave:e=>e.target.style.backgroundColor="transparent",children:e},t))),0===hr(We).length&&(0,Ie.jsx)("div",{style:{padding:"12px",color:S.textSecondary,fontStyle:"italic"},children:"No firms found"})]})]}),(0,Ie.jsx)("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:k?"800px":"auto"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Buyer Firm"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Transactions"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Total Amount"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Oldest Due"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Status"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:ur().map((e=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:S.textPrimary},children:e.buyerFirm}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:S.textSecondary},children:[e.buyerOwner," \u2022 ",e.buyerCity]})]})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:e.transactionCount}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.error},children:["\u20b9",e.totalPendingAmount.toLocaleString()]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textSecondary},children:uh(e.oldestTransactionDate)}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:jr(e.status),color:vr(e.status)},children:e.status.replace("_"," ")})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("button",{onClick:()=>fr(e,"pending"),style:{padding:"4px 8px",border:"1px solid ".concat(S.info),borderRadius:"4px",backgroundColor:S.infoBg,color:S.info,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:"View Details"})})]},e.id)))})]})})]}),"receivable"===ge&&(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:S.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:["\ud83d\udcb8 Receivable Payments (",pr().length,")"]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:(0,Ie.jsxs)("span",{style:{fontSize:"12px",color:S.textSecondary,display:"flex",alignItems:"center",gap:"4px"},children:["Total Receivable: \u20b9",pr().reduce(((e,t)=>e+t.totalReceivableAmount),0).toLocaleString()]})})]}),(0,Ie.jsxs)("div",{className:"search-container",style:{marginBottom:"20px",position:"relative"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:S.inputBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",padding:"8px 12px",transition:"all 0.2s ease"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"16px"},children:"\ud83d\udd0d"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search by seller firm name...",value:Ve,onChange:e=>{Ye(e.target.value),Xe(!0)},onFocus:()=>Xe(!0),style:{border:"none",outline:"none",backgroundColor:"transparent",color:S.textPrimary,fontSize:"14px",flex:1,fontFamily:"inherit"}}),Ve&&(0,Ie.jsx)("button",{onClick:()=>xr("receivable"),style:{background:"none",border:"none",color:S.textSecondary,cursor:"pointer",fontSize:"16px",padding:"0",display:"flex",alignItems:"center"},children:"\xd7"})]}),Ke&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:S.cardBackground,border:"1px solid ".concat(S.border),borderRadius:"8px",boxShadow:S.shadow,zIndex:10,maxHeight:"200px",overflowY:"auto"},children:[hr(Ve).map(((e,t)=>(0,Ie.jsx)("div",{onClick:()=>gr(e,"receivable"),style:{padding:"12px",cursor:"pointer",borderBottom:t<hr(Ve).length-1?"1px solid ".concat(S.borderLight):"none",color:S.textPrimary,transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor=S.hoverBackground,onMouseLeave:e=>e.target.style.backgroundColor="transparent",children:e},t))),0===hr(Ve).length&&(0,Ie.jsx)("div",{style:{padding:"12px",color:S.textSecondary,fontStyle:"italic"},children:"No firms found"})]})]}),(0,Ie.jsx)("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:k?"800px":"auto"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Seller Firm"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Transactions"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Total Amount"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Oldest Due"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Status"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:pr().map((e=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:S.textPrimary},children:e.sellerFirm}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:S.textSecondary},children:[e.sellerOwner," \u2022 ",e.sellerCity]})]})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:e.transactionCount}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.success},children:["\u20b9",e.totalReceivableAmount.toLocaleString()]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textSecondary},children:uh(e.oldestTransactionDate)}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:jr(e.status),color:vr(e.status)},children:e.status.replace("_"," ")})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("button",{onClick:()=>fr(e,"receivable"),style:{padding:"4px 8px",border:"1px solid ".concat(S.info),borderRadius:"4px",backgroundColor:S.infoBg,color:S.info,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:"View Details"})})]},e.id)))})]})})]})]}),"merchants"===T&&(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{className:"merchant-search-container",style:{display:"flex",justifyContent:"space-between",alignItems:k?"flex-start":"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:S.textPrimary},children:["Merchant Directory (",Array.isArray(K)?K.length:0,")"]}),(0,Ie.jsxs)("div",{className:"merchant-actions",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,Ie.jsx)(Re,{to:"/city-merchants",style:{padding:"8px 16px",border:"1px solid ".concat(S.info),borderRadius:"6px",backgroundColor:S.infoBg,color:S.info,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",textDecoration:"none",display:"inline-block"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.info,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.infoBg,e.currentTarget.style.color=S.info},children:"\ud83c\udfd9\ufe0f Merchants in City"}),(0,Ie.jsx)("button",{onClick:Zt,disabled:J,style:{padding:"8px 16px",border:"1px solid ".concat(S.border),borderRadius:"6px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",cursor:J?"not-allowed":"pointer",opacity:J?.6:1,transition:"all 0.2s ease"},onMouseEnter:e=>{J||(e.currentTarget.style.backgroundColor=S.hoverBg)},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground},children:J?"\ud83d\udd04 Loading...":"\ud83d\udd04 Refresh"}),(0,Ie.jsx)("button",{onClick:()=>{st(!0),ht(""),dt(null)},style:{padding:"8px 16px",border:"1px solid ".concat(S.success),borderRadius:"6px",backgroundColor:S.successBg,color:S.success,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.success,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.successBg,e.currentTarget.style.color=S.success},children:"\ud83d\udcca Bulk Upload"}),(0,Ie.jsx)(Re,{to:"/create-merchant",className:"btn btn-primary",style:{textDecoration:"none"},children:"+ Add New Merchant"})]})]}),(0,Ie.jsx)("div",{style:{marginBottom:"20px"},children:(0,Ie.jsx)("input",{type:"text",placeholder:"Search merchants by firm name or city...",value:et,onChange:e=>tt(e.target.value),className:"merchant-search-input",style:{width:"100%",padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",fontSize:k?"16px":"14px",outline:"none",backgroundColor:S.cardBackground,color:S.textPrimary,transition:"border-color 0.2s ease"},onFocus:e=>e.target.style.borderColor=S.primary,onBlur:e=>e.target.style.borderColor=S.border})}),(0,Ie.jsxs)("div",{className:"merchant-table-container",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:[(0,Ie.jsxs)("table",{className:"merchant-table",style:{width:"100%",borderCollapse:"collapse",minWidth:k?"800px":"auto"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Firm Name"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"City"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Total Bags"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Rate (\u20b9/bag)"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Total Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:(Array.isArray(K)?K:[]).filter((e=>{var t,r;if(!et)return!0;const n=et.toLowerCase();return(null===(t=e.firmName)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.city)||void 0===r?void 0:r.toLowerCase().includes(n))})).map((e=>{var t,r;return(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("p",{style:{margin:0,fontWeight:"500",color:S.textPrimary},children:e.firmName})}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("p",{style:{margin:0,color:S.textPrimary},children:e.city})}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:Br((e.totalBagsSold||0)+(e.totalBagsBought||0))}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:["\u20b9",(null===(t=e.brokeragePerBag)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.success},children:["\u20b9",(null===(r=e.totalPayableBrokerage)||void 0===r?void 0:r.toFixed(2))||"0.00"]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("button",{onClick:()=>(e=>{Ht(e.userId),Wt(!0)})(e),style:{padding:"4px 8px",border:"1px solid ".concat(S.info),borderRadius:"4px",backgroundColor:S.infoBg,color:S.info,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.info,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.infoBg,e.currentTarget.style.color=S.info},children:"View"})})]},e.userId)}))})]}),!J&&(!Array.isArray(K)||0===K.length)&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:S.textSecondary},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udc65"}),(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:S.textPrimary},children:"No Merchants Found"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary},children:et?"No merchants match your search criteria.":"Start by adding your first merchant."}),!et&&(0,Ie.jsx)(Re,{to:"/create-merchant",className:"btn btn-primary",style:{textDecoration:"none",marginTop:"16px",display:"inline-block"},children:"+ Add First Merchant"})]}),J&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:S.textSecondary},children:[(0,Ie.jsx)("div",{style:{fontSize:"24px",marginBottom:"16px"},children:"\ud83d\udd04"}),(0,Ie.jsx)("p",{style:{color:S.textPrimary},children:"Loading merchants..."})]})]})]})}),"grainanalytics"===T&&(0,Ie.jsx)("div",{children:(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:(0,Ie.jsx)(rh,{})})}),"allservices"===T&&(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:(0,Ie.jsx)("h2",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udee0\ufe0f All Services"})}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:k?"1fr":"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",marginBottom:"24px"},children:[(0,Ie.jsxs)(Re,{to:"/city-merchants",style:{textDecoration:"none",backgroundColor:S.background,borderRadius:"12px",padding:"24px",border:"1px solid ".concat(S.border),transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=S.shadowHover,e.currentTarget.style.borderColor=S.primary},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none",e.currentTarget.style.borderColor=S.border},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"\ud83c\udfd9\ufe0f"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:"Merchants by City"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px",lineHeight:"1.5"},children:"Browse and search merchants organized by their city location"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,borderRadius:"12px",padding:"24px",border:"1px solid ".concat(S.borderLight),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",opacity:.6},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"\ud83d\udea7"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:"More Services"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textSecondary,fontSize:"14px"},children:"Coming Soon"})]})]})]})}),"addresses"===T&&(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsxs)("div",{className:"address-search-container",style:{display:"flex",justifyContent:"space-between",alignItems:k?"flex-start":"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:"#1e293b"},children:["Address Management (",Array.isArray(St)?St.length:0,")"]}),(0,Ie.jsxs)("div",{className:"address-actions",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:tr,style:{padding:"8px 16px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="white"},children:"\ud83d\udd04 Refresh"}),(0,Ie.jsx)(Re,{to:"/route-explorer",style:{textDecoration:"none",padding:"8px 16px",border:"1px solid ".concat(S.info),borderRadius:"6px",backgroundColor:S.infoBg,color:S.info,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"6px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.info,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.infoBg,e.currentTarget.style.color=S.info},children:"\ud83d\uddfa\ufe0f Route Explorer"}),(0,Ie.jsx)("button",{onClick:()=>Bt(!0),style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:"#10b981",color:"white",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#059669"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#10b981"},children:"\u2795 Add Address"})]})]}),(0,Ie.jsx)("div",{className:"addresses-grid",style:{marginBottom:"20px"},children:(()=>{const e={};return(Array.isArray(St)?St:[]).forEach((t=>{const r=t.city||"Unknown City";e[r]||(e[r]=[]),e[r].push(t)})),Object.keys(e).length>0?(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(e).map((e=>{let[t,r]=e;return(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,border:"1px solid ".concat(S.border),borderRadius:"12px",overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>(e=>{At((t=>Ue(Ue({},t),{},{[e]:!t[e]})))})(t),children:[(0,Ie.jsxs)("div",{style:{padding:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("h4",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:["\ud83c\udfd9\ufe0f ",t]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0 0 0",fontSize:"14px",opacity:.9},children:[r.length," address",1!==r.length?"es":""]})]}),(0,Ie.jsx)("span",{style:{fontSize:"20px",transition:"transform 0.3s ease",transform:Rt[t]?"rotate(180deg)":"rotate(0deg)"},children:"\u25bc"})]}),Rt[t]&&(0,Ie.jsx)("div",{style:{padding:"16px"},children:(0,Ie.jsx)("div",{style:{display:"grid",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:r.map(((e,t)=>(0,Ie.jsxs)("div",{onClick:t=>{t.stopPropagation(),(e=>{Tt(e),Bt(!0)})(e)},style:{backgroundColor:S.background,border:"1px solid ".concat(S.borderLight),borderRadius:"8px",padding:"12px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBgLight,e.currentTarget.style.transform="scale(1.02)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.background,e.currentTarget.style.transform="scale(1)"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("p",{style:{margin:"0 0 4px 0",fontWeight:"600",color:S.textPrimary},children:["\ud83d\udccd ",e.area||"Unknown Area"]}),(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"12px",color:S.textSecondary},children:["PIN: ",e.pincode||"N/A"]})]}),(0,Ie.jsx)("span",{style:{fontSize:"16px",color:S.textSecondary},children:"\u2192"})]},e.addressId||t)))})})]},t)}))}):(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",color:S.textSecondary},children:[(0,Ie.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"\ud83c\udfe0"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.textPrimary},children:"No Addresses Found"}),(0,Ie.jsx)("p",{style:{margin:0,fontSize:"14px"},children:"Start by adding your first address to manage locations."})]})})()})]})}),"profile"===T&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{backgroundColor:S.cardBackground,padding:"32px",borderRadius:"16px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),marginBottom:"24px",transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px",flexDirection:k?"column":"row",textAlign:k?"center":"left"},children:[(0,Ie.jsx)("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px",color:"white",fontWeight:"bold",boxShadow:S.shadowHover,flexShrink:0},children:((null===C||void 0===C?void 0:C.brokerName)||"B").charAt(0).toUpperCase()}),(0,Ie.jsxs)("div",{style:{flex:1},children:[(0,Ie.jsx)("h2",{style:{margin:"0 0 8px 0",color:S.textPrimary,fontSize:"32px",fontWeight:"700"},children:(null===C||void 0===C?void 0:C.brokerName)||"Broker User"}),(0,Ie.jsx)("p",{style:{margin:"0 0 12px 0",color:S.textSecondary,fontSize:"18px"},children:(null===C||void 0===C?void 0:C.brokerName)||"BrokerHub"}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:k?"center":"flex-start"},children:[(0,Ie.jsx)("span",{style:{backgroundColor:S.successBg,color:S.success,padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"500"},children:"\u2705 Active Broker"}),(0,Ie.jsxs)("span",{style:{backgroundColor:S.infoBg,color:S.info,padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"500"},children:["\ud83d\udce7 ",(null===C||void 0===C?void 0:C.email)||"N/A"]})]})]}),(0,Ie.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",minWidth:"140px"},children:(0,Ie.jsx)("button",{onClick:async()=>{try{console.log("Refreshing broker profile data..."),alert("Profile data refreshed from current session!")}catch(e){console.error("Error refreshing broker data:",e),alert("Failed to refresh broker profile: ".concat(e.message||"Server error occurred"))}},style:{padding:"8px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg,e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="translateY(0)"},children:"\ud83d\udd04 Refresh Profile"})})]})}),(0,Ie.jsxs)("div",{className:"dashboard-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:k?"16px":"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:"\ud83d\udcca Broker Information"})}),(0,Ie.jsx)("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:(0,Ie.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Broker ID:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:(null===C||void 0===C?void 0:C.brokerId)||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Name:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:(null===C||void 0===C?void 0:C.brokerName)||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Username:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:(null===C||void 0===C?void 0:C.userName)||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Firm Name:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:(null===C||void 0===C?void 0:C.brokerName)||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Phone:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:(null===C||void 0===C?void 0:C.phoneNumber)||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Total Brokerage:"}),(0,Ie.jsx)("span",{style:{color:S.success,fontWeight:"700",fontSize:"16px"},children:Pr((null===C||void 0===C?void 0:C.totalBrokerage)||0)})]})]})})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 20px 0",color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:"\ud83c\udfe0 Address & Banking"}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"8px 12px",backgroundColor:S.background,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udccd"}),(0,Ie.jsx)("span",{style:{fontWeight:"600",color:S.textPrimary},children:"Address Information"})]}),null!==C&&void 0!==C&&C.address?(0,Ie.jsxs)("div",{style:{marginLeft:"12px",display:"grid",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"City:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.address.city||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Area:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.address.area||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Pincode:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.address.pincode||"N/A"})]})]}):(0,Ie.jsx)("p",{style:{margin:"0 0 0 12px",color:S.textMuted,fontStyle:"italic"},children:"No address information available"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"8px 12px",backgroundColor:S.background,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udfe6"}),(0,Ie.jsx)("span",{style:{fontWeight:"600",color:S.textPrimary},children:"Banking Details"})]}),null!==C&&void 0!==C&&C.bankDetails?(0,Ie.jsxs)("div",{style:{marginLeft:"12px",display:"grid",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Bank:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.bankDetails.bankName||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Branch:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.bankDetails.branch||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Account:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.bankDetails.accountNumber||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"IFSC:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:C.bankDetails.ifscCode||"N/A"})]})]}):(0,Ie.jsx)("p",{style:{margin:"0 0 0 12px",color:S.textMuted,fontStyle:"italic"},children:"No banking details available"})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:S.shadow,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 20px 0",color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:"\u2699\ufe0f Settings & Actions"}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px",padding:"16px",backgroundColor:S.background,borderRadius:"8px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:S.textPrimary,fontSize:"14px",fontWeight:"600"},children:"\ud83d\udcc5 Current Financial Year"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"14px"},children:"Active FY:"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsxs)("select",{value:qt||"",onChange:e=>Qt(e.target.value),style:{padding:"4px 8px",border:"1px solid ".concat(S.border),borderRadius:"4px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",cursor:"pointer",minWidth:"120px"},children:[(0,Ie.jsx)("option",{value:"",children:"Select Financial Year"}),Vt.map((e=>(0,Ie.jsx)("option",{value:e.financialYearName,children:e.financialYearName},e.financialYearId)))]}),(0,Ie.jsx)("button",{onClick:async()=>{if(qt){Gt(!0);try{const e=Vt.find((e=>e.financialYearName===qt)),t=null===e||void 0===e?void 0:e.yearId;if(!t)return void alert("Financial Year ID not found");console.log("Sending financialYearId to API:",t,typeof t),await Vn(parseInt(t)),alert("Financial Year set to ".concat(qt))}catch(e){console.error("Error setting financial year:",e),alert("Failed to set financial year")}finally{Gt(!1)}}},disabled:!qt||$t,style:{padding:"4px 12px",border:"none",borderRadius:"4px",backgroundColor:S.primary||"#007bff",color:"white",fontSize:"12px",cursor:!qt||$t?"not-allowed":"pointer",opacity:!qt||$t?.6:1},children:$t?"Setting...":"Set"})]})]}),(0,Ie.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:S.textSecondary,fontStyle:"italic"},children:"All new transactions will use this financial year"})]}),(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"\u26a1 Quick Actions"}),(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ie.jsxs)("button",{onClick:()=>alert("Update Profile functionality coming soon!"),style:{padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg,e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="translateX(0)"},children:[(0,Ie.jsx)("span",{children:"\u270f\ufe0f"}),"Update Profile"]}),(0,Ie.jsxs)(Re,{to:"/change-password",style:{textDecoration:"none",padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg,e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="translateX(0)"},children:[(0,Ie.jsx)("span",{children:"\ud83d\udd10"}),"Change Password"]}),(0,Ie.jsxs)(Re,{to:"/verify-account",style:{textDecoration:"none",padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg,e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="translateX(0)"},children:[(0,Ie.jsx)("span",{children:"\u2705"}),"Verify Account"]})]})]})]})]}),"products"===T&&(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsxs)("div",{className:"product-search-container",style:{display:"flex",justifyContent:"space-between",alignItems:k?"flex-start":"center",marginBottom:"20px",flexDirection:k?"column":"row",gap:k?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:"#1e293b"},children:["Product Catalog (",Array.isArray(gt)?gt.length:0,")"]}),(0,Ie.jsxs)("div",{className:"product-actions",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:er,style:{padding:"8px 16px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:"pointer"},children:"\ud83d\udd04 Refresh"}),(0,Ie.jsx)("button",{onClick:()=>Ot(!0),style:{padding:"8px 16px",border:"1px solid ".concat(S.success),borderRadius:"6px",backgroundColor:S.successBg,color:S.success,fontSize:"14px",cursor:"pointer"},children:"\ud83d\udcca Bulk Upload"}),(0,Ie.jsx)("button",{onClick:()=>It(!0),className:"btn btn-primary",children:"+ Add New Product"})]})]}),(0,Ie.jsx)("div",{style:{marginBottom:"20px"},children:(0,Ie.jsx)("input",{type:"text",placeholder:"Search products by name, quality, or price...",value:vt,onChange:e=>jt(e.target.value),className:"product-search-input",style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:k?"16px":"14px",outline:"none"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb"})}),(0,Ie.jsx)("div",{className:"products-grid",style:{marginBottom:"20px"},children:(()=>{const e=(e=>{const t={};return e.forEach((e=>{const r=e.productName||"Unknown Product";t[r]||(t[r]={name:r,products:[],totalQuantity:0,avgPrice:0,qualityCount:0,imgLink:e.imgLink||null}),t[r].products.push(e),t[r].totalQuantity+=e.quantity||0})),Object.values(t).forEach((e=>{const t=e.products.reduce(((e,t)=>e+(t.price||0)),0);e.avgPrice=e.products.length>0?t/e.products.length:0;const r=[...new Set(e.products.map((e=>e.quality||"Standard")))];e.qualityCount=r.length})),t})((Array.isArray(gt)?gt:[]).filter((e=>{var t,r,n;if(!vt)return!0;const o=vt.toLowerCase();return(null===(t=e.productName)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(r=e.quality)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(n=e.price)||void 0===n?void 0:n.toString().includes(o))})));return(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:k?"1fr":"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:Object.entries(e).map((e=>{let[t,r]=e;const n=kt[t],o=r.imgLink&&""!==r.imgLink.trim();return(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,border:"1px solid ".concat(S.border),borderRadius:"16px",overflow:"hidden",boxShadow:S.shadow,transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=S.shadowHover},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=S.shadow},onClick:()=>(e=>{wt((t=>Ue(Ue({},t),{},{[e]:!t[e]})))})(t),children:[(0,Ie.jsxs)("div",{style:{height:"180px",background:o?"linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.3)), url(".concat(r.imgLink,")"):"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[!o&&(0,Ie.jsx)("div",{style:{fontSize:"64px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:Nr(t)}),(0,Ie.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",color:"#374151",transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"},children:"\u25bc"})]}),(0,Ie.jsxs)("div",{style:{padding:"20px"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:S.textPrimary,fontSize:"18px",fontWeight:"600",lineHeight:"1.3"},children:t}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Ie.jsxs)("span",{style:{fontSize:"14px",color:S.textSecondary,backgroundColor:S.background,padding:"4px 8px",borderRadius:"6px"},children:[r.qualityCount," ",1===r.qualityCount?"Quality":"Qualities"]}),(0,Ie.jsxs)("span",{style:{fontSize:"14px",color:S.textSecondary,backgroundColor:S.background,padding:"4px 8px",borderRadius:"6px"},children:[r.products.length," ",1===r.products.length?"Variant":"Variants"]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"12px",color:S.textMuted,marginBottom:"2px"},children:"Total Quantity"}),(0,Ie.jsxs)("div",{style:{fontSize:"16px",fontWeight:"600",color:S.textPrimary},children:[Br(r.totalQuantity)," kg"]})]}),(0,Ie.jsxs)("div",{style:{textAlign:"right"},children:[(0,Ie.jsx)("div",{style:{fontSize:"12px",color:S.textMuted,marginBottom:"2px"},children:"Avg Price"}),(0,Ie.jsxs)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:["\u20b9",Math.round(r.avgPrice)]})]})]})]}),n&&(0,Ie.jsxs)("div",{style:{borderTop:"1px solid ".concat(S.border),backgroundColor:S.background,padding:"16px 20px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 12px 0",color:S.textPrimary,fontSize:"14px",fontWeight:"600"},children:"Available Variants"}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:r.products.map(((e,t)=>(0,Ie.jsxs)("div",{onClick:t=>{t.stopPropagation(),bt(e),mt(!0)},style:{backgroundColor:S.cardBackground,border:"1px solid ".concat(S.borderLight),borderRadius:"6px",padding:"8px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center",minHeight:"60px",display:"flex",flexDirection:"column",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBgLight,e.currentTarget.style.transform="scale(1.02)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="scale(1)"},children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",fontWeight:"600",color:S.textPrimary,marginBottom:"2px"},children:e.quality}),(0,Ie.jsxs)("div",{style:{fontSize:"10px",color:S.textSecondary},children:[e.quantity," kg"]})]},t)))})]})]},t)}))})})()}),!J&&(!Array.isArray(gt)||0===gt.length)&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#64748b"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83c\udf3e"}),(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#374151"},children:"No Products Found"}),(0,Ie.jsx)("p",{style:{margin:0},children:vt?"No products match your search criteria.":"Start by adding your first product."}),!vt&&(0,Ie.jsx)("button",{onClick:()=>It(!0),className:"btn btn-primary",style:{marginTop:"16px"},children:"+ Add First Product"})]})]})}),it&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Ie.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:"#1e293b"},children:"Bulk Upload Merchants"}),(0,Ie.jsx)("button",{onClick:Cr,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:"\xd7"})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[(0,Ie.jsxs)("div",{style:{flex:1,marginRight:"16px"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 8px 0",color:"#374151",fontSize:"14px",fontWeight:"500"},children:"Upload Excel File (.xlsx format only)"}),(0,Ie.jsx)("p",{style:{margin:0,color:"#64748b",fontSize:"12px",lineHeight:"1.4"},children:"Upload an Excel file containing merchant data. Download the template first to see the required format and sample data."})]}),(0,Ie.jsx)("button",{onClick:async()=>{try{console.log("Downloading Excel template from backend..."),ht("\ud83d\udce5 Downloading template...");const e=await Bn(),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="user_bulk_upload_template.xlsx",r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t),ht("\u2705 Template downloaded successfully!"),setTimeout((()=>{ht("")}),3e3)}catch(e){console.error("Error downloading template:",e),ht("\u274c Failed to download template. Please try again."),setTimeout((()=>{ht("")}),5e3)}},style:{padding:"8px 12px",border:"1px solid #3b82f6",borderRadius:"6px",backgroundColor:"#eff6ff",color:"#3b82f6",fontSize:"12px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"500"},children:"\ud83d\udce5 Download Template"})]}),(0,Ie.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"#f8fafc",borderRadius:"4px",border:"1px solid #e2e8f0",fontSize:"11px",color:"#475569"},children:[(0,Ie.jsx)("strong",{children:"Required columns:"})," userType, gstNumber, firmName, ownerName, city, area, pincode, email, bankName, accountNumber, ifscCode, branch, phoneNumbers, brokerageRate, shopNumber, byProduct"]})]}),(0,Ie.jsxs)("div",{style:{border:"2px dashed #d1d5db",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:"#f9fafb"},children:[(0,Ie.jsx)("div",{style:{marginBottom:"12px",fontSize:"48px"},children:"\ud83d\udcca"}),(0,Ie.jsx)("input",{type:"file",accept:".xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:e=>{const t=e.target.files[0];if(t){if(!("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||t.name.toLowerCase().endsWith(".xlsx")))return void ht("\u274c Please select a valid Excel file (.xlsx format only)");if(t.size>10485760)return void ht("\u274c File size should be less than 10MB");dt(t),ht("")}},style:{display:"none"},id:"excel-upload"}),(0,Ie.jsx)("label",{htmlFor:"excel-upload",style:{display:"inline-block",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"14px",border:"none"},children:"Choose Excel File"}),(0,Ie.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#64748b"},children:"Supported format: .xlsx only (Max size: 10MB)"})]}),lt&&(0,Ie.jsxs)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#eff6ff",borderRadius:"6px",border:"1px solid #bfdbfe"},children:[(0,Ie.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#1e40af"},children:[(0,Ie.jsx)("strong",{children:"Selected file:"})," ",lt.name]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#64748b"},children:["Size: ",(lt.size/1024/1024).toFixed(2)," MB"]})]}),pt&&(0,Ie.jsx)("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"6px",backgroundColor:pt.includes("\u2705")||pt.includes("\ud83d\udcca")?"#f0fdf4":pt.includes("\ud83d\udce5")?"#eff6ff":"#fef2f2",border:"1px solid ".concat(pt.includes("\u2705")||pt.includes("\ud83d\udcca")?"#bbf7d0":pt.includes("\ud83d\udce5")?"#bfdbfe":"#fecaca"),color:pt.includes("\u2705")||pt.includes("\ud83d\udcca")?"#166534":pt.includes("\ud83d\udce5")?"#1e40af":"#dc2626",fontSize:"14px",whiteSpace:"pre-line",maxHeight:"200px",overflowY:"auto"},children:pt})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:Cr,disabled:ct,style:{padding:"8px 16px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:ct?"not-allowed":"pointer",opacity:ct?.6:1},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(lt){ut(!0),ht("\u23f3 Uploading and processing file...");try{const e=await Pn(lt);if(console.log("Upload result:",e),e.totalRecords){let t="\ud83d\udcca Upload Complete!\n";t+="Total Records: ".concat(e.totalRecords,"\n"),t+="\u2705 Successful: ".concat(e.successfulRecords,"\n"),e.failedRecords>0&&(t+="\u274c Failed: ".concat(e.failedRecords,"\n"),e.errorMessages&&e.errorMessages.length>0&&(t+="\nErrors:\n",e.errorMessages.slice(0,5).forEach((e=>{t+="\u2022 ".concat(e,"\n")})),e.errorMessages.length>5&&(t+="... and ".concat(e.errorMessages.length-5," more errors")))),ht(t),e.successfulRecords>0&&setTimeout((()=>{Zt()}),2e3)}else ht("\u2705 File uploaded successfully! Merchant data will be reflected soon.");dt(null),setTimeout((()=>{Cr()}),8e3)}catch(e){console.error("Upload error:",e),e.message?ht("\u274c Upload failed: ".concat(e.message)):ht("string"===typeof e?"\u274c Upload failed: ".concat(e):"\u274c Upload failed. Please check the file format and try again.")}finally{ut(!1)}}else ht("Please select a file to upload")},disabled:!lt||ct,style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:!lt||ct?"#d1d5db":"#10b981",color:"white",fontSize:"14px",cursor:!lt||ct?"not-allowed":"pointer"},children:ct?"\u23f3 Uploading...":"\ud83d\udce4 Upload File"})]})]})}),ot&&rt&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"700px",width:"90%",maxHeight:"85vh",overflowY:"auto",boxShadow:S.shadowModal,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(S.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"white",fontWeight:"bold"},children:(rt.firmName||"M").charAt(0).toUpperCase()}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:rt.firmName||"Merchant Details"}),(0,Ie.jsxs)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:"14px"},children:[rt.userType||"Merchant"," \u2022 ",(null===(c=rt.address)||void 0===c?void 0:c.city)||"Unknown Location"]})]})]}),(0,Ie.jsx)("button",{onClick:kr,style:{background:"none",border:"1px solid ".concat(S.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:S.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.errorBg,e.currentTarget.style.color=S.error,e.currentTarget.style.borderColor=S.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=S.textSecondary,e.currentTarget.style.borderColor=S.border},children:"\xd7"})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:k?"1fr":"1fr 1fr",gap:"24px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udccb"}),(0,Ie.jsx)("h4",{style:{margin:0,color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"Basic Information"})]}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.8",display:"grid",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Firm Name:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.firmName||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Owner Name:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.ownerName||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"User Type:"}),(0,Ie.jsx)("span",{style:{color:"Miller"===rt.userType?S.info:S.success,fontWeight:"600",backgroundColor:"Miller"===rt.userType?S.infoBg:S.successBg,padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:rt.userType||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"GST Number:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.gstNumber||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Email:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.email||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Shop Number:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.shopNumber||"N/A"})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcde"}),(0,Ie.jsx)("h4",{style:{margin:0,color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"Contact & Address"})]}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 8px 0",color:S.textSecondary,fontWeight:"500"},children:"Phone Numbers:"}),rt.phoneNumbers&&rt.phoneNumbers.length>0?(0,Ie.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:rt.phoneNumbers.map(((e,t)=>(0,Ie.jsxs)("span",{style:{color:S.textPrimary,backgroundColor:S.cardBackground,padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontWeight:"500"},children:["\ud83d\udcf1 ",e]},t)))}):(0,Ie.jsx)("p",{style:{margin:0,color:S.textMuted,fontStyle:"italic"},children:"No phone numbers"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 8px 0",color:S.textSecondary,fontWeight:"500"},children:"Address:"}),rt.address?(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"12px",borderRadius:"8px",display:"grid",gap:"4px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"City:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.address.city||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Area:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.address.area||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Pincode:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.address.pincode||"N/A"})]})]}):(0,Ie.jsx)("p",{style:{margin:0,color:S.textMuted,fontStyle:"italic"},children:"No address information"})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83c\udfe6"}),(0,Ie.jsx)("h4",{style:{margin:0,color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"Banking Details"})]}),(0,Ie.jsx)("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:rt.bankDetails?(0,Ie.jsxs)("div",{style:{display:"grid",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Bank Name:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.bankDetails.bankName||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Account Number:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.bankDetails.accountNumber||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"IFSC Code:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.bankDetails.ifscCode||"N/A"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Branch:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"500"},children:rt.bankDetails.branch||"N/A"})]})]}):(0,Ie.jsx)("p",{style:{margin:0,color:S.textMuted,fontStyle:"italic"},children:"No banking details available"})})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcbc"}),(0,Ie.jsx)("h4",{style:{margin:0,color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"Business Details"})]}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.8",display:"grid",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Brokerage Rate:"}),(0,Ie.jsxs)("span",{style:{color:S.warning,fontWeight:"600"},children:[rt.brokerageRate||0,"%"]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Total Bags Sold:"}),(0,Ie.jsx)("span",{style:{color:S.success,fontWeight:"600"},children:Br(rt.totalBagsSold||0)})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Total Bags Bought:"}),(0,Ie.jsx)("span",{style:{color:S.info,fontWeight:"600"},children:Br(rt.totalBagsBought||0)})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Payable Amount:"}),(0,Ie.jsx)("span",{style:{color:S.error,fontWeight:"600"},children:Pr(rt.payableAmount||0)})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Receivable Amount:"}),(0,Ie.jsx)("span",{style:{color:S.success,fontWeight:"600"},children:Pr(rt.receivableAmount||0)})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary},children:"Total Payable Brokerage:"}),(0,Ie.jsx)("span",{style:{color:S.primary,fontWeight:"700",fontSize:"15px"},children:Pr(rt.totalPayableBrokerage||0)})]})]})]})]}),(0,Ie.jsxs)("div",{style:{marginTop:"32px",paddingTop:"20px",borderTop:"1px solid ".concat(S.border),display:"flex",gap:"12px",justifyContent:"flex-end",flexWrap:"wrap"},children:[(0,Ie.jsxs)("button",{onClick:()=>{return e=rt,console.log("Edit merchant:",e),void alert("Edit functionality for ".concat(e.firmName," - Coming soon!"));var e},style:{padding:"10px 20px",border:"1px solid ".concat(S.warning),borderRadius:"8px",backgroundColor:S.warningBg,color:S.warning,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.warning,e.currentTarget.style.color="white",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.warningBg,e.currentTarget.style.color=S.warning,e.currentTarget.style.transform="translateY(0)"},children:[(0,Ie.jsx)("span",{children:"\u270f\ufe0f"}),"Edit Merchant"]}),(0,Ie.jsxs)("button",{onClick:kr,style:{padding:"10px 20px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg,e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground,e.currentTarget.style.transform="translateY(0)"},children:[(0,Ie.jsx)("span",{children:"\u2716\ufe0f"}),"Close"]})]})]})}),ft&&yt&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%",boxShadow:S.shadowModal,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(S.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83c\udf3e"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:yt.productName||"Product Details"}),(0,Ie.jsxs)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:"14px"},children:["Quality: ",yt.quality||"N/A"," \u2022 Quantity: ",yt.quantity||0," kg"]})]})]}),(0,Ie.jsx)("button",{onClick:wr,style:{background:"none",border:"1px solid ".concat(S.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:S.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.errorBg,e.currentTarget.style.color=S.error,e.currentTarget.style.borderColor=S.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=S.textSecondary,e.currentTarget.style.borderColor=S.border},children:"\xd7"})]}),(0,Ie.jsx)("div",{style:{width:"100%",height:"200px",backgroundColor:S.background,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px",fontSize:"64px",backgroundImage:yt.imgLink?"url(".concat(yt.imgLink,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:!yt.imgLink&&Nr(yt.productName)}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#1e293b",fontSize:"20px"},children:yt.productName}),(0,Ie.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"500",backgroundColor:"#dbeafe",color:"#3b82f6"},children:yt.quality})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("p",{style:{margin:"8px 0"},children:[(0,Ie.jsx)("strong",{children:"Product ID:"})," ",yt.productId]}),(0,Ie.jsxs)("p",{style:{margin:"8px 0"},children:[(0,Ie.jsx)("strong",{children:"Quantity:"})," ",yt.quantity," kg"]}),(0,Ie.jsxs)("p",{style:{margin:"8px 0"},children:[(0,Ie.jsx)("strong",{children:"Price:"})," \u20b9",yt.price]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("p",{style:{margin:"8px 0"},children:[(0,Ie.jsx)("strong",{children:"Brokerage:"})," ",yt.productBrokerage,"%"]}),(0,Ie.jsxs)("p",{style:{margin:"8px 0"},children:[(0,Ie.jsx)("strong",{children:"Quality Grade:"})," ",yt.quality]})]})]})]}),(0,Ie.jsxs)("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:()=>(Dt(yt),void Et(!0)),style:{padding:"8px 16px",border:"1px solid ".concat(S.warning),borderRadius:"6px",backgroundColor:S.warningBg,color:S.warning,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.warning,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.warningBg,e.currentTarget.style.color=S.warning},children:"Edit Product"}),(0,Ie.jsx)("button",{onClick:wr,style:{padding:"8px 16px",border:"1px solid ".concat(S.border),borderRadius:"6px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.hoverBg},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.cardBackground},children:"Close"})]})]})}),(0,Ie.jsx)(Vp,{isOpen:Pt,onClose:Sr,address:Nt,onSuccess:tr}),Nt&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:S.shadowModal,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(S.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83c\udfe0"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Address Details"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:"14px"},children:"View address information"})]})]}),(0,Ie.jsx)("button",{onClick:Sr,style:{background:"none",border:"1px solid ".concat(S.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:S.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.errorBg,e.currentTarget.style.color=S.error,e.currentTarget.style.borderColor=S.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=S.textSecondary,e.currentTarget.style.borderColor=S.border},children:"\xd7"})]}),(0,Ie.jsx)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:(0,Ie.jsx)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight),marginBottom:"20px"},children:(0,Ie.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Address ID:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:Nt.addressId})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"City:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:Nt.city})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Area:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:Nt.area})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontWeight:"500"},children:"Pincode:"}),(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontWeight:"600"},children:Nt.pincode})]})]})})}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:()=>{Bt(!0)},style:{padding:"10px 20px",border:"1px solid ".concat(S.warning),borderRadius:"8px",backgroundColor:S.warningBg,color:S.warning,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=S.warning,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.warningBg,e.currentTarget.style.color=S.warning},children:"Edit Address"}),(0,Ie.jsx)("button",{onClick:Sr,style:{padding:"10px 20px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"Close"})]})]})}),(0,Ie.jsx)(Yp,{isOpen:_t,onClose:()=>It(!1),onSuccess:er}),(0,Ie.jsx)(qp,{isOpen:zt,onClose:()=>{Et(!1),Dt(null)},product:Mt,onSuccess:er}),(0,Ie.jsx)(Zp,{isOpen:Lt,onClose:()=>Ot(!1),onSuccess:er}),(0,Ie.jsx)(eh,{isOpen:Ft,onClose:()=>{Wt(!1),Ht(null)},merchantId:Ut}),Se&&ke&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:S.shadowModal,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(S.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"brokerage"===ke.type?"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)":"pending"===ke.type?"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)":"linear-gradient(135deg, #10B981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"brokerage"===ke.type?"\ud83d\udcb0":"pending"===ke.type?"\u23f3":"\ud83d\udcb8"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:"brokerage"===ke.type?"Brokerage Payment Details":"pending"===ke.type?"Pending Payment Details":"Receivable Payment Details"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:"14px"},children:ke.firmName||ke.buyerFirm||ke.sellerFirm})]})]}),(0,Ie.jsx)("button",{onClick:yr,style:{background:"none",border:"1px solid ".concat(S.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:S.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"\xd7"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight),marginBottom:"24px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 20px 0",color:S.textPrimary},children:"Payment Summary"}),"brokerage"===ke.type&&(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h5",{style:{margin:"0 0 12px 0",color:S.textSecondary,fontSize:"14px",fontWeight:"600"},children:"\ud83d\udce6 BAGS SUMMARY"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",backgroundColor:S.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(S.borderLight),flexWrap:"wrap"},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Sold"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.success,fontSize:"20px",fontWeight:"700"},children:ke.soldBags})]}),(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:S.textSecondary,display:"flex",alignItems:"center",height:"40px"},children:"+"}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Bought"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.info,fontSize:"20px",fontWeight:"700"},children:ke.boughtBags})]}),(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:S.textSecondary,display:"flex",alignItems:"center",height:"40px"},children:"="}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Total"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textPrimary,fontSize:"20px",fontWeight:"700"},children:ke.totalBags})]}),(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:S.textSecondary,display:"flex",alignItems:"center",height:"40px"},children:"\xd7"}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Rate/bag"}),(0,Ie.jsxs)("p",{style:{margin:0,color:S.textPrimary,fontSize:"20px",fontWeight:"700"},children:["\u20b9",ke.brokerageRate]})]})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h5",{style:{margin:"0 0 12px 0",color:S.textSecondary,fontSize:"14px",fontWeight:"600"},children:"\ud83d\udcb0 BROKERAGE CALCULATION"}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("span",{style:{color:S.textPrimary,fontSize:"16px",fontWeight:"500"},children:["Total Brokerage (",ke.totalBags," bags \xd7 \u20b9",ke.brokerageRate,"/bag)"]}),(0,Ie.jsxs)("span",{style:{color:S.textPrimary,fontSize:"18px",fontWeight:"700"},children:["\u20b9",null===(u=ke.grossBrokerage)||void 0===u?void 0:u.toLocaleString()]})]}),(0,Ie.jsxs)("div",{style:{padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"14px"},children:"Less: Offer (10%)"}),(0,Ie.jsxs)("span",{style:{color:S.warning,fontSize:"16px",fontWeight:"600"},children:["-\u20b9",(ke.discount||0).toLocaleString()]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"14px"},children:"Less: TDS (5%)"}),(0,Ie.jsxs)("span",{style:{color:S.warning,fontSize:"16px",fontWeight:"600"},children:["-\u20b9",(ke.tds||0).toLocaleString()]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",marginTop:"4px",borderTop:"1px solid ".concat(S.borderLight),backgroundColor:S.background,marginLeft:"-20px",marginRight:"-20px",paddingLeft:"20px",paddingRight:"20px"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"14px",fontWeight:"600"},children:"Total Deductions"}),(0,Ie.jsxs)("span",{style:{color:S.warning,fontSize:"16px",fontWeight:"700"},children:["-\u20b9",((ke.discount||0)+(ke.tds||0)).toLocaleString()]})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"2px solid ".concat(S.border),marginTop:"8px"},children:[(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontSize:"16px",fontWeight:"600"},children:"Net Brokerage"}),(0,Ie.jsxs)("span",{style:{color:S.info,fontSize:"20px",fontWeight:"700"},children:["\u20b9",null===(p=ke.netBrokerage)||void 0===p?void 0:p.toLocaleString()]})]})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h5",{style:{margin:"0 0 12px 0",color:S.textSecondary,fontSize:"14px",fontWeight:"600"},children:"\ud83d\udcb3 PAYMENT STATUS"}),(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid ".concat(S.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:S.textPrimary,fontSize:"16px",fontWeight:"500"},children:"Net Brokerage"}),(0,Ie.jsxs)("span",{style:{color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(h=ke.netBrokerage)||void 0===h?void 0:h.toLocaleString()]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,Ie.jsx)("span",{style:{color:S.textSecondary,fontSize:"14px"},children:"Less: Payments Received"}),(0,Ie.jsxs)("span",{style:{color:S.success,fontSize:"16px",fontWeight:"600"},children:["-\u20b9",null===(g=ke.paidAmount)||void 0===g?void 0:g.toLocaleString()]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"2px solid ".concat(S.border),marginTop:"8px",backgroundColor:ke.pendingAmount>0?S.errorBg:S.successBg,marginLeft:"-20px",marginRight:"-20px",paddingLeft:"20px",paddingRight:"20px",borderRadius:"0 0 8px 8px"},children:[(0,Ie.jsx)("span",{style:{color:ke.pendingAmount>0?S.error:S.success,fontSize:"18px",fontWeight:"700"},children:ke.pendingAmount>0?"PENDING AMOUNT":"FULLY PAID"}),(0,Ie.jsxs)("span",{style:{color:ke.pendingAmount>0?S.error:S.success,fontSize:"24px",fontWeight:"700"},children:["\u20b9",null===(x=ke.pendingAmount)||void 0===x?void 0:x.toLocaleString()]})]})]})]})]}),("pending"===ke.type||"receivable"===ke.type)&&(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Total Transactions"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:ke.transactionCount})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"pending"===ke.type?"Total Pending":"Total Receivable"}),(0,Ie.jsxs)("p",{style:{margin:0,color:"pending"===ke.type?S.error:S.success,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(f=ke.totalPendingAmount||ke.totalReceivableAmount)||void 0===f?void 0:f.toLocaleString()]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Oldest Transaction"}),(0,Ie.jsx)("p",{style:{margin:0,color:S.textPrimary,fontSize:"18px",fontWeight:"600"},children:new Date(ke.oldestTransactionDate).toLocaleDateString()})]})]})})]}),"brokerage"!==ke.type&&(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 16px 0",color:S.textPrimary},children:"Transaction Details"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Date"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Type"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Product"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Bags"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Amount"})]})}),(0,Ie.jsx)("tbody",{children:(ke.transactions||[]).map(((e,t)=>{var r;return(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:new Date(e.date).toLocaleDateString()}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:"SOLD"===e.type?S.successBg:S.infoBg,color:"SOLD"===e.type?S.success:S.info},children:e.type})}),(0,Ie.jsxs)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:[e.product," - ",e.quality]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:e.bags}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:["\u20b9",null===(r=e.totalAmount||e.amount)||void 0===r?void 0:r.toLocaleString()]})]},e.id||t)}))})]})})]}),"brokerage"===ke.type&&ke.partPayments&&ke.partPayments.length>0&&(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 16px 0",color:S.textPrimary},children:"Payment History"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:S.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Date"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Amount"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Method"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(S.border),color:S.textPrimary,fontWeight:"600"},children:"Notes"})]})}),(0,Ie.jsx)("tbody",{children:ke.partPayments.map(((e,t)=>{var r;return(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight),color:S.textPrimary},children:new Date(e.date).toLocaleDateString()}),(0,Ie.jsxs)("td",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid ".concat(S.borderLight),color:S.success},children:["\u20b9",null===(r=e.amount)||void 0===r?void 0:r.toLocaleString()]}),(0,Ie.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid ".concat(S.borderLight)},children:(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:S.infoBg,color:S.info},children:e.method})}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(S.borderLight),color:S.textSecondary},children:e.notes})]},e.id||t)}))})]})})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:["brokerage"===ke.type&&ke.pendingAmount>0&&(0,Ie.jsx)("button",{onClick:()=>{Ce(!1),mr(ke)},style:{padding:"10px 20px",border:"1px solid ".concat(S.success),borderRadius:"8px",backgroundColor:S.successBg,color:S.success,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"Add Payment"}),(0,Ie.jsx)("button",{onClick:yr,style:{padding:"10px 20px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"Close"})]})]})}),Pe&&ke&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{backgroundColor:S.cardBackground,borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:S.shadowModal,border:"1px solid ".concat(S.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid ".concat(S.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\ud83d\udcb3"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:0,color:S.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Add Part Payment"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:S.textSecondary,fontSize:"14px"},children:ke.firmName})]})]}),(0,Ie.jsx)("button",{onClick:br,style:{background:"none",border:"1px solid ".concat(S.border),borderRadius:"8px",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",color:S.textSecondary,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"\xd7"})]}),(0,Ie.jsx)("div",{style:{backgroundColor:S.background,padding:"20px",borderRadius:"12px",border:"1px solid ".concat(S.borderLight),marginBottom:"24px"},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Pending Amount"}),(0,Ie.jsxs)("p",{style:{margin:0,color:S.error,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(m=ke.pendingAmount)||void 0===m?void 0:m.toLocaleString()]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:S.textSecondary,fontSize:"12px"},children:"Already Paid"}),(0,Ie.jsxs)("p",{style:{margin:0,color:S.success,fontSize:"18px",fontWeight:"600"},children:["\u20b9",null===(y=ke.paidAmount)||void 0===y?void 0:y.toLocaleString()]})]})]})}),(0,Ie.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:S.textPrimary,fontSize:"14px",fontWeight:"500"},children:"Payment Amount *"}),(0,Ie.jsx)("input",{type:"number",value:Ne,onChange:e=>Te(e.target.value),placeholder:"Enter payment amount",max:ke.pendingAmount,style:{width:"100%",padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:S.cardBackground,color:S.textPrimary,transition:"border-color 0.2s ease"},onFocus:e=>e.target.style.borderColor=S.primary,onBlur:e=>e.target.style.borderColor=S.border}),(0,Ie.jsxs)("p",{style:{margin:"8px 0 0 0",color:S.textSecondary,fontSize:"12px"},children:["Maximum amount: \u20b9",null===(b=ke.pendingAmount)||void 0===b?void 0:b.toLocaleString()]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:S.textPrimary,fontSize:"14px",fontWeight:"500"},children:"Payment Method *"}),(0,Ie.jsxs)("select",{value:Ae,onChange:e=>_e(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid ".concat(S.border),borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:S.cardBackground,color:S.textPrimary,transition:"border-color 0.2s ease",cursor:"pointer"},onFocus:e=>e.target.style.borderColor=S.primary,onBlur:e=>e.target.style.borderColor=S.border,children:[(0,Ie.jsx)("option",{value:"CASH",children:"Cash"}),(0,Ie.jsx)("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),(0,Ie.jsx)("option",{value:"UPI",children:"UPI"}),(0,Ie.jsx)("option",{value:"CHEQUE",children:"Cheque"}),(0,Ie.jsx)("option",{value:"NEFT",children:"NEFT"}),(0,Ie.jsx)("option",{value:"RTGS",children:"RTGS"}),(0,Ie.jsx)("option",{value:"IMPS",children:"IMPS"}),(0,Ie.jsx)("option",{value:"CARD",children:"Card Payment"})]})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:br,style:{padding:"10px 20px",border:"1px solid ".concat(S.border),borderRadius:"8px",backgroundColor:S.cardBackground,color:S.textPrimary,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(Ne&&ke)try{const e=parseFloat(Ne);if(e<=0||e>ke.pendingAmount)return void alert("Invalid payment amount");const t={amount:e,method:Ae,notes:"Part payment added from dashboard",paymentDate:(new Date).toISOString().split("T")[0],transactionReference:"TXN".concat(Date.now()),recordedBy:localStorage.getItem("userName")||"admin"},r=await bh.addPartPayment(A,ke.id,t);if("success"!==r.status)throw new Error(r.message||"Failed to add part payment");await(async()=>{try{console.log("Loading payment data..."),ee(!0),console.log("Attempting to load payment data for brokerId:",A);const[t,r,n]=await Promise.allSettled([bh.getBrokeragePayments(A),bh.getPendingPayments(A),bh.getReceivablePayments(A)]);var e;"fulfilled"===t.status?(console.log("Brokerage API success:",t.value),me(t.value.data||[])):(console.error("Failed to load brokerage payments:",t.reason),alert("API Error: "+((null===(e=t.reason)||void 0===e?void 0:e.message)||"Failed to connect to payment API")),me([])),"fulfilled"===r.status?(console.log("Pending API success:",r.value),be(r.value.data||[])):(console.error("Failed to load pending payments:",r.reason),be([])),"fulfilled"===n.status?(console.log("Receivable API success:",n.value),je(n.value.data||[])):(console.error("Failed to load receivable payments:",n.reason),je([])),console.log("Payment data loaded successfully")}catch(t){console.error("Error loading payment data:",t),me([]),be([]),je([])}finally{ee(!1)}})(),Be(!1),Te(""),_e("CASH"),we(null),alert("Part payment added successfully!")}catch(e){console.error("Error adding part payment:",e),alert("Failed to add part payment: ".concat(e.message||"Unknown error"))}},disabled:!Ne||parseFloat(Ne)<=0||parseFloat(Ne)>ke.pendingAmount,style:{padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:!Ne||parseFloat(Ne)<=0||parseFloat(Ne)>ke.pendingAmount?S.borderLight:S.success,color:"white",fontSize:"14px",fontWeight:"500",cursor:!Ne||parseFloat(Ne)<=0||parseFloat(Ne)>ke.pendingAmount?"not-allowed":"pointer",opacity:!Ne||parseFloat(Ne)<=0||parseFloat(Ne)>ke.pendingAmount?.6:1,transition:"all 0.2s ease"},children:"Add Payment"})]})]})})]}):(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Ie.jsx)("div",{className:"loading"})})},jh=e=>{let{style:t={}}=e;const{isDarkMode:r,toggleTheme:n,theme:o}=Ee();return(0,Ie.jsxs)("button",{onClick:n,style:Ue({display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",border:"1px solid ".concat(o.border),borderRadius:"8px",backgroundColor:o.cardBackground,color:o.textPrimary,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:o.shadow},t),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.hoverBg,e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow=o.shadowHover},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=o.cardBackground,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=o.shadow},title:"Switch to ".concat(r?"light":"dark"," mode"),children:[(0,Ie.jsx)("span",{style:{fontSize:"16px"},children:r?"\u2600\ufe0f":"\ud83c\udf19"}),(0,Ie.jsx)("span",{style:{fontWeight:"500"},children:r?"Light":"Dark"})]})},kh=["selectedAddressId"],wh=()=>{const e=te(),{isMobile:t}=_p(),{theme:r,isDarkMode:n}=Ee(),[o,i]=(0,a.useState)(0),[s,l]=(0,a.useState)({userType:"TRADER",gstNumber:"",firmName:"",ownerName:"",city:"",area:"",pincode:"",email:"",bankName:"",accountNumber:"",ifscCode:"",branch:"",phoneNumbers:["",""],brokerageRate:"",shopNumber:"",byProduct:"",addressHint:"",collectionRote:"",selectedAddressId:""}),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[x,f]=(0,a.useState)({}),[m,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)("");(0,a.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=await Qn();Array.isArray(e)?c(e):c([])}catch(e){console.error("Error loading addresses:",e),c([]),v("Failed to load addresses. Please try again.")}},k=()=>{if(!h.trim())return d;const e=h.toLowerCase();return d.filter((t=>{var r,n;const o=(null===(r=t.city)||void 0===r?void 0:r.toLowerCase())||"",a=(null===(n=t.area)||void 0===n?void 0:n.toLowerCase())||"",i=t.pincode||"";return o.includes(e)||a.includes(e)||i.includes(e)}))},w=e=>{const{name:t,value:r}=e.target;l((e=>Ue(Ue({},e),{},{[t]:r}))),x[t]&&f((e=>Ue(Ue({},e),{},{[t]:""}))),b&&v("")},S=(e,t)=>{const r=[...s.phoneNumbers];r[e]=t,l((e=>Ue(Ue({},e),{},{phoneNumbers:r})))},C=[{id:0,name:"Basic",icon:"\ud83d\udc64"},{id:1,name:"Address",icon:"\ud83d\udccd"},{id:2,name:"Contact",icon:"\ud83d\udcde"},{id:3,name:"Business",icon:"\ud83d\udcbc"},{id:4,name:"Banking",icon:"\ud83c\udfe6"}];return(0,Ie.jsxs)("div",{className:"auth-container","data-theme":n?"dark":"light",style:{padding:t?"5px":"10px"},children:[(0,Ie.jsx)("div",{className:"theme-toggle-container",children:(0,Ie.jsx)(jh,{})}),(0,Ie.jsxs)("div",{className:"auth-card enhanced-merchant-card",style:{maxWidth:t?"100%":"900px",height:t?"95vh":"85vh",backgroundColor:r.cardBackground,borderColor:r.border,boxShadow:r.shadowModal,display:"flex",flexDirection:"column",margin:t?"0":"auto"},children:[(0,Ie.jsxs)("div",{className:"auth-header",style:{marginBottom:"16px"},children:[(0,Ie.jsx)("div",{className:"merchant-icon",style:{width:"60px",height:"60px",marginBottom:"12px"},children:(0,Ie.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ie.jsx)("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:r.buttonPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ie.jsx)("path",{d:"M2 17L12 22L22 17",stroke:r.buttonPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ie.jsx)("path",{d:"M2 12L12 17L22 12",stroke:r.buttonPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,Ie.jsx)("h1",{style:{color:r.textPrimary,fontSize:"24px",marginBottom:"4px"},children:"Create New Merchant"}),(0,Ie.jsx)("p",{style:{color:r.textSecondary,fontSize:"14px"},children:"Add a new miller or trader to your network"})]}),(0,Ie.jsx)("div",{className:"tab-navigation",style:{display:"flex",borderBottom:"1px solid ".concat(r.border),marginBottom:"16px",gap:"4px"},children:C.map((e=>(0,Ie.jsxs)("button",{onClick:()=>i(e.id),style:{flex:1,padding:"8px 12px",border:"none",borderBottom:o===e.id?"2px solid ".concat(r.buttonPrimary):"2px solid transparent",backgroundColor:o===e.id?r.background:"transparent",color:o===e.id?r.buttonPrimary:r.textSecondary,fontSize:"13px",fontWeight:o===e.id?"600":"400",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"4px 4px 0 0"},children:[(0,Ie.jsx)("div",{children:e.icon}),(0,Ie.jsx)("div",{children:e.name})]},e.id)))}),(0,Ie.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=(()=>{var e,t,r,n,o,a,i;const l={};return null!==(e=s.gstNumber)&&void 0!==e&&e.trim()||(l.gstNumber="GST Number is required"),null!==(t=s.firmName)&&void 0!==t&&t.trim()||(l.firmName="Firm Name is required"),null!==(r=s.ownerName)&&void 0!==r&&r.trim()||(l.ownerName="Owner Name is required"),null!==(n=s.city)&&void 0!==n&&n.trim()||(l.city="City is required"),s.brokerageRate?(isNaN(s.brokerageRate)||s.brokerageRate<=0)&&(l.brokerageRate="Brokerage Rate must be a positive number"):l.brokerageRate="Brokerage Rate is required",s.selectedAddressId||(l.address="Please select an address or create a new one"),null!==(o=s.pincode)&&void 0!==o&&o.trim()&&!/^\d{6}$/.test(s.pincode)&&(l.pincode="Pincode must be 6 digits"),null!==(a=s.email)&&void 0!==a&&a.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&(l.email="Invalid email format"),null!==(i=s.phoneNumbers[0])&&void 0!==i&&i.trim()&&!/^\d{10}$/.test(s.phoneNumbers[0])&&(l.phoneNumber1="Phone number must be 10 digits"),l})();if(Object.keys(r).length>0)f(r);else{y(!0),v("");try{var n,o;const t=s.phoneNumbers.filter((e=>""!==e.trim())),{selectedAddressId:r}=s,a=Ue(Ue({},Lo(s,kh)),{},{userType:s.userType,phoneNumbers:t,brokerageRate:parseFloat(s.brokerageRate),addressHint:(null===(n=s.addressHint)||void 0===n?void 0:n.trim())||"",collectionRote:(null===(o=s.collectionRote)||void 0===o?void 0:o.trim())||""});await jn(a),e("/dashboard",{state:{message:"Merchant created successfully!"}})}catch(a){console.error("Create merchant error:",a),409===a.status?v("Merchant with this GST number or email already exists."):v(a.message||"Failed to create merchant. Please try again.")}finally{y(!1)}}},className:"auth-form enhanced-form",style:{flex:1,display:"flex",flexDirection:"column"},children:[b&&(0,Ie.jsxs)("div",{className:"error-message",style:{backgroundColor:r.errorBg,borderColor:r.errorBorder,color:r.error,marginBottom:"12px",padding:"8px 12px",fontSize:"13px"},children:["\u26a0\ufe0f ",b]}),(0,Ie.jsxs)("div",{className:"tab-content",style:{flex:1,overflow:"auto",paddingRight:"4px"},children:[0===o&&(0,Ie.jsxs)("div",{className:"tab-panel",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{className:"form-label",style:{color:r.textPrimary},children:"User Type *"}),(0,Ie.jsxs)("select",{name:"userType",value:s.userType,onChange:w,className:"form-input",style:{backgroundColor:r.cardBackground,borderColor:r.border,color:r.textPrimary},children:[(0,Ie.jsx)("option",{value:"TRADER",children:"\ud83c\udfea Trader"}),(0,Ie.jsx)("option",{value:"MILLER",children:"\ud83c\udfed Miller"})]})]}),(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"GST Number",name:"gstNumber",value:s.gstNumber,onChange:w,error:x.gstNumber,placeholder:"GST123456789",required:!0}),(0,Ie.jsx)(Fo,{label:"Firm Name",name:"firmName",value:s.firmName,onChange:w,error:x.firmName,placeholder:"Company Name",required:!0})]}),(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Owner Name",name:"ownerName",value:s.ownerName,onChange:w,error:x.ownerName,placeholder:"Owner Full Name",required:!0}),(0,Ie.jsx)(Fo,{label:"Email",type:"email",name:"email",value:s.email,onChange:w,error:x.email,placeholder:"email@example.com (Optional)"})]})]}),1===o&&(0,Ie.jsx)("div",{className:"tab-panel",children:(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{className:"form-label",style:{color:r.textPrimary},children:"Address Selection *"}),(0,Ie.jsxs)("div",{className:"address-selection-container",style:{border:"1px solid ".concat(r.border),borderRadius:"8px",padding:"16px",backgroundColor:r.background},children:[(0,Ie.jsx)("div",{style:{marginBottom:"16px"},children:(0,Ie.jsx)("div",{className:"search-input-container",style:{position:"relative"},children:(0,Ie.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search addresses by city, area, or pincode...",value:h,onChange:e=>g(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid ".concat(r.border),borderRadius:"8px",fontSize:"14px",backgroundColor:r.cardBackground,color:r.textPrimary}})})}),(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsxs)("select",{value:s.selectedAddressId,onChange:e=>(e=>{if(!e)return void l((e=>Ue(Ue({},e),{},{selectedAddressId:"",city:"",area:"",pincode:""})));const t=d.find((t=>{var r;return(null===(r=t.addressId)||void 0===r?void 0:r.toString())===e.toString()}));t&&l((r=>Ue(Ue({},r),{},{selectedAddressId:e,city:t.city||"",area:t.area||"",pincode:t.pincode||""})))})(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid ".concat(r.border),borderRadius:"8px",fontSize:"14px",backgroundColor:r.cardBackground,color:r.textPrimary,cursor:"pointer"},children:[(0,Ie.jsx)("option",{value:"",children:"\ud83d\udccd Select an existing address"}),k().map((e=>(0,Ie.jsxs)("option",{value:e.addressId,children:["\ud83d\udccd ",e.city||"N/A"," - ",e.area||"N/A"," (",e.pincode||"N/A",")"]},e.addressId)))]}),h&&0===k().length&&(0,Ie.jsxs)("div",{style:{padding:"12px",fontSize:"13px",color:r.textMuted,fontStyle:"italic",textAlign:"center",backgroundColor:r.background,borderRadius:"6px",marginTop:"8px"},children:['\ud83d\udd0d No addresses found matching "',h,'"']})]}),(0,Ie.jsxs)("div",{className:"divider",style:{textAlign:"center",margin:"16px 0",position:"relative"},children:[(0,Ie.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",backgroundColor:r.border}}),(0,Ie.jsx)("span",{style:{backgroundColor:r.background,color:r.textMuted,fontSize:"14px",padding:"0 16px",position:"relative",zIndex:1},children:"OR"})]}),(0,Ie.jsx)("button",{type:"button",onClick:()=>p(!0),style:{width:"100%",padding:"10px 16px",border:"1px solid ".concat(r.success),borderRadius:"6px",backgroundColor:r.success,color:"white",fontSize:"13px",cursor:"pointer"},children:"\u2795 Create New Address"}),s.selectedAddressId&&(0,Ie.jsxs)("div",{className:"selected-address-display",style:{marginTop:"12px",padding:"12px",backgroundColor:r.successBg,border:"1px solid ".concat(r.successBorder),borderRadius:"6px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:["\u2713 ",(0,Ie.jsx)("span",{style:{color:r.success,fontWeight:"500",fontSize:"13px"},children:"Selected Address"})]}),(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"City",name:"city",value:s.city,onChange:w,placeholder:"City",disabled:!0}),(0,Ie.jsx)(Fo,{label:"Area",name:"area",value:s.area,onChange:w,placeholder:"Area/Locality",disabled:!0}),(0,Ie.jsx)(Fo,{label:"Pincode",name:"pincode",value:s.pincode,onChange:w,placeholder:"123456",disabled:!0})]})]})]}),x.address&&(0,Ie.jsxs)("div",{style:{color:r.error,fontSize:"13px",marginTop:"6px"},children:["\u26a0\ufe0f ",x.address]})]})}),2===o&&(0,Ie.jsx)("div",{className:"tab-panel",children:(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Primary Phone",name:"phoneNumber1",value:s.phoneNumbers[0],onChange:e=>S(0,e.target.value),error:x.phoneNumber1,placeholder:"9876543210 (Optional)"}),(0,Ie.jsx)(Fo,{label:"Secondary Phone",name:"phoneNumber2",value:s.phoneNumbers[1],onChange:e=>S(1,e.target.value),placeholder:"9876543211 (Optional)"})]})}),3===o&&(0,Ie.jsxs)("div",{className:"tab-panel",children:[(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Shop Number",name:"shopNumber",value:s.shopNumber,onChange:w,placeholder:"Shop/Unit Number"}),(0,Ie.jsx)(Fo,{label:"Brokerage Rate (%)",type:"number",name:"brokerageRate",value:s.brokerageRate,onChange:w,error:x.brokerageRate,placeholder:"10",required:!0})]}),(0,Ie.jsx)(Fo,{label:"Primary Product",name:"byProduct",value:s.byProduct,onChange:w,error:x.byProduct,placeholder:"e.g., Basmati Rice, Channa Dal (Optional)"}),(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Address Hint",name:"addressHint",value:s.addressHint,onChange:w,placeholder:"e.g., Near Main Market, Behind Temple"}),(0,Ie.jsx)(Fo,{label:"Collection Route",name:"collectionRote",value:s.collectionRote,onChange:w,placeholder:"e.g., Route A, Main Highway"})]})]}),4===o&&(0,Ie.jsxs)("div",{className:"tab-panel",children:[(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Bank Name",name:"bankName",value:s.bankName,onChange:w,error:x.bankName,placeholder:"Bank Name (Optional)"}),(0,Ie.jsx)(Fo,{label:"Branch",name:"branch",value:s.branch,onChange:w,error:x.branch,placeholder:"Branch Name (Optional)"})]}),(0,Ie.jsxs)("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:"12px"},children:[(0,Ie.jsx)(Fo,{label:"Account Number",name:"accountNumber",value:s.accountNumber,onChange:w,error:x.accountNumber,placeholder:"Account Number (Optional)"}),(0,Ie.jsx)(Fo,{label:"IFSC Code",name:"ifscCode",value:s.ifscCode,onChange:w,error:x.ifscCode,placeholder:"IFSC Code (Optional)"})]})]})]}),(0,Ie.jsxs)("div",{className:"form-navigation",style:{display:"flex",flexDirection:t?"column":"row",justifyContent:"space-between",alignItems:t?"stretch":"center",padding:t?"12px 0":"16px 0",borderTop:"1px solid ".concat(r.border),marginTop:t?"12px":"16px",gap:t?"12px":"0"},children:[(0,Ie.jsxs)("div",{className:"nav-buttons",style:{display:"flex",gap:t?"6px":"8px",justifyContent:t?"center":"flex-start"},children:[o>0&&(0,Ie.jsx)("button",{type:"button",onClick:()=>i(o-1),style:{padding:t?"10px 12px":"8px 16px",border:"1px solid ".concat(r.border),borderRadius:"6px",backgroundColor:r.cardBackground,color:r.textPrimary,fontSize:t?"12px":"13px",cursor:"pointer",flex:t?"1":"none"},children:"\u2190 Previous"}),o<C.length-1&&(0,Ie.jsx)("button",{type:"button",onClick:()=>i(o+1),style:{padding:t?"10px 12px":"8px 16px",border:"1px solid ".concat(r.buttonPrimary),borderRadius:"6px",backgroundColor:r.buttonPrimary,color:"white",fontSize:t?"12px":"13px",cursor:"pointer",flex:t?"1":"none"},children:"Next \u2192"})]}),(0,Ie.jsxs)("div",{className:"action-buttons",style:{display:"flex",gap:t?"6px":"8px",justifyContent:t?"center":"flex-end"},children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>e("/dashboard"),style:{padding:t?"10px 12px":"8px 16px",border:"1px solid ".concat(r.border),borderRadius:"6px",backgroundColor:r.buttonSecondary,color:r.textPrimary,fontSize:t?"12px":"13px",cursor:"pointer",flex:t?"1":"none"},children:"Cancel"}),(0,Ie.jsx)(Ho,{type:"submit",loading:m,style:{padding:t?"10px 12px":"8px 16px",border:"none",borderRadius:"6px",backgroundColor:r.buttonPrimary,color:"white",fontSize:t?"12px":"13px",cursor:"pointer",minWidth:t?"auto":"120px",flex:t?"1":"none"},children:"Create Merchant"})]})]})]})]}),(0,Ie.jsx)(Vp,{isOpen:u,onClose:()=>p(!1),onSuccess:()=>{j(),p(!1)}})]})},Sh=()=>{const e=te(),{isMobile:t}=_p(),{theme:r}=Ee(),[n,o]=(0,a.useState)([]),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)({start:"",end:"",financialYearName:"",forBills:!1}),[p,h]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[y,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{localStorage.getItem("authToken")?(v(),k()):e("/login")}),[e]);const v=async()=>{s(!0);try{const e=await Hn();o(Array.isArray(e)?e:[])}catch(e){console.error("Error loading financial years:",e),o([])}finally{s(!1)}},j=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),k=async()=>{try{const e=await Yn();e&&e.financialYearName&&m(e.financialYearName)}catch(e){console.log("No current financial year set or error loading:",e)}};return(0,Ie.jsxs)("div",{style:{padding:t?"12px":"20px",backgroundColor:r.background,minHeight:"100vh",transition:"background-color 0.3s ease"},children:[(0,Ie.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",padding:t?"16px":"20px",backgroundColor:r.headerBackground,borderRadius:"12px",boxShadow:r.shadow,border:"1px solid ".concat(r.border),transition:"all 0.3s ease"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{style:{margin:0,color:r.textPrimary,fontSize:"28px",fontWeight:"700"},children:"\ud83d\udcca Financial Year Management"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:r.textSecondary,fontSize:t?"14px":"16px"},children:"Manage financial years for transaction ledger auditing"})]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:(0,Ie.jsx)(Re,{to:"/dashboard",style:{textDecoration:"none",padding:"8px 16px",border:"1px solid ".concat(r.border),borderRadius:"6px",backgroundColor:r.cardBackground,color:r.textPrimary,fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=r.hoverBg,e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=r.cardBackground,e.currentTarget.style.transform="translateY(0)"},children:"\u2190 Back to Dashboard"})})]}),g&&(0,Ie.jsx)("div",{style:{backgroundColor:g.includes("successfully")?"#f0fdf4":"#fef2f2",border:"1px solid ".concat(g.includes("successfully")?"#bbf7d0":"#fecaca"),color:g.includes("successfully")?"#166534":"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:g}),(0,Ie.jsx)("div",{style:{backgroundColor:r.cardBackground,padding:"20px",borderRadius:"12px",boxShadow:r.shadow,border:"1px solid ".concat(r.border),marginBottom:"20px",transition:"all 0.3s ease"},children:(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,Ie.jsx)("h4",{style:{margin:0,color:r.textPrimary,fontSize:"16px",fontWeight:"600"},children:"\ud83d\udcc5 Current Active Financial Year:"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsxs)("select",{value:f||"",onChange:e=>m(e.target.value),style:{padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"6px",backgroundColor:r.cardBackground,color:r.textPrimary,fontSize:"14px",cursor:"pointer",minWidth:"150px"},children:[(0,Ie.jsx)("option",{value:"",children:"Select Financial Year"}),n.map((e=>(0,Ie.jsx)("option",{value:e.financialYearName,children:e.financialYearName},e.yearId)))]}),(0,Ie.jsx)("button",{onClick:async()=>{if(f){b(!0);try{const e=n.find((e=>e.financialYearName===f)),t=null===e||void 0===e?void 0:e.yearId;if(!t)return void x("Financial Year ID not found");await Vn(parseInt(t)),x("Financial Year set to ".concat(f)),setTimeout((()=>x("")),3e3)}catch(e){console.error("Error setting financial year:",e),x("Failed to set financial year"),setTimeout((()=>x("")),3e3)}finally{b(!1)}}},disabled:!f||y,style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:r.primary||"#007bff",color:"white",fontSize:"14px",cursor:!f||y?"not-allowed":"pointer",opacity:!f||y?.6:1},children:y?"Setting...":"Set Active"})]}),(0,Ie.jsx)("span",{style:{fontSize:"12px",color:r.textSecondary,fontStyle:"italic"},children:"All new transactions will use this financial year"})]})}),(0,Ie.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:t?"flex-start":"center",marginBottom:"20px",flexDirection:t?"column":"row",gap:t?"16px":"0"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:"#1e293b"},children:["Financial Years (",n.length,")"]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,Ie.jsx)("button",{onClick:v,disabled:i,style:{padding:"8px 16px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:i?"not-allowed":"pointer",opacity:i?.6:1},children:i?"\ud83d\udd04 Loading...":"\ud83d\udd04 Refresh"}),(0,Ie.jsx)("button",{onClick:()=>d(!0),className:"btn btn-primary",children:"+ Create Financial Year"})]})]}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"20px"},children:n.map(((t,r)=>(0,Ie.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,Ie.jsx)("h4",{style:{margin:0,color:"#1e293b",fontSize:"18px",fontWeight:"600"},children:t.financialYearName}),(0,Ie.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",backgroundColor:t.forBills?"#dcfce7":"#dbeafe",color:t.forBills?"#22c55e":"#3b82f6"},children:t.forBills?"For Bills":"Regular"})]}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:[(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:[(0,Ie.jsx)("strong",{children:"Start Date:"})," ",j(t.start)]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:[(0,Ie.jsx)("strong",{children:"End Date:"})," ",j(t.end)]}),(0,Ie.jsxs)("p",{style:{margin:"4px 0"},children:[(0,Ie.jsx)("strong",{children:"Duration:"})," ",Math.ceil((new Date(t.end)-new Date(t.start))/2592e6)," months"]})]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:(0,Ie.jsx)("button",{onClick:()=>e("/calendar-view",{state:{financialYear:t}}),style:{padding:"8px 16px",border:"1px solid #3b82f6",borderRadius:"6px",backgroundColor:"#eff6ff",color:"#3b82f6",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"View Transactions"})})]},r)))}),!i&&0===n.length&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#64748b"},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcca"}),(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#374151"},children:"No Financial Years Found"}),(0,Ie.jsx)("p",{style:{margin:0},children:"Create your first financial year to start managing transaction ledgers."}),(0,Ie.jsx)("button",{onClick:()=>d(!0),className:"btn btn-primary",style:{marginTop:"16px"},children:"+ Create First Financial Year"})]})]}),l&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Ie.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:"#1e293b"},children:"Create Financial Year"}),(0,Ie.jsx)("button",{onClick:()=>d(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:"\xd7"})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px",fontWeight:"500"},children:"Financial Year Name *"}),(0,Ie.jsx)("input",{type:"text",value:c.financialYearName,onChange:e=>u(Ue(Ue({},c),{},{financialYearName:e.target.value})),placeholder:"e.g., FY 2024-25",style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px",fontWeight:"500"},children:"Start Date *"}),(0,Ie.jsx)("input",{type:"date",value:c.start,onChange:e=>u(Ue(Ue({},c),{},{start:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px",fontWeight:"500"},children:"End Date *"}),(0,Ie.jsx)("input",{type:"date",value:c.end,onChange:e=>u(Ue(Ue({},c),{},{end:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:c.forBills,onChange:e=>u(Ue(Ue({},c),{},{forBills:e.target.checked})),style:{marginRight:"8px"}}),(0,Ie.jsx)("span",{style:{color:"#374151",fontSize:"14px"},children:"For Bills (Special transaction entry)"})]}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 24px",fontSize:"12px",color:"#64748b"},children:"Enable this for specific transaction types that require bill management"})]}),(0,Ie.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"12px",color:"#475569"},children:[(0,Ie.jsx)("strong",{children:"Note:"})," Financial years typically run from April to March (12 months). Make sure the dates don't overlap with existing financial years."]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:()=>d(!1),disabled:p,style:{padding:"8px 16px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:p?"not-allowed":"pointer",opacity:p?.6:1},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(c.start&&c.end&&c.financialYearName){h(!0),x("");try{await Un(c),x("Financial year created successfully!"),u({start:"",end:"",financialYearName:"",forBills:!1}),d(!1),v()}catch(e){console.error("Error creating financial year:",e),x("Failed to create financial year. Please try again.")}finally{h(!1)}}else x("Please fill in all required fields")},disabled:p||!c.start||!c.end||!c.financialYearName,style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:!p&&c.start&&c.end&&c.financialYearName?"#3b82f6":"#d1d5db",color:"white",fontSize:"14px",cursor:!p&&c.start&&c.end&&c.financialYearName?"pointer":"not-allowed"},children:p?"\u23f3 Creating...":"\u2705 Create Financial Year"})]})]})})]})},Ch=e=>{let{source:t,destination:r,onCitySelect:n}=e;const{theme:o}=Ee(),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{t&&r&&p()}),[t,r]);const p=async()=>{s(!0),d("");try{const e=await Kn(t,r);u(e.route)}catch(e){d(e.message||"Failed to load route cities")}finally{s(!1)}};return i?(0,Ie.jsx)("div",{style:{padding:"20px",textAlign:"center",color:o.textSecondary},children:"Loading..."}):l?(0,Ie.jsx)("div",{style:{padding:"20px",color:o.error,backgroundColor:o.errorBg,borderRadius:"8px",marginBottom:"20px"},children:l}):(0,Ie.jsxs)("div",{style:{backgroundColor:o.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:o.shadowCard},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 16px 0",color:o.textPrimary,fontSize:"20px",fontWeight:"600"},children:"Route Cities"}),(0,Ie.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:c.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.backgroundSecondary,borderRadius:"8px",border:"1px solid ".concat(o.border),cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>(async e=>{s(!0),d("");try{const t=await Xn(e);n&&n(e,t)}catch(t){d(t.message||"Failed to load merchants")}finally{s(!1)}})(e.city),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.backgroundHover,e.currentTarget.style.borderColor=o.borderHover},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=o.backgroundSecondary,e.currentTarget.style.borderColor=o.border},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{style:{color:o.textPrimary,fontSize:"16px",fontWeight:"500",marginBottom:"4px"},children:[e.city,e.isSourceCity&&(0,Ie.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:o.success,color:"white",borderRadius:"12px",fontSize:"12px"},children:"Source"}),e.isDestinationCity&&(0,Ie.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:o.error,color:"white",borderRadius:"12px",fontSize:"12px"},children:"Destination"})]}),(0,Ie.jsxs)("div",{style:{color:o.textSecondary,fontSize:"14px"},children:[e.merchantCount," merchants"]})]}),t<c.length-1&&(0,Ie.jsx)("div",{style:{color:o.textSecondary,fontSize:"20px"},children:"\u2193"})]},e.city)))})]})},Ph=e=>{let{city:t,merchants:r,onClose:n}=e;const{theme:o}=Ee();return t&&r?(0,Ie.jsxs)("div",{style:{backgroundColor:o.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:o.shadowCard,marginTop:"20px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:o.textPrimary,fontSize:"20px",fontWeight:"600"},children:["Merchants in ",t]}),(0,Ie.jsx)("button",{onClick:n,style:{background:"none",border:"1px solid ".concat(o.border),borderRadius:"8px",padding:"8px 16px",color:o.textSecondary,cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=o.errorBg,e.currentTarget.style.color=o.error,e.currentTarget.style.borderColor=o.error},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=o.textSecondary,e.currentTarget.style.borderColor=o.border},children:"Close"})]}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"},children:r.merchants.map((e=>(0,Ie.jsxs)("div",{style:{backgroundColor:o.backgroundSecondary,borderRadius:"8px",padding:"16px",border:"1px solid ".concat(o.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:o.textPrimary,fontSize:"16px",fontWeight:"500"},children:e.name}),(0,Ie.jsx)("div",{style:{color:o.textSecondary,fontSize:"14px",marginBottom:"4px"},children:e.streetAddress}),(0,Ie.jsx)("div",{style:{color:o.textSecondary,fontSize:"14px",marginBottom:"4px"},children:e.landmark}),(0,Ie.jsxs)("div",{style:{color:o.textSecondary,fontSize:"14px"},children:["PIN: ",e.pincode]})]},e.id)))})]}):null},Bh=()=>{const{theme:e}=Ee(),[t,r]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)("");return(0,Ie.jsxs)("div",{style:{padding:"24px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:e.shadowCard,marginBottom:"24px"},children:[(0,Ie.jsx)("h2",{style:{margin:"0 0 24px 0",color:e.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Route Explorer"}),(0,Ie.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(""),t&&n?t!==n?(s(null),d(null)):u("Source and destination cities must be different"):u("Please enter both source and destination cities")},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[(0,Ie.jsx)(Fo,{label:"Source City",value:t,onChange:e=>r(e.target.value),placeholder:"Enter source city",required:!0}),(0,Ie.jsx)(Fo,{label:"Destination City",value:n,onChange:e=>o(e.target.value),placeholder:"Enter destination city",required:!0})]}),c&&(0,Ie.jsx)("div",{style:{backgroundColor:e.errorBg,color:e.error,padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:c}),(0,Ie.jsx)("button",{type:"submit",style:{backgroundColor:e.buttonPrimary,color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:"Explore Route"})]})]}),t&&n&&(0,Ie.jsx)(Ch,{source:t,destination:n,onCitySelect:(e,t)=>{s(e),d(t)}}),i&&l&&(0,Ie.jsx)(Ph,{city:i,merchants:l,onClose:()=>{s(null),d(null)}})]})},Nh=()=>{const{theme:e}=Ee();return(0,Ie.jsxs)("div",{style:{padding:"24px"},children:[(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:e.shadowCard,marginBottom:"24px"},children:(0,Ie.jsx)("h2",{style:{margin:"0 0 24px 0",color:e.textPrimary,fontSize:"24px",fontWeight:"700"},children:"Today's Market"})}),(0,Ie.jsx)(Jp,{})]})},Th=()=>{const e=Z(),t=te(),{theme:r}=Ee(),{isMobile:n}=_p(),{financialYear:o}=e.state||{},[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),[f,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{o?y():t("/financial-years")}),[o,t]);const y=async()=>{try{const e=localStorage.getItem("brokerId");if(!e)return void t("/login");const r=await En(e,o.yearId);s(r)}catch(e){console.error("Error loading analytics:",e)}finally{u(!1)}},b=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),v=e=>new Intl.NumberFormat("en-IN").format(e);if(!o)return null;if(c)return(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:r.background},children:(0,Ie.jsx)("div",{style:{fontSize:"24px",color:r.textPrimary},children:"Loading..."})});const j=(()=>{if(!o)return[];const e=new Date(o.start),t=new Date(o.end),r=[];let n=new Date(e);for(;n<=t;){const o=n.getFullYear(),a=n.getMonth(),i=new Date(o,a,1),s=new Date(o,a+1,0).getDate(),l=i.getDay(),d={year:o,month:a,monthName:i.toLocaleDateString("en-US",{month:"long"}),days:[]};for(let e=0;e<l;e++)d.days.push(null);for(let r=1;r<=s;r++){const n=new Date(o,a,r),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),l=new Date(t.getFullYear(),t.getMonth(),t.getDate());i>=s&&i<=l&&d.days.push(n)}r.push(d),n.setMonth(n.getMonth()+1)}return r})(),k=n?1:4;return(0,Ie.jsxs)("div",{style:{padding:n?"12px":"20px",backgroundColor:r.background,minHeight:"100vh"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,padding:"24px",borderRadius:"12px",boxShadow:r.shadow,border:"1px solid ".concat(r.border),marginBottom:"20px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:n?"column":"row",gap:n?"16px":"0"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("h1",{style:{margin:"0 0 8px 0",color:r.textPrimary,fontSize:"28px",fontWeight:"700"},children:["\ud83d\udcc5 ",o.financialYearName]}),(0,Ie.jsxs)("p",{style:{margin:0,color:r.textSecondary,fontSize:"16px"},children:[ph(o.start)," to ",ph(o.end)]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,Ie.jsx)("button",{onClick:()=>t("/ledger-management"),style:{padding:"8px 16px",border:"1px solid ".concat(r.primary),borderRadius:"6px",backgroundColor:r.primaryBg,color:r.primary,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=r.primary,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=r.primaryBg,e.currentTarget.style.color=r.primary},children:"\ud83d\udccb Ledger Management"}),(0,Ie.jsx)("button",{onClick:()=>m(!0),style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid ".concat(r.primary),backgroundColor:r.primaryBg,color:r.primary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=r.primary,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=r.primaryBg,e.currentTarget.style.color=r.primary},children:"\ud83d\udcca"}),(0,Ie.jsx)("button",{onClick:()=>t("/financial-years"),style:{padding:"8px 16px",border:"1px solid ".concat(r.border),borderRadius:"6px",backgroundColor:r.cardBackground,color:r.textPrimary,fontSize:"14px",cursor:"pointer"},children:"\u2190 Back"})]})]}),i&&(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:r.background,padding:"16px",borderRadius:"8px",textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:r.primary},children:b(i.totalBrokerage)}),(0,Ie.jsx)("div",{style:{fontSize:"12px",color:r.textSecondary},children:"Total Brokerage"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.background,padding:"16px",borderRadius:"8px",textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:r.success},children:v(i.totalTransactions)}),(0,Ie.jsx)("div",{style:{fontSize:"12px",color:r.textSecondary},children:"Total Transactions"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.background,padding:"16px",borderRadius:"8px",textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:r.info},children:v(i.totalQuantity)}),(0,Ie.jsx)("div",{style:{fontSize:"12px",color:r.textSecondary},children:"Total Quantity"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.background,padding:"16px",borderRadius:"8px",textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:r.warning},children:b(i.totalTransactionValue)}),(0,Ie.jsx)("div",{style:{fontSize:"12px",color:r.textSecondary},children:"Transaction Value"})]})]})]}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(k,", 1fr)"),gap:"20px"},children:j.map(((e,n)=>(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"12px",padding:"16px",boxShadow:r.shadow,border:"1px solid ".concat(r.border)},children:[(0,Ie.jsxs)("h3",{style:{margin:"0 0 16px 0",color:r.textPrimary,fontSize:"18px",fontWeight:"600",textAlign:"center"},children:[e.monthName," ",e.year]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,Ie.jsx)("div",{style:{padding:"8px 4px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:r.textSecondary},children:e},e))),e.days.map(((e,n)=>(0,Ie.jsx)("div",{onClick:()=>e&&(async e=>{const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a="".concat(r,"-").concat(n,"-").concat(o);t("/daily-ledger",{state:{date:a}})})(e),style:{padding:"8px 4px",textAlign:"center",fontSize:"14px",cursor:e?"pointer":"default",backgroundColor:e&&p&&e.toDateString()===p.toDateString()?r.primary:"transparent",color:e&&p&&e.toDateString()===p.toDateString()?"white":e?r.textPrimary:"transparent",borderRadius:"4px",transition:"all 0.2s ease",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:t=>{!e||p&&e.toDateString()===p.toDateString()||(t.currentTarget.style.backgroundColor=r.hoverBg)},onMouseLeave:t=>{!e||p&&e.toDateString()===p.toDateString()||(t.currentTarget.style.backgroundColor="transparent")},children:e?e.getDate():""},n)))]})]},n)))}),f&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:r.shadowModal},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:r.textPrimary},children:"Analytics Overview"}),(0,Ie.jsx)("button",{onClick:()=>m(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:r.textSecondary},children:"\xd7"})]}),i?(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{color:r.textSecondary,textAlign:"center"},children:"Detailed analytics graphs will be implemented here"}),l&&(0,Ie.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Ie.jsx)("h4",{style:{color:r.textPrimary},children:"Top Performers"}),l.topBuyers&&l.topBuyers.length>0&&(0,Ie.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ie.jsx)("h5",{style:{color:r.textSecondary,fontSize:"14px"},children:"Top Buyers"}),l.topBuyers.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid ".concat(r.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:r.textPrimary},children:e.firmName}),(0,Ie.jsx)("span",{style:{color:r.success},children:b(e.totalBrokerage)})]},t)))]}),l.topSellers&&l.topSellers.length>0&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h5",{style:{color:r.textSecondary,fontSize:"14px"},children:"Top Sellers"}),l.topSellers.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid ".concat(r.borderLight)},children:[(0,Ie.jsx)("span",{style:{color:r.textPrimary},children:e.firmName}),(0,Ie.jsx)("span",{style:{color:r.info},children:b(e.totalBrokerage)})]},t)))]})]})]}):(0,Ie.jsx)("p",{style:{color:r.textSecondary,textAlign:"center"},children:"Insert data to view graphs"})]})})]})},Rh=()=>{var e;const t=Z(),r=te(),{theme:n}=Ee(),[o,i]=(0,a.useState)((null===(e=t.state)||void 0===e?void 0:e.date)||(new Date).toISOString().split("T")[0]),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[x,f]=(0,a.useState)(null),[m,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),j=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{k(),l(uh(o))}),[]),(0,a.useEffect)((()=>{o&&(w(),l(uh(o)))}),[o,x]);const k=async()=>{try{const e=await Yn();f(e)}catch(e){console.error("Error fetching current financial year:",e)}};(0,a.useEffect)((()=>(document.body.style.backgroundColor=n.background,()=>{document.body.style.backgroundColor=""})),[n.background]);const w=async()=>{p(!0),g("");try{const e=await qn.getLedgerDetailsByDate(o,j,x);c(e||[])}catch(e){g("Failed to fetch ledger data"),console.error("Error fetching ledger data:",e)}finally{p(!1)}},S=()=>{r("/transaction-detail",{state:{mode:"create",date:o}})},C=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return(0,Ie.jsxs)("div",{className:"daily-ledger-container",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",backgroundColor:n.background,minHeight:"100vh",color:n.textPrimary},children:[(0,Ie.jsx)("div",{style:{position:"fixed",top:"20px",left:"20px",backgroundColor:n.cardBackground,color:n.textPrimary,padding:"8px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"600",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.2)",border:"1px solid ".concat(n.border)},children:uh(o)}),(0,Ie.jsx)("button",{onClick:()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},style:{position:"fixed",top:"70px",right:"20px",backgroundColor:n.primary||"#007bff",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},title:"Scroll to bottom",children:"\u2228"}),(0,Ie.jsxs)("div",{className:"header-section",style:{marginBottom:"30px"},children:[(0,Ie.jsxs)("h1",{style:{color:n.textPrimary,marginBottom:"20px"},children:["Daily Ledger - ",uh(o)]}),(0,Ie.jsxs)("div",{className:"controls",style:{display:"flex",gap:"15px",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{marginRight:"10px",fontWeight:"bold",color:n.textPrimary},children:"Date:"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("input",{type:"text",value:s,onChange:e=>{const t=e.target.value;if(l(t),t.match(/^\d{2}-\d{2}-\d{4}$/)){const[e,r,n]=t.split("-"),o="".concat(n,"-").concat(r.padStart(2,"0"),"-").concat(e.padStart(2,"0"));i(o)}},onBlur:e=>{const t=e.target.value;if(t.match(/^\d{1,2}-\d{1,2}-\d{4}$/)){const[e,r,n]=t.split("-"),o="".concat(n,"-").concat(r.padStart(2,"0"),"-").concat(e.padStart(2,"0"));i(o),l(uh(o))}},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),o&&w())},placeholder:"DD-MM-YYYY",style:{padding:"8px 12px",border:"1px solid ".concat(n.border),borderRadius:"4px",fontSize:"14px",backgroundColor:n.cardBackground,color:n.textPrimary,width:"120px"}}),(0,Ie.jsx)("input",{type:"date",value:o,onChange:e=>{i(e.target.value)},style:{position:"absolute",opacity:0,width:"0",height:"0",pointerEvents:"none"},id:"hidden-date-picker"}),(0,Ie.jsx)("button",{type:"button",onClick:()=>{var e,t;return(null===(e=(t=document.getElementById("hidden-date-picker")).showPicker)||void 0===e?void 0:e.call(t))||document.getElementById("hidden-date-picker").click()},style:{padding:"8px",border:"1px solid ".concat(n.border),borderRadius:"4px",backgroundColor:n.cardBackground,color:n.textPrimary,cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Select date",children:"\ud83d\udcc5"})]})]}),(0,Ie.jsx)("button",{onClick:S,style:{backgroundColor:n.primary||"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Add New Transaction"})]})]}),u&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[(0,Ie.jsx)("div",{className:"simple-spinner",style:{width:"20px",height:"20px"}}),(0,Ie.jsx)("span",{style:{color:n.textPrimary},children:"Loading..."})]}),h&&(0,Ie.jsx)("div",{style:{backgroundColor:n.errorBg||"#f8d7da",color:n.errorText||"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"20px",border:"1px solid ".concat(n.errorBorder||"#f5c6cb")},children:h}),!u&&!h&&0===d.length&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px",backgroundColor:n.cardBackground,borderRadius:"8px",border:"1px solid ".concat(n.border)},children:[(0,Ie.jsxs)("p",{style:{fontSize:"18px",color:n.textSecondary,marginBottom:"20px"},children:["No transactions found for ",uh(o)]}),(0,Ie.jsx)("button",{onClick:S,style:{backgroundColor:n.success||"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Add New Transaction"})]}),!u&&!h&&d.length>0&&(0,Ie.jsx)("div",{className:"ledger-content",children:d.map(((e,t)=>(0,Ie.jsxs)("div",{className:"broker-section",style:{marginBottom:"30px"},children:[(0,Ie.jsx)("div",{className:"broker-header",style:{backgroundColor:n.cardBackground,padding:"15px",borderRadius:"8px 8px 0 0",borderBottom:"2px solid ".concat(n.primary||"#007bff"),border:"1px solid ".concat(n.border)},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsxs)("h3",{style:{margin:"0",fontWeight:"bold",display:"flex",gap:"20px"},children:[(0,Ie.jsx)("span",{style:{color:n.textPrimary},children:e.transactionNumber}),(0,Ie.jsxs)("span",{style:{color:n.primary||"#007bff"},children:["Seller : ",e.sellerName]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ie.jsx)("button",{onClick:()=>{return t={transactionNumber:e.transactionNumber,financialYearId:e.financialYearId,brokerId:e.brokerId},void r("/transaction-detail-edit",{state:{transactionNumber:t.transactionNumber,financialYearId:t.financialYearId,brokerId:t.brokerId,date:o}});var t},style:{backgroundColor:n.info||"#17a2b8",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Edit Details"}),(0,Ie.jsx)("button",{onClick:()=>{return t={transactionNumber:e.transactionNumber,financialYearId:e.financialYearId,brokerId:e.brokerId},v(t),void y(!0);var t},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete Transaction",children:"\ud83d\uddd1\ufe0f"})]})]})}),(0,Ie.jsxs)("div",{className:"transactions-table",style:{backgroundColor:n.cardBackground,border:"1px solid ".concat(n.border),borderRadius:"0 0 8px 8px"},children:[(0,Ie.jsx)("h4",{style:{padding:"15px",margin:"0",backgroundColor:n.background,borderBottom:"1px solid ".concat(n.border),color:n.textPrimary},children:"Transaction Ledger Details List"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:n.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"ID"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Buyer Name"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Location"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Product Name"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Total Bags"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Product Cost"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(n.border),color:"".concat(n.textPrimary," !important"),backgroundColor:"".concat(n.background," !important")},children:"Total Brokerage"})]})}),(0,Ie.jsxs)("tbody",{children:[e.displayLedgerRecordDTOList.map(((e,t)=>(0,Ie.jsxs)("tr",{style:{cursor:"pointer",backgroundColor:n.cardBackground},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=n.hoverBg||("dark"===n.name?"#374151":"#f8f9fa")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=n.cardBackground},children:[(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:e.brokerTransactionNumber||e.ledgerDetailsId||t+1}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:e.buyerName}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:e.buyerLocation||e.location||""}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:e.productName}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:e.quantity}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:C(e.productCost)}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:C(e.brokerage)}),(0,Ie.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary},children:C(e.quantity*e.brokerage)})]},t))),(0,Ie.jsxs)("tr",{style:{backgroundColor:n.background,fontWeight:"bold"},children:[(0,Ie.jsx)("td",{colSpan:"4",style:{padding:"12px",borderTop:"2px solid ".concat(n.border),color:n.textPrimary,textAlign:"right"},children:"Total:"}),(0,Ie.jsx)("td",{style:{padding:"12px",borderTop:"2px solid ".concat(n.border),color:n.textPrimary},children:e.displayLedgerRecordDTOList.reduce(((e,t)=>e+t.quantity),0)}),(0,Ie.jsx)("td",{style:{padding:"12px",borderTop:"2px solid ".concat(n.border),color:n.textPrimary}}),(0,Ie.jsx)("td",{style:{padding:"12px",borderTop:"2px solid ".concat(n.border),color:n.textPrimary}}),(0,Ie.jsx)("td",{style:{padding:"12px",borderTop:"2px solid ".concat(n.border),color:n.textPrimary},children:C(e.displayLedgerRecordDTOList.reduce(((e,t)=>e+t.quantity*t.brokerage),0))})]})]})]})})]})]},t)))}),m&&(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Ie.jsxs)("div",{style:{backgroundColor:n.cardBackground,borderRadius:"8px",padding:"24px",maxWidth:"400px",width:"90%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 16px 0",color:n.textPrimary},children:"Confirm Delete"}),(0,Ie.jsx)("p",{style:{margin:"0 0 24px 0",color:n.textSecondary},children:"Are you sure you want to delete this transaction?"}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,Ie.jsx)("button",{onClick:async()=>{if(b)try{p(!0),await qn.deleteLedgerDetailByTransactionNumber(b.transactionNumber,b.brokerId,b.financialYearId),y(!1),v(null),w()}catch(e){g("Failed to delete transaction"),console.error("Error deleting transaction:",e)}finally{p(!1)}},style:{backgroundColor:"transparent",color:n.textPrimary,border:"1px solid ".concat(n.border),padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Yes"}),(0,Ie.jsx)("button",{onClick:()=>{y(!1),v(null)},style:{backgroundColor:n.primary||"#007bff",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"No"})]})]})}),d.length>0&&(0,Ie.jsx)("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:"20px"},children:(0,Ie.jsx)("button",{onClick:S,style:{backgroundColor:n.primary||"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Add New Transaction"})}),d.length>0&&(0,Ie.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:n.primary||"#007bff",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},title:"Scroll to top",children:"\u2227"})]},n.name)},Ah=["buyerCity"],_h=()=>{var e;const t=Z(),r=te(),{theme:n}=Ee(),{mode:o,transactionNumber:i,date:s}=t.state||{},l=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),u=(0,a.useRef)([]),p=(0,a.useRef)([]),h=(0,a.useRef)([]),g=(0,a.useRef)([]),x=((0,a.useRef)([]),(0,a.useRef)([])),f=(0,a.useRef)([]),m=(0,a.useRef)([]),y=s||(new Date).toISOString().split("T")[0],[b,v]=(0,a.useState)({brokerId:parseInt(localStorage.getItem("brokerId")),financialYearId:null,sellerBrokerage:"",brokerage:0,fromSeller:"",date:y,sellerProducts:[{productId:"",productCost:""}],ledgerRecordDTOList:[{buyerName:"",buyerCity:"",productId:"",quantity:"",brokerage:"",productCost:""}]}),[j,k]=(0,a.useState)(!1),[w,S]=(0,a.useState)(""),[C,P]=(0,a.useState)(""),[B,N]=(0,a.useState)([]),[T,R]=(0,a.useState)([]),[A,_]=(0,a.useState)([]),[I,z]=(0,a.useState)(!0),[E,M]=(0,a.useState)(""),[D,L]=(0,a.useState)({}),[O,F]=(0,a.useState)({}),[W,U]=(0,a.useState)({}),[H,V]=(0,a.useState)(!1),[Y,q]=(0,a.useState)({}),[Q,$]=(0,a.useState)({}),[G,K]=(0,a.useState)({}),[X,J]=(0,a.useState)(null),[ee,re]=(0,a.useState)(!1),[ne,oe]=(0,a.useState)(-1),[ae,ie]=(0,a.useState)(null),[se,le]=(0,a.useState)(null);(0,a.useEffect)((()=>{ge(),de(),ce(),"edit"===o&&i&&xe(i)}),[o,i]),(0,a.useEffect)((()=>{const e=e=>{if(ee)return e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave?",e.returnValue};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[ee]),(0,a.useEffect)((()=>{re(!0)}),[b]),(0,a.useEffect)((()=>{const e=e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||!(H||Object.values(Y).some(Boolean)||Object.values(Q).some(Boolean)||Object.values(G).some(Boolean))){if("Enter"===e.key){if(e.ctrlKey)return e.preventDefault(),void ye();if(H){e.preventDefault();const t=Pe();if(t.length>0){const e=t[ne>=0?ne:0];fe("fromSeller",e.id),e.brokerageRate&&fe("sellerBrokerage",e.brokerageRate),M(e.firmName),V(!1),oe(-1),ie(null),setTimeout((()=>{var e;return null===(e=f.current[0])||void 0===e?void 0:e.focus()}),100)}return}if("buyer"===ae&&null!==se&&Y[se]){e.preventDefault();const n=Be(D[se]);if(n.length>0){var t;const e=n[ne>=0?ne:0];if(me(se,"buyerName",e.firmName),me(se,"buyerCity",e.city),e.brokerageRate&&me(se,"brokerage",e.brokerageRate),L((t=>Ue(Ue({},t),{},{[se]:e.firmName}))),q((e=>Ue(Ue({},e),{},{[se]:!1}))),oe(-1),ie(null),le(null),null!==(t=b.sellerProducts[0])&&void 0!==t&&t.productId){var r;me(se,"productId",b.sellerProducts[0].productId),null!==(r=b.sellerProducts[0])&&void 0!==r&&r.productCost&&me(se,"productCost",b.sellerProducts[0].productCost);const e=A.find((e=>Object.values(e)[0]===b.sellerProducts[0].productId));if(e){const[t]=Object.entries(e)[0];F((e=>Ue(Ue({},e),{},{[se]:t})))}setTimeout((()=>{var e;return null===(e=h.current[se])||void 0===e?void 0:e.focus()}),100)}else setTimeout((()=>{var e;return null===(e=p.current[se])||void 0===e?void 0:e.focus()}),100)}return}if("product"===ae&&null!==se&&Q[se]){e.preventDefault();const t=Ne(O[se]);if(t.length>0){const e=t[ne>=0?ne:0],[r,n]=Object.entries(e)[0];me(se,"productId",n),F((e=>Ue(Ue({},e),{},{[se]:r}))),$((e=>Ue(Ue({},e),{},{[se]:!1}))),oe(-1),ie(null),le(null),setTimeout((()=>{var e;return null===(e=h.current[se])||void 0===e?void 0:e.focus()}),100)}return}if("sellerProduct"===ae&&null!==se&&G[se]){e.preventDefault();const t=Ne(W[se]);if(t.length>0){const e=t[ne>=0?ne:0],[r,n]=Object.entries(e)[0],o=[...b.sellerProducts];o[se].productId=n,v((e=>Ue(Ue({},e),{},{sellerProducts:o}))),U((e=>Ue(Ue({},e),{},{[se]:r}))),K((e=>Ue(Ue({},e),{},{[se]:!1}))),oe(-1),ie(null),le(null),setTimeout((()=>{var e;return null===(e=m.current[se])||void 0===e?void 0:e.focus()}),100)}return}}return"s"===e.key&&e.ctrlKey?(e.preventDefault(),e.stopPropagation(),void Se(!0)):"Escape"===e.key?(V(!1),q({}),$({}),K({}),oe(-1),ie(null),void le(null)):void 0}{e.preventDefault();const t="ArrowDown"===e.key?1:-1;if(H){const e=Pe(),r=Math.max(0,Math.min(e.length-1,ne+t));oe(r),setTimeout((()=>{const e=document.querySelector('[data-dropdown="seller"]'),t=null===e||void 0===e?void 0:e.children[r];t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}),0)}else if("buyer"===ae&&null!==se){const e=Be(D[se]),r=Math.max(0,Math.min(e.length-1,ne+t));oe(r),setTimeout((()=>{const e=document.querySelector('[data-dropdown="buyer-'.concat(se,'"]')),t=null===e||void 0===e?void 0:e.children[r];t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}),0)}else if("product"===ae&&null!==se){const e=Ne(O[se]),r=Math.max(0,Math.min(e.length-1,ne+t));oe(r),setTimeout((()=>{const e=document.querySelector('[data-dropdown="product-'.concat(se,'"]')),t=null===e||void 0===e?void 0:e.children[r];t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}),0)}else if("sellerProduct"===ae&&null!==se){const e=Ne(W[se]),r=Math.max(0,Math.min(e.length-1,ne+t));oe(r)}}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[H,Y,Q,G,ne,ae,se,D,O,W,b]);const de=async()=>{try{const e=await Yn();e&&e.yearId&&v((t=>Ue(Ue({},t),{},{financialYearId:e.yearId})))}catch(w){console.log("No current financial year set or error loading:",w)}},ce=async()=>{try{const e=await qn.getNextTransactionNumber();J(e)}catch(w){console.log("Error loading next transaction number:",w),J("Auto-Generated")}},ue=async()=>{try{const e=await wn();N(e||[])}catch(e){console.error("Error fetching sellers:",e)}},pe=async()=>{try{const e=await wn();R(e||[])}catch(e){console.error("Error fetching buyers:",e)}},he=async()=>{try{const e=await Rn();_(e||[])}catch(e){console.error("Error fetching products:",e)}},ge=async()=>{z(!0),await Promise.all([ue(),pe(),he()]),z(!1),setTimeout((()=>{var e;null===(e=l.current)||void 0===e||e.focus()}),100)},xe=async e=>{},fe=(e,t)=>{v((r=>Ue(Ue({},r),{},{[e]:t})))},me=(e,t,r)=>{v((n=>Ue(Ue({},n),{},{ledgerRecordDTOList:n.ledgerRecordDTOList.map(((n,o)=>o===e?Ue(Ue({},n),{},{[t]:r}):n))})))},ye=()=>{v((e=>Ue(Ue({},e),{},{ledgerRecordDTOList:[...e.ledgerRecordDTOList,{buyerName:"",buyerCity:"",productId:"",quantity:"",brokerage:"",productCost:""}]}))),setTimeout((()=>{var e;const t=b.ledgerRecordDTOList.length;null===(e=u.current[t])||void 0===e||e.focus()}),100)},be=e=>(parseFloat(e.quantity)||0)*(parseFloat(e.brokerage)||0),ve=()=>b.ledgerRecordDTOList.reduce(((e,t)=>e+be(t)),0),je=()=>b.ledgerRecordDTOList.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0),ke=()=>(parseFloat(b.sellerBrokerage)||0)*je(),we=()=>ke()+ve(),Se=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!b.fromSeller)return S("Please select a seller"),!1;if(!b.date)return S("Please select a date"),!1;if(b.ledgerRecordDTOList.some((e=>{var t;return!(null!==(t=e.buyerName)&&void 0!==t&&t.trim())||!e.productId||!e.quantity||!e.productCost})))return S("Please fill all required fields in transaction records"),!1;k(!0),S(""),P("");try{const t=Ue(Ue({},b),{},{brokerage:we(),ledgerRecordDTOList:b.ledgerRecordDTOList.map((e=>{const{buyerCity:t}=e;return Lo(e,Ah)}))});if("create"===o){const r=await qn.createLedgerDetails(t);J(r+1),P("Transaction #".concat(r," created successfully!")),re(!1),e&&setTimeout((()=>{Ce()}),500)}else await qn.updateLedgerDetailByTransactionNumber(i,localStorage.getItem("brokerId"),b.financialYearId,t),P("Transaction updated successfully!"),re(!1);return!0}catch(t){return S("string"===typeof t?t:"Failed to save transaction"),console.error("Error saving transaction:",t),!1}finally{k(!1)}},Ce=()=>{const e=s||(new Date).toISOString().split("T")[0];v({brokerId:parseInt(localStorage.getItem("brokerId")),financialYearId:b.financialYearId,sellerBrokerage:"",brokerage:0,fromSeller:"",date:e,sellerProducts:[{productId:"",productCost:""}],ledgerRecordDTOList:[{buyerName:"",buyerCity:"",productId:"",quantity:"",brokerage:"",productCost:""}]}),M(""),L({}),F({}),U({}),P(""),S(""),re(!1),X&&"number"===typeof X&&J(X+1),setTimeout((()=>{var e;null===(e=l.current)||void 0===e||e.focus()}),100)},Pe=()=>E?B.filter((e=>e.firmName.toLowerCase().includes(E.toLowerCase())||e.city.toLowerCase().includes(E.toLowerCase()))):B,Be=e=>e?T.filter((t=>t.firmName.toLowerCase().includes(e.toLowerCase())||t.city.toLowerCase().includes(e.toLowerCase()))):T,Ne=e=>e?A.filter((t=>{const[r]=Object.entries(t)[0];return r.toLowerCase().includes(e.toLowerCase())})):A;return I?(0,Ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:n.background,color:n.textPrimary},children:(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"18px",marginBottom:"10px"},children:"Loading..."}),(0,Ie.jsx)("div",{style:{fontSize:"14px",color:n.textSecondary},children:"Preparing transaction form"})]})}):(0,Ie.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:n.background,color:n.textPrimary,padding:"0"},children:[(0,Ie.jsx)("div",{style:{position:"fixed",top:"10px",left:"10px",zIndex:1001},children:(0,Ie.jsx)("button",{onClick:()=>r("/daily-ledger",{state:{date:s}}),style:{backgroundColor:n.cardBackground,color:n.textPrimary,border:"1px solid ".concat(n.border),padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"13px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"\u2190 Back"})}),(0,Ie.jsx)("div",{style:{backgroundColor:n.cardBackground,borderBottom:"1px solid ".concat(n.border),padding:"16px 20px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("h1",{style:{margin:0,fontSize:"22px",fontWeight:"600",color:n.textPrimary},children:"create"===o?"\ud83d\udcdd New Transaction":"\u270f\ufe0f Edit Transaction"}),(0,Ie.jsx)("div",{style:{fontSize:"13px",color:n.textSecondary,marginTop:"4px"},children:"Ctrl+Enter: Add Record | Ctrl+S: Save | Tab: Navigate"})]})}),w&&(0,Ie.jsxs)("div",{style:{backgroundColor:n.errorBg||"#fee",color:n.errorText||"#c33",padding:"12px 20px",borderBottom:"1px solid ".concat(n.errorBorder||"#fcc")},children:["\u26a0\ufe0f ",w]}),C&&(0,Ie.jsxs)("div",{style:{backgroundColor:n.successBg||"#efe",color:n.successText||"#363",padding:"12px 20px",borderBottom:"1px solid ".concat(n.successBorder||"#cfc")},children:["\u2705 ",C]}),(0,Ie.jsxs)("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:n.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(n.border),marginBottom:"24px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"15px",fontWeight:"500",color:n.textPrimary},children:"Transaction #:"}),(0,Ie.jsx)("span",{style:{fontSize:"16px",color:n.primary,fontWeight:"600"},children:X||"Auto"})]}),(0,Ie.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:n.textPrimary},children:"Seller Details"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("label",{style:{fontSize:"15px",fontWeight:"500",color:n.textPrimary},children:"Date *:"}),(0,Ie.jsx)("input",{ref:d,type:"date",value:b.date,onChange:e=>fe("date",e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(e.preventDefault(),null===(t=l.current)||void 0===t||t.focus())},style:{padding:"8px 12px",border:"1px solid ".concat(n.border),borderRadius:"6px",fontSize:"15px",backgroundColor:n.inputBackground||n.cardBackground,color:n.textPrimary}})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"15px",fontWeight:"500",color:n.textPrimary},children:"Seller Name *"}),(0,Ie.jsx)("input",{ref:l,type:"text",placeholder:"Type to search seller...",value:E,onChange:e=>{M(e.target.value),V(!0),oe(-1),ie("seller")},onFocus:()=>{V(!0),oe(-1),ie("seller")},onBlur:()=>setTimeout((()=>{V(!1),oe(-1),ie(null)}),200),onKeyDown:e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||!H){if("ArrowRight"===e.key&&!H){var t;e.preventDefault(),null===(t=c.current)||void 0===t||t.focus()}}else e.preventDefault()},style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(n.border),borderRadius:"6px",fontSize:"15px",backgroundColor:n.inputBackground||n.cardBackground,color:n.textPrimary}}),H&&Pe().length>0&&(0,Ie.jsx)("div",{"data-dropdown":"seller",style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:n.cardBackground,border:"1px solid ".concat(n.border),borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"300px",overflowY:"auto"},children:Pe().map(((e,t)=>(0,Ie.jsxs)("div",{onClick:()=>{fe("fromSeller",e.id),e.brokerageRate&&fe("sellerBrokerage",e.brokerageRate),M(e.firmName),V(!1),oe(-1),setTimeout((()=>{var e;return null===(e=f.current[0])||void 0===e?void 0:e.focus()}),100)},style:{padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary,fontSize:"14px",backgroundColor:t===ne?n.hoverBg:"transparent"},onMouseEnter:()=>oe(t),children:[(0,Ie.jsx)("div",{style:{fontWeight:"500"},children:e.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"12px",color:n.textSecondary},children:[e.city," ",e.brokerageRate&&"\u2022 Brokerage: ".concat(e.brokerageRate,"/-")]})]},e.id)))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"15px",fontWeight:"500",color:n.textPrimary},children:"City"}),(0,Ie.jsx)("div",{style:{padding:"10px 12px",border:"1px solid ".concat(n.border),borderRadius:"6px",fontSize:"15px",backgroundColor:n.background,color:n.textSecondary},children:(null===(e=B.find((e=>e.id===parseInt(b.fromSeller))))||void 0===e?void 0:e.city)||"-"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"15px",fontWeight:"500",color:n.textPrimary},children:"Seller Brokerage (\u20b9/bag)"}),(0,Ie.jsx)("input",{ref:c,type:"number",value:b.sellerBrokerage,onChange:e=>fe("sellerBrokerage",e.target.value),placeholder:"e.g., 2",onKeyDown:e=>{var t;if("Enter"===e.key||"ArrowRight"===e.key||"ArrowDown"===e.key)e.preventDefault(),null===(t=f.current[0])||void 0===t||t.focus();else if("ArrowLeft"===e.key){var r;e.preventDefault(),null===(r=l.current)||void 0===r||r.focus()}},style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(n.border),borderRadius:"6px",fontSize:"15px",backgroundColor:n.inputBackground||n.cardBackground,color:n.textPrimary}})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,Ie.jsx)("label",{style:{fontSize:"15px",fontWeight:"500",color:n.textPrimary,minWidth:"80px"},children:"Products:"}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",flex:1},children:[b.sellerProducts.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center",minWidth:"300px"},children:[(0,Ie.jsxs)("div",{style:{flex:2,position:"relative"},children:[(0,Ie.jsx)("input",{ref:e=>f.current[t]=e,type:"text",placeholder:"Type to search product...",value:W[t]||"",onChange:e=>{U((r=>Ue(Ue({},r),{},{[t]:e.target.value}))),K((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("sellerProduct"),le(t)},onFocus:()=>{W[t]&&(K((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("sellerProduct"),le(t))},onBlur:()=>setTimeout((()=>{K((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),se===t&&(ie(null),le(null))}),200),onKeyDown:e=>{var r;if("ArrowUp"!==e.key&&"ArrowDown"!==e.key||!G[t]){if("ArrowUp"===e.key||"ArrowLeft"===e.key)e.preventDefault(),null===(r=c.current)||void 0===r||r.focus();else if("Enter"===e.key){var n;e.preventDefault(),null===(n=m.current[t])||void 0===n||n.focus()}else if("ArrowRight"===e.key){var o;e.preventDefault(),null===(o=m.current[t])||void 0===o||o.focus()}else if("ArrowDown"===e.key&&!G[t]){var a;e.preventDefault(),null===(a=u.current[0])||void 0===a||a.focus()}}else e.preventDefault()},style:{width:"100%",padding:"6px 8px",border:"1px solid ".concat(n.border),borderRadius:"4px",fontSize:"13px",backgroundColor:n.inputBackground||n.cardBackground,color:n.textPrimary}}),G[t]&&Ne(W[t]).length>0&&(0,Ie.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:n.cardBackground,border:"1px solid ".concat(n.border),borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1100,maxHeight:"200px",overflowY:"auto"},children:Ne(W[t]).map(((e,r)=>{const[o,a]=Object.entries(e)[0];return(0,Ie.jsx)("div",{onClick:()=>{const e=[...b.sellerProducts];e[t].productId=a,v((t=>Ue(Ue({},t),{},{sellerProducts:e}))),U((e=>Ue(Ue({},e),{},{[t]:o}))),K((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),setTimeout((()=>{var e;return null===(e=m.current[t])||void 0===e?void 0:e.focus()}),100)},style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary,fontSize:"12px",backgroundColor:r===ne?n.hoverBg:"transparent"},onMouseEnter:()=>oe(r),children:o},a)}))})]}),(0,Ie.jsx)("input",{ref:e=>m.current[t]=e,type:"number",placeholder:"Cost",value:e.productCost,onChange:e=>{const r=[...b.sellerProducts];r[t].productCost=e.target.value,v((e=>Ue(Ue({},e),{},{sellerProducts:r})))},onKeyDown:e=>{var r;if("ArrowLeft"===e.key)e.preventDefault(),null===(r=f.current[t])||void 0===r||r.focus();else if("Enter"===e.key||"ArrowRight"===e.key||"ArrowDown"===e.key){var n;e.preventDefault(),null===(n=u.current[0])||void 0===n||n.focus()}},style:{flex:1,padding:"6px 8px",border:"1px solid ".concat(n.border),borderRadius:"4px",fontSize:"13px",backgroundColor:n.inputBackground||n.cardBackground,color:n.textPrimary,width:"80px"}}),b.sellerProducts.length>1&&(0,Ie.jsx)("button",{onClick:()=>{const e=b.sellerProducts.filter(((e,r)=>r!==t));v((t=>Ue(Ue({},t),{},{sellerProducts:e})))},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"4px 6px",borderRadius:"3px",cursor:"pointer",fontSize:"11px"},children:"\xd7"})]},t))),(0,Ie.jsx)("button",{onClick:()=>{v((e=>Ue(Ue({},e),{},{sellerProducts:[...e.sellerProducts,{productId:"",productCost:""}]})))},style:{backgroundColor:n.success||"#28a745",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"+ Add"})]})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:n.cardBackground,borderRadius:"8px",border:"1px solid ".concat(n.border),overflow:"hidden"},children:[(0,Ie.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid ".concat(n.border),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:n.textPrimary},children:"\ud83d\uded2 Transaction Records"}),(0,Ie.jsx)("button",{onClick:ye,style:{backgroundColor:n.success||"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"+ Add Record (Ctrl+Enter)"})]}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:n.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",width:"10px"},children:"S.No"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",minWidth:"200px"},children:"Buyer Name *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",width:"120px"},children:"City"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",minWidth:"100px"},children:"Product *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",width:"80px"},children:"Qty *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",width:"80px"},children:"Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600",width:"100px"},children:"Rate *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600"},children:"Total"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(n.border),color:n.textPrimary,fontSize:"14px",fontWeight:"600"},children:"Action"})]})}),(0,Ie.jsx)("tbody",{children:b.ledgerRecordDTOList.map(((e,t)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(n.border),color:n.textPrimary,textAlign:"center"},children:t+1}),(0,Ie.jsxs)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border),position:"absolute",minWidth:"419px"},children:[(0,Ie.jsx)("input",{ref:e=>u.current[t]=e,type:"text",placeholder:"Search buyer...",value:D[t]||"",onChange:e=>{L((r=>Ue(Ue({},r),{},{[t]:e.target.value}))),q((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("buyer"),le(t)},onFocus:()=>{D[t]&&(q((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("buyer"),le(t))},onBlur:()=>setTimeout((()=>{q((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),se===t&&(ie(null),le(null))}),200),onKeyDown:e=>{var r,n;if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||!Y[t])if("ArrowRight"!==e.key||Y[t]){if("ArrowLeft"===e.key){var o,a;if(e.preventDefault(),0===t)null===(o=c.current)||void 0===o||o.focus();else null===(a=g.current[t-1])||void 0===a||a.focus()}else if("ArrowUp"===e.key&&t>0&&!Y[t]){var i;e.preventDefault(),null===(i=u.current[t-1])||void 0===i||i.focus()}else if("ArrowDown"===e.key&&t<b.ledgerRecordDTOList.length-1&&!Y[t]){var s;e.preventDefault(),null===(s=u.current[t+1])||void 0===s||s.focus()}}else e.preventDefault(),b.ledgerRecordDTOList[t].productId?null===(r=h.current[t])||void 0===r||r.focus():null===(n=p.current[t])||void 0===n||n.focus();else e.preventDefault()},style:{width:"100%",padding:"8px",border:"none",fontSize:"16px",backgroundColor:"transparent",color:n.textPrimary,outline:"none"}}),Y[t]&&Be(D[t]).length>0&&(0,Ie.jsx)("div",{"data-dropdown":"buyer-".concat(t),style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:n.cardBackground,border:"1px solid ".concat(n.border),borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:Be(D[t]).map(((e,r)=>(0,Ie.jsxs)("div",{onClick:()=>{var r;if(me(t,"buyerName",e.firmName),me(t,"buyerCity",e.city),e.brokerageRate&&me(t,"brokerage",e.brokerageRate),L((r=>Ue(Ue({},r),{},{[t]:e.firmName}))),q((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),null!==(r=b.sellerProducts[0])&&void 0!==r&&r.productId){var n;me(t,"productId",b.sellerProducts[0].productId),null!==(n=b.sellerProducts[0])&&void 0!==n&&n.productCost&&me(t,"productCost",b.sellerProducts[0].productCost);const e=A.find((e=>Object.values(e)[0]===b.sellerProducts[0].productId));if(e){const[r]=Object.entries(e)[0];F((e=>Ue(Ue({},e),{},{[t]:r})))}setTimeout((()=>{var e;return null===(e=h.current[t])||void 0===e?void 0:e.focus()}),100)}else setTimeout((()=>{var e;return null===(e=p.current[t])||void 0===e?void 0:e.focus()}),100)},style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary,fontSize:"12px",backgroundColor:r===ne?n.hoverBg:"transparent"},onMouseEnter:()=>oe(r),children:[(0,Ie.jsx)("div",{style:{fontWeight:"500"},children:e.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"10px",color:n.textSecondary},children:[e.city," ",e.brokerageRate&&"\u2022 Brokerage: ".concat(e.brokerageRate,"/-")]})]},e.id)))})]}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(n.border),color:n.textSecondary,fontSize:"14px"},children:e.buyerCity||"-"}),(0,Ie.jsxs)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border),position:"absolute",minWidth:"210px"},children:[(0,Ie.jsx)("input",{ref:e=>p.current[t]=e,type:"text",placeholder:"Search product...",value:O[t]||"",onChange:e=>{F((r=>Ue(Ue({},r),{},{[t]:e.target.value}))),$((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("product"),le(t)},onFocus:()=>{$((e=>Ue(Ue({},e),{},{[t]:!0}))),oe(-1),ie("product"),le(t)},onBlur:()=>setTimeout((()=>{$((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),se===t&&(ie(null),le(null))}),200),onKeyDown:e=>{var r;if("ArrowUp"!==e.key&&"ArrowDown"!==e.key||!Q[t])if("ArrowRight"!==e.key||Q[t]){if("ArrowLeft"===e.key){var n;e.preventDefault(),null===(n=u.current[t])||void 0===n||n.focus()}else if("ArrowUp"===e.key&&t>0&&!Q[t]){var o;e.preventDefault(),null===(o=p.current[t-1])||void 0===o||o.focus()}else if("ArrowDown"===e.key&&t<b.ledgerRecordDTOList.length-1&&!Q[t]){var a;e.preventDefault(),null===(a=p.current[t+1])||void 0===a||a.focus()}}else e.preventDefault(),null===(r=h.current[t])||void 0===r||r.focus();else e.preventDefault()},style:{width:"100%",padding:"8px",border:"none",fontSize:"14px",backgroundColor:"transparent",color:n.textPrimary,outline:"none"}}),Q[t]&&Ne(O[t]).length>0&&(0,Ie.jsx)("div",{"data-dropdown":"product-".concat(t),style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:n.cardBackground,border:"1px solid ".concat(n.border),borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1100,maxHeight:"200px",overflowY:"auto"},children:Ne(O[t]).map(((e,r)=>{const[o,a]=Object.entries(e)[0];return(0,Ie.jsx)("div",{onClick:()=>{me(t,"productId",a),F((e=>Ue(Ue({},e),{},{[t]:o}))),$((e=>Ue(Ue({},e),{},{[t]:!1}))),oe(-1),setTimeout((()=>{var e;return null===(e=h.current[t])||void 0===e?void 0:e.focus()}),100)},style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid ".concat(n.borderLight),color:n.textPrimary,fontSize:"12px",backgroundColor:r===ne?n.hoverBg:"transparent"},onMouseEnter:()=>oe(r),children:o},a)}))})]}),(0,Ie.jsx)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border)},children:(0,Ie.jsx)("input",{ref:e=>h.current[t]=e,type:"number",value:e.quantity,onChange:e=>me(t,"quantity",e.target.value),onKeyDown:r=>{var n;if("Enter"===r.key)r.preventDefault(),e.brokerage&&e.productCost?ye():null===(n=x.current[t])||void 0===n||n.focus();else if("ArrowRight"===r.key){var o;r.preventDefault(),null===(o=x.current[t])||void 0===o||o.focus()}else if("ArrowLeft"===r.key){var a;r.preventDefault(),null===(a=p.current[t])||void 0===a||a.focus()}else if("ArrowUp"===r.key&&t>0){var i;r.preventDefault(),null===(i=h.current[t-1])||void 0===i||i.focus()}else if("ArrowDown"===r.key&&t<b.ledgerRecordDTOList.length-1){var s;r.preventDefault(),null===(s=h.current[t+1])||void 0===s||s.focus()}},style:{width:"100%",padding:"8px",border:"none",fontSize:"14px",backgroundColor:"transparent",color:n.textPrimary,outline:"none"}})}),(0,Ie.jsx)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border)},children:(0,Ie.jsx)("input",{ref:e=>x.current[t]=e,type:"number",value:e.brokerage,onChange:e=>me(t,"brokerage",e.target.value),onKeyDown:e=>{var r;if("Enter"===e.key||"ArrowRight"===e.key)e.preventDefault(),null===(r=g.current[t])||void 0===r||r.focus();else if("ArrowLeft"===e.key){var n;e.preventDefault(),null===(n=h.current[t])||void 0===n||n.focus()}else if("ArrowUp"===e.key&&t>0){var o;e.preventDefault(),null===(o=x.current[t-1])||void 0===o||o.focus()}else if("ArrowDown"===e.key&&t<b.ledgerRecordDTOList.length-1){var a;e.preventDefault(),null===(a=x.current[t+1])||void 0===a||a.focus()}},style:{width:"100%",padding:"8px",border:"none",fontSize:"14px",backgroundColor:"transparent",color:n.textPrimary,outline:"none"}})}),(0,Ie.jsx)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border)},children:(0,Ie.jsx)("input",{ref:e=>g.current[t]=e,type:"number",value:e.productCost,onChange:e=>me(t,"productCost",e.target.value),onKeyDown:e=>{var r;if("Enter"===e.key)e.preventDefault(),t===b.ledgerRecordDTOList.length-1?ye():null===(r=u.current[t+1])||void 0===r||r.focus();else if("ArrowLeft"===e.key){var n;e.preventDefault(),null===(n=x.current[t])||void 0===n||n.focus()}else if("ArrowUp"===e.key&&t>0){var o;e.preventDefault(),null===(o=g.current[t-1])||void 0===o||o.focus()}else if("ArrowDown"===e.key){var a;if(e.preventDefault(),t<b.ledgerRecordDTOList.length-1)null===(a=g.current[t+1])||void 0===a||a.focus();else ye()}},style:{width:"100%",padding:"8px",border:"none",fontSize:"14px",backgroundColor:"transparent",color:n.textPrimary,outline:"none"}})}),(0,Ie.jsxs)("td",{style:{padding:"8px",border:"1px solid ".concat(n.border),color:n.primary,fontWeight:"600",fontSize:"14px",textAlign:"right"},children:["\u20b9",be(e).toFixed(2)]}),(0,Ie.jsx)("td",{style:{padding:"4px",border:"1px solid ".concat(n.border),textAlign:"center"},children:b.ledgerRecordDTOList.length>1&&(0,Ie.jsx)("button",{onClick:e=>{var r;e.preventDefault(),e.stopPropagation(),r=t,console.log("Removing index:",r,"Total records:",b.ledgerRecordDTOList.length),b.ledgerRecordDTOList.length>1&&(v((e=>Ue(Ue({},e),{},{ledgerRecordDTOList:e.ledgerRecordDTOList.filter(((e,t)=>t!==r))}))),L((e=>{const t={};return Object.keys(e).forEach((n=>{const o=parseInt(n);o<r?t[o]=e[n]:o>r&&(t[o-1]=e[n])})),t})),F((e=>{const t={};return Object.keys(e).forEach((n=>{const o=parseInt(n);o<r?t[o]=e[n]:o>r&&(t[o-1]=e[n])})),t})))},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"10px"},children:"\xd7"})})]},"record-".concat(t,"-").concat(e.buyerName||"","-").concat(e.productId||""))))})]})})]}),(0,Ie.jsx)("div",{style:{marginTop:"20px",backgroundColor:n.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(n.border)},children:(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"13px",color:n.textSecondary,marginBottom:"4px"},children:"Total Bags"}),(0,Ie.jsx)("div",{style:{fontSize:"22px",fontWeight:"700",color:n.success},children:je()})]}),(0,Ie.jsx)("div",{style:{fontSize:"24px",color:n.textSecondary,fontWeight:"bold"},children:"|"}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"13px",color:n.textSecondary,marginBottom:"4px"},children:"Seller Brokerage"}),(0,Ie.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:n.info},children:["\u20b9",ke().toFixed(2)]})]}),(0,Ie.jsx)("div",{style:{fontSize:"28px",color:n.primary,fontWeight:"bold"},children:"+"}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"13px",color:n.textSecondary,marginBottom:"4px"},children:"Buyer Brokerage"}),(0,Ie.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:n.primary},children:["\u20b9",ve().toFixed(2)]})]}),(0,Ie.jsx)("div",{style:{fontSize:"28px",color:n.warning,fontWeight:"bold"},children:"="}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("div",{style:{fontSize:"13px",color:n.textSecondary,marginBottom:"4px"},children:"Total Brokerage"}),(0,Ie.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:n.warning},children:["\u20b9",we().toFixed(2)]})]})]})}),(0,Ie.jsx)("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:"create"===o&&(0,Ie.jsx)("button",{onClick:()=>Se(!0),disabled:j,style:{backgroundColor:n.success||"#28a745",color:"white",border:"none",padding:"12px 32px",borderRadius:"6px",cursor:j?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",minWidth:"120px",opacity:j?.6:1},children:j?"\ud83d\udcbe Saving...":"\u27a1\ufe0f Save & Next (Ctrl+S)"})})]})]})},Ih=e=>{let{selectedYear:t,onYearChange:r,label:n="Financial Year"}=e;const{theme:o}=Ee(),[i,s]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0);(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await Hn();s(e||[]),!t&&e&&e.length>0&&r(e[0].yearId)}catch(e){console.error("Error fetching financial years:",e)}finally{d(!1)}};return l?(0,Ie.jsx)("div",{style:{color:o.textSecondary},children:"Loading financial years..."}):(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:o.textPrimary},children:[n,":"]}),(0,Ie.jsxs)("select",{value:t||"",onChange:e=>r(parseInt(e.target.value)),style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(o.border),borderRadius:"4px",fontSize:"14px",backgroundColor:o.inputBackground||o.cardBackground||"#fff",color:o.textPrimary||"#000",cursor:"pointer"},children:[(0,Ie.jsx)("option",{value:"",style:{backgroundColor:"#fff",color:"#000"},children:"Select Financial Year"}),i.map((e=>(0,Ie.jsx)("option",{value:e.yearId,style:{backgroundColor:"#fff",color:"#000"},children:e.financialYearName},e.yearId)))]})]})},zh=()=>{const e=Z(),t=te(),{theme:r}=Ee(),{transactionNumber:n,financialYearId:o,brokerId:i,date:s}=e.state||{};console.log("TransactionDetailEdit props:",{transactionNumber:n,financialYearId:o,brokerId:i,date:s});const l=s||(new Date).toISOString().split("T")[0],[d,c]=(0,a.useState)({brokerId:parseInt(localStorage.getItem("brokerId")),financialYearId:o||null,sellerBrokerage:"",brokerage:0,fromSeller:"",date:l,sellerProducts:[{productId:"",productCost:""}],ledgerRecordDTOList:[{buyerName:"",productId:"",quantity:"",brokerage:"",productCost:""}]}),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[m,y]=(0,a.useState)(""),[b,v]=(0,a.useState)([]),[j,k]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[C,P]=(0,a.useState)(!0),[B,N]=(0,a.useState)(""),[T,R]=(0,a.useState)({}),[A,_]=(0,a.useState)(!1),[I,z]=(0,a.useState)({}),[E,M]=(0,a.useState)({}),[D,L]=(0,a.useState)({}),[O,F]=(0,a.useState)(-1),[W,U]=(0,a.useState)(null),[H,V]=(0,a.useState)(null);(0,a.useEffect)((()=>{console.log("TransactionDetailEdit component mounted, loading sellers/buyers/products..."),$()}),[]),(0,a.useEffect)((()=>{const e=e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||!(A||Object.values(I).some(Boolean)||Object.values(D).some(Boolean))){if("Enter"===e.key){if(e.ctrlKey)return e.preventDefault(),void ee();if(A){e.preventDefault();const t=le();if(t.length>0&&O>=0){const e=t[O];K("fromSeller",e.id),e.brokerageRate&&K("sellerBrokerage",e.brokerageRate),N(e.firmName),_(!1),F(-1)}return}if("buyer"===W&&null!==H&&I[H]){e.preventDefault();const t=de(T[H]);if(t.length>0&&O>=0){const e=t[O];J(H,"buyerName",e.firmName),e.brokerageRate&&J(H,"brokerage",e.brokerageRate),R((t=>Ue(Ue({},t),{},{[H]:e.firmName}))),z((e=>Ue(Ue({},e),{},{[H]:!1}))),F(-1)}return}if("product"===W&&null!==H&&D[H]){e.preventDefault();const t=ce(E[H]);if(t.length>0&&O>=0){const e=t[O],[r,n]=Object.entries(e)[0];J(H,"productId",n),M((e=>Ue(Ue({},e),{},{[H]:r}))),L((e=>Ue(Ue({},e),{},{[H]:!1}))),F(-1)}return}}return"s"===e.key&&e.ctrlKey?(e.preventDefault(),void se()):"Escape"===e.key?(_(!1),z({}),L({}),F(-1),U(null),void V(null)):void 0}{e.preventDefault();const t="ArrowDown"===e.key?1:-1;if(A){const e=le(),r=Math.max(0,Math.min(e.length-1,O+t));F(r)}else if("buyer"===W&&null!==H){const e=de(T[H]),r=Math.max(0,Math.min(e.length-1,O+t));F(r)}else if("product"===W&&null!==H){const e=ce(E[H]),r=Math.max(0,Math.min(e.length-1,O+t));F(r)}}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[A,I,D,O,W,H,T,E,d]),(0,a.useEffect)((()=>{console.log("useEffect triggered with:",{transactionNumber:n,financialYearId:o});n?(async()=>{try{console.log("Loading current financial year...");const e=await Yn();console.log("Current FY response:",e);const t=o||e;console.log("Final fyId:",t,"financialYearId:",o,"currentFY:",e),t&&n?(console.log("Both fyId and transactionNumber available, fetching data..."),c((e=>Ue(Ue({},e),{},{financialYearId:t}))),await G(n,t)):console.log("Missing required data:",{fyId:t,transactionNumber:n})}catch(x){console.error("Error in loadCurrentFinancialYearAndFetchData:",x)}})():console.log("No transactionNumber provided, skipping data fetch")}),[]);const Y=async()=>{try{console.log("Fetching sellers from /BrokerHub/user/getFirmNamesIdsAndCities");const e=await wn();console.log("Sellers data:",e),v(e||[])}catch(e){console.error("Error fetching sellers:",e)}},q=async()=>{try{console.log("Fetching buyers from /BrokerHub/user/getFirmNamesIdsAndCities");const e=await wn();console.log("Buyers data:",e),k(e||[])}catch(e){console.error("Error fetching buyers:",e)}},Q=async()=>{try{console.log("Fetching products from /BrokerHub/Product/getProductNamesAndQualitiesAndQuantitesWithId");const e=await Rn();console.log("Products data:",e),S(e||[])}catch(e){console.error("Error fetching products:",e)}},$=async()=>{P(!0),await Promise.all([Y(),q(),Q()]),P(!1)},G=async(e,t)=>{console.log("fetchTransactionDataWithFY called with:",{txnNumber:e,fyId:t}),p(!0),f("");try{const r=i||localStorage.getItem("brokerId");console.log("Calling getOptimizedLedgerDetailsByTransactionNumber API with:",{transactionNumber:e,brokerId:r,financialYearId:t});const n=await qn.getOptimizedLedgerDetailsByTransactionNumber(e,r,t);if(console.log("getOptimizedLedgerDetailsByTransactionNumber API Response:",n),n){c((e=>{var t,r;return Ue(Ue({},e),{},{brokerId:parseInt(localStorage.getItem("brokerId")),financialYearId:e.financialYearId,sellerBrokerage:(null===(t=n.transactionSummary)||void 0===t?void 0:t.averageBrokeragePerBag)||0,brokerage:(null===(r=n.transactionSummary)||void 0===r?void 0:r.totalBrokerageInTransaction)||0,fromSeller:n.fromSeller.userId,date:ue(n.transactionDate),sellerProducts:n.records.reduce(((e,t)=>(e.find((e=>e.productId===t.product.productId))||e.push({productId:t.product.productId,productCost:t.productCost}),e)),[]),ledgerRecordDTOList:n.records.map((e=>({buyerName:e.toBuyer.firmName,productId:e.product.productId,quantity:e.quantity,brokerage:e.brokerage,productCost:e.productCost})))})}));const e=b.find((e=>e.id===n.fromSeller.userId));e&&N(e.firmName);const t={},r={};n.records.forEach(((e,n)=>{t[n]=e.toBuyer.firmName,r[n]=e.product.productName})),R(t),M(r)}}catch(r){f("Failed to fetch transaction data"),console.error("Error fetching transaction data:",r)}finally{p(!1)}},K=(e,t)=>{c((r=>Ue(Ue({},r),{},{[e]:t})))},X=(e,t,r)=>{c((n=>Ue(Ue({},n),{},{sellerProducts:n.sellerProducts.map(((n,o)=>o===e?Ue(Ue({},n),{},{[t]:r}):n))})))},J=(e,t,r)=>{c((n=>Ue(Ue({},n),{},{ledgerRecordDTOList:n.ledgerRecordDTOList.map(((n,o)=>o===e?Ue(Ue({},n),{},{[t]:r}):n))})))},ee=()=>{c((e=>Ue(Ue({},e),{},{ledgerRecordDTOList:[...e.ledgerRecordDTOList,{buyerName:"",productId:"",quantity:"",brokerage:"",productCost:""}]})))},re=e=>(parseFloat(e.quantity)||0)*(parseFloat(e.brokerage)||0),ne=()=>d.ledgerRecordDTOList.reduce(((e,t)=>e+re(t)),0),oe=()=>d.ledgerRecordDTOList.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0),ae=()=>(parseFloat(d.sellerBrokerage)||0)*oe(),ie=()=>ae()+ne(),se=async()=>{if(console.log("FormData financialYearId:",d.financialYearId,typeof d.financialYearId),d.financialYearId||console.log("No financial year set, proceeding without it (backend will handle)"),!d.fromSeller)return void f("Please select a seller");if(!d.date)return void f("Please select a date");if(d.ledgerRecordDTOList.some((e=>{var t;return!(null!==(t=e.buyerName)&&void 0!==t&&t.trim())||!e.productId||!e.quantity||!e.productCost})))return f("Please fill all required fields in transaction records"),void console.log("Validation failed. Records:",d.ledgerRecordDTOList);g(!0),f(""),y("");try{const e={date:pe(d.date),fromSeller:d.fromSeller,brokerage:ie(),ledgerRecordDTOList:d.ledgerRecordDTOList};console.log("Updating transaction with updateLedgerDetailByTransactionNumber API:",{transactionNumber:n,brokerId:i||localStorage.getItem("brokerId"),financialYearId:d.financialYearId,data:e}),await qn.updateLedgerDetailByTransactionNumber(n,i||localStorage.getItem("brokerId"),d.financialYearId,e),y("Transaction updated successfully!")}catch(e){f("string"===typeof e?e:"Failed to update transaction"),console.error("Error updating transaction:",e)}finally{g(!1)}},le=()=>B?b.filter((e=>e.firmName.toLowerCase().includes(B.toLowerCase())||e.city.toLowerCase().includes(B.toLowerCase()))):b,de=e=>e?j.filter((t=>t.firmName.toLowerCase().includes(e.toLowerCase())||t.city.toLowerCase().includes(e.toLowerCase()))):j,ce=e=>e?w.filter((t=>{const[r]=Object.entries(t)[0];return r.toLowerCase().includes(e.toLowerCase())})):w,ue=e=>{if(!e)return"";const[t,r,n]=e.split("-");return"".concat(n,"-").concat(r,"-").concat(t)},pe=e=>{if(!e)return"";const[t,r,n]=e.split("-");return"".concat(n,"-").concat(r,"-").concat(t)};return u||C?(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"50px",backgroundColor:r.background,minHeight:"100vh",color:r.textPrimary},children:[(0,Ie.jsx)("div",{children:u?"Loading transaction data...":"Loading sellers, buyers, and products..."}),(0,Ie.jsx)("div",{style:{marginTop:"10px",fontSize:"14px",color:r.textSecondary},children:C&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{children:["Sellers: ",b.length," loaded"]}),(0,Ie.jsxs)("div",{children:["Buyers: ",j.length," loaded"]}),(0,Ie.jsxs)("div",{children:["Products: ",w.length," loaded"]})]})})]}):(0,Ie.jsxs)("div",{className:"transaction-detail-container",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",backgroundColor:r.background,minHeight:"100vh",color:r.textPrimary},children:[(0,Ie.jsxs)("div",{className:"header",style:{marginBottom:"30px"},children:[(0,Ie.jsxs)("h1",{style:{color:r.textPrimary,marginBottom:"10px"},children:["Edit Transaction #",n]}),(0,Ie.jsx)("button",{onClick:()=>t("/daily-ledger",{state:{date:s}}),style:{backgroundColor:r.secondary||"#6c757d",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\u2190 Back to Daily Ledger"})]}),x&&(0,Ie.jsx)("div",{className:"alert alert-error",children:x}),m&&(0,Ie.jsx)("div",{className:"alert alert-success",children:m}),(0,Ie.jsxs)("div",{className:"form-container",style:{backgroundColor:r.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(r.border)},children:[(0,Ie.jsxs)("div",{className:"transaction-header",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:"Transaction Number:"}),(0,Ie.jsx)("input",{type:"text",value:n,disabled:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"14px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary,opacity:.7}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:"Date:"}),(0,Ie.jsx)("input",{type:"text",value:d.date,onChange:e=>K("date",e.target.value),placeholder:"DD-MM-YYYY",style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"14px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:"Seller Brokerage (%):"}),(0,Ie.jsx)("input",{type:"text",value:d.sellerBrokerage,onChange:e=>K("sellerBrokerage",e.target.value),placeholder:"e.g., 2%",style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"14px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})]})]}),(0,Ie.jsx)("div",{className:"seller-section",style:{marginBottom:"30px"},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsxs)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:["From Seller - ",(()=>{const e=b.find((e=>e.id===parseInt(d.fromSeller)));return e?"".concat(e.firmName," - ").concat(e.city):""})(),": ",(0,Ie.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search and select seller...",value:B,onChange:e=>{N(e.target.value),_(!0),F(0),U("seller")},onFocus:()=>{B&&(_(!0),F(0),U("seller"))},onBlur:()=>setTimeout((()=>{_(!1),F(-1),U(null)}),200),onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||!A||e.preventDefault()},style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"14px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}}),A&&(0,Ie.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:r.cardBackground,border:"1px solid ".concat(r.border),borderRadius:"4px",boxShadow:r.shadow,zIndex:10,maxHeight:"200px",overflowY:"auto"},children:le().map(((e,t)=>(0,Ie.jsxs)("div",{onClick:()=>{K("fromSeller",e.id),e.brokerageRate&&K("sellerBrokerage",e.brokerageRate),N(e.firmName),_(!1),F(-1)},style:{padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid ".concat(r.borderLight),color:r.textPrimary,backgroundColor:t===O?r.hoverBg:"transparent"},onMouseEnter:()=>F(t),children:[(0,Ie.jsx)("div",{style:{fontWeight:"500"},children:e.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"12px",color:r.textSecondary},children:[e.city," ",e.brokerageRate&&"\u2022 Brokerage: ".concat(e.brokerageRate,"%")]})]},e.id)))})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:"Seller Products:"}),(d.sellerProducts||[]).map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr auto",gap:"8px",marginBottom:"8px"},children:[(0,Ie.jsxs)("select",{value:e.productId,onChange:e=>X(t,"productId",e.target.value),style:{padding:"6px 8px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"12px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary},children:[(0,Ie.jsx)("option",{value:"",children:"Select Product"}),(w||[]).map((e=>{const[t,r]=Object.entries(e)[0];return(0,Ie.jsx)("option",{value:r,children:t},r)}))]}),(0,Ie.jsx)("input",{type:"number",placeholder:"Cost",value:e.productCost,onChange:e=>X(t,"productCost",e.target.value),style:{padding:"6px 8px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"12px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}}),d.sellerProducts.length>1&&(0,Ie.jsx)("button",{onClick:()=>(e=>{d.sellerProducts.length>1&&c((t=>Ue(Ue({},t),{},{sellerProducts:t.sellerProducts.filter(((t,r)=>r!==e))})))})(t),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"\xd7"})]},t))),(0,Ie.jsx)("button",{onClick:()=>{c((e=>Ue(Ue({},e),{},{sellerProducts:[...e.sellerProducts,{productId:"",productCost:""}]})))},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginTop:"8px"},children:"+ Add Product"})]})]})}),(0,Ie.jsxs)("div",{className:"buyers-section",children:[(0,Ie.jsx)("h3",{style:{marginBottom:"20px",color:r.textPrimary},children:"Buyers"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:r.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",width:"10px"},children:"S.No"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",minWidth:"200px"},children:"Buyer Name *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",width:"120px"},children:"City"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",minWidth:"100px"},children:"Product *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",width:"80px"},children:"Qty *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",width:"80px"},children:"Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600",width:"100px"},children:"Rate *"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600"},children:"Total"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary,fontSize:"14px",fontWeight:"600"},children:"Action"})]})}),(0,Ie.jsx)("tbody",{children:d.ledgerRecordDTOList.map(((e,t)=>{var n;return(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary,textAlign:"center"},children:t+1}),(0,Ie.jsxs)("td",{style:{padding:"4px",border:"1px solid ".concat(r.border),position:"absolute",minWidth:"315px"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search buyer...",value:T[t]||"",onChange:e=>{R((r=>Ue(Ue({},r),{},{[t]:e.target.value}))),z((e=>Ue(Ue({},e),{},{[t]:!0}))),F(0),U("buyer"),V(t)},onFocus:()=>{T[t]&&(z((e=>Ue(Ue({},e),{},{[t]:!0}))),F(0),U("buyer"),V(t))},onBlur:()=>setTimeout((()=>{z((e=>Ue(Ue({},e),{},{[t]:!1}))),F(-1),H===t&&(U(null),V(null))}),200),onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||!I[t]||e.preventDefault()},style:{width:"100%",padding:"8px",border:"none",fontSize:"16px",backgroundColor:"transparent",color:r.textPrimary,outline:"none"}}),I[t]&&(0,Ie.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:r.cardBackground,border:"1px solid ".concat(r.border),borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:de(T[t]).map(((e,n)=>(0,Ie.jsxs)("div",{onClick:()=>{J(t,"buyerName",e.firmName),e.brokerageRate&&J(t,"brokerage",e.brokerageRate),R((r=>Ue(Ue({},r),{},{[t]:e.firmName}))),z((e=>Ue(Ue({},e),{},{[t]:!1}))),F(-1)},style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid ".concat(r.borderLight),color:r.textPrimary,fontSize:"12px",backgroundColor:n===O?r.hoverBg:"transparent"},onMouseEnter:()=>F(n),children:[(0,Ie.jsx)("div",{style:{fontWeight:"500"},children:e.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"10px",color:r.textSecondary},children:[e.city," ",e.brokerageRate&&"\u2022 Brokerage: ".concat(e.brokerageRate,"%")]})]},e.id)))})]}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textSecondary,fontSize:"14px"},children:(null===(n=j.find((t=>t.firmName===e.buyerName)))||void 0===n?void 0:n.city)||"-"}),(0,Ie.jsxs)("td",{style:{padding:"4px",border:"1px solid ".concat(r.border),position:"absolute",minWidth:"315px"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search product...",value:E[t]||"",onChange:e=>{M((r=>Ue(Ue({},r),{},{[t]:e.target.value}))),L((e=>Ue(Ue({},e),{},{[t]:!0}))),F(0),U("product"),V(t)},onFocus:()=>{E[t]&&(L((e=>Ue(Ue({},e),{},{[t]:!0}))),F(0),U("product"),V(t))},onBlur:()=>setTimeout((()=>{L((e=>Ue(Ue({},e),{},{[t]:!1}))),F(-1),H===t&&(U(null),V(null))}),200),onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||!D[t]||e.preventDefault()},style:{width:"100%",padding:"8px",border:"none",fontSize:"14px",backgroundColor:"transparent",color:r.textPrimary,outline:"none"}}),D[t]&&(0,Ie.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:r.cardBackground,border:"1px solid ".concat(r.border),borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1100,maxHeight:"200px",overflowY:"auto"},children:ce(E[t]).map(((e,n)=>{const[o,a]=Object.entries(e)[0];return(0,Ie.jsx)("div",{onClick:()=>{J(t,"productId",a),M((e=>Ue(Ue({},e),{},{[t]:o}))),L((e=>Ue(Ue({},e),{},{[t]:!1}))),F(-1)},style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid ".concat(r.borderLight),color:r.textPrimary,fontSize:"12px",backgroundColor:n===O?r.hoverBg:"transparent"},onMouseEnter:()=>F(n),children:o},a)}))})]}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border)},children:(0,Ie.jsx)("input",{type:"number",value:e.quantity,onChange:e=>J(t,"quantity",e.target.value),style:{width:"100%",padding:"6px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"12px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border)},children:(0,Ie.jsx)("input",{type:"number",value:e.brokerage,onChange:e=>J(t,"brokerage",e.target.value),style:{width:"100%",padding:"6px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"12px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border)},children:(0,Ie.jsx)("input",{type:"number",value:e.productCost,onChange:e=>J(t,"productCost",e.target.value),style:{width:"100%",padding:"6px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"12px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:re(e).toFixed(2)}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border)},children:d.ledgerRecordDTOList.length>1&&(0,Ie.jsx)("button",{onClick:e=>{var r;e.preventDefault(),e.stopPropagation(),r=t,console.log("Removing index:",r,"Total records:",d.ledgerRecordDTOList.length),d.ledgerRecordDTOList.length>1&&(c((e=>Ue(Ue({},e),{},{ledgerRecordDTOList:e.ledgerRecordDTOList.filter(((e,t)=>t!==r))}))),R((e=>{const t={};return Object.keys(e).forEach((n=>{const o=parseInt(n);o<r?t[o]=e[n]:o>r&&(t[o-1]=e[n])})),t})),M((e=>{const t={};return Object.keys(e).forEach((n=>{const o=parseInt(n);o<r?t[o]=e[n]:o>r&&(t[o-1]=e[n])})),t})))},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"Remove"})})]},"record-".concat(t,"-").concat(e.buyerName||"","-").concat(e.productId||""))}))})]})}),(0,Ie.jsx)("button",{onClick:ee,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginTop:"15px"},children:"+ Add Record"}),(0,Ie.jsx)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:r.background,borderRadius:"8px",border:"1px solid ".concat(r.border)},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Buyer Brokerage: "}),(0,Ie.jsx)("span",{style:{color:r.primary},children:ne().toFixed(2)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Bags: "}),(0,Ie.jsx)("span",{style:{color:r.success},children:oe()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Seller Brokerage: "}),(0,Ie.jsx)("span",{style:{color:r.info},children:ae().toFixed(2)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Brokerage: "}),(0,Ie.jsx)("span",{style:{color:r.warning},children:ie().toFixed(2)})]})]})})]}),(0,Ie.jsx)("div",{className:"action-buttons",style:{display:"flex",gap:"15px",justifyContent:"flex-end",marginTop:"30px"},children:(0,Ie.jsx)("button",{onClick:se,disabled:h,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:h?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",opacity:h?.6:1},children:h?"Updating...":"Update Transaction"})})]})]})},Eh=e=>{let{onEdit:t}=e;const{theme:r}=Ee(),[n,o]=(0,a.useState)(""),[i,s]=(0,a.useState)((new Date).getFullYear()),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),g=localStorage.getItem("brokerId"),x=async()=>{if(n&&i){u(!0),h("");try{const e=await qn.getOptimizedLedgerDetailsByTransactionNumber(parseInt(n),g,i);d(e)}catch(e){h(e.message||"Transaction not found"),d(null)}finally{u(!1)}}else h("Please enter transaction number and select financial year")},f=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return(0,Ie.jsxs)("div",{style:{backgroundColor:r.cardBackground,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(r.border),marginBottom:"20px"},children:[(0,Ie.jsx)("h3",{style:{color:r.textPrimary,marginBottom:"20px"},children:"View Transaction Details"}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"15px",marginBottom:"20px",alignItems:"end"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:r.textPrimary},children:"Transaction Number:"}),(0,Ie.jsx)("input",{type:"number",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),x())},placeholder:"Enter transaction number",style:{width:"100%",padding:"8px 12px",border:"1px solid ".concat(r.border),borderRadius:"4px",fontSize:"14px",backgroundColor:r.inputBackground||r.cardBackground,color:r.textPrimary}})]}),(0,Ie.jsx)(Ih,{selectedYear:i,onYearChange:s}),(0,Ie.jsx)("button",{onClick:x,disabled:c,style:{backgroundColor:r.primary||"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",opacity:c?.6:1},children:c?"Loading...":"Search"})]}),p&&(0,Ie.jsx)("div",{style:{backgroundColor:r.errorBg||"#f8d7da",color:r.errorText||"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"20px",border:"1px solid ".concat(r.errorBorder||"#f5c6cb")},children:p}),l&&(0,Ie.jsxs)("div",{style:{backgroundColor:r.background,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(r.border)},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px",padding:"15px",backgroundColor:r.cardBackground,borderRadius:"8px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Transaction #:"}),(0,Ie.jsx)("div",{style:{color:r.primary,fontSize:"18px",fontWeight:"bold"},children:l.brokerTransactionNumber})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Date:"}),(0,Ie.jsx)("div",{style:{color:r.textSecondary},children:l.transactionDate})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Seller:"}),(0,Ie.jsx)("div",{style:{color:r.textSecondary},children:l.fromSeller.firmName})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Bags:"}),(0,Ie.jsx)("div",{style:{color:r.success,fontWeight:"bold"},children:l.transactionSummary.totalBagsSoldInTransaction})]})]}),(0,Ie.jsx)("div",{style:{overflowX:"auto",marginBottom:"20px"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:r.cardBackground},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"S.No"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Buyer"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Product"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Quantity"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Rate"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Total Cost"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(r.border),color:r.textPrimary},children:"Total Brokerage"})]})}),(0,Ie.jsx)("tbody",{children:l.records.map(((e,t)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:t+1}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:e.toBuyer.firmName}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:e.product.productName}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:e.quantity}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:f(e.productCost)}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:e.brokerage}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:f(e.totalProductsCost)}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(r.border),color:r.textPrimary},children:f(e.totalBrokerage)})]},e.ledgerRecordId)))})]})}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",padding:"15px",backgroundColor:r.cardBackground,borderRadius:"8px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Bags:"}),(0,Ie.jsx)("div",{style:{color:r.success,fontSize:"16px",fontWeight:"bold"},children:l.transactionSummary.totalBagsSoldInTransaction})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Brokerage:"}),(0,Ie.jsx)("div",{style:{color:r.primary,fontSize:"16px",fontWeight:"bold"},children:f(l.transactionSummary.totalBrokerageInTransaction)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Total Amount:"}),(0,Ie.jsx)("div",{style:{color:r.warning,fontSize:"16px",fontWeight:"bold"},children:f(l.transactionSummary.totalReceivableAmountInTransaction)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("strong",{style:{color:r.textPrimary},children:"Avg Brokerage/Bag:"}),(0,Ie.jsx)("div",{style:{color:r.info,fontSize:"16px",fontWeight:"bold"},children:f(l.transactionSummary.averageBrokeragePerBag)})]})]}),(0,Ie.jsx)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"20px"},children:(0,Ie.jsx)("button",{onClick:()=>t&&t(l),style:{backgroundColor:r.warning||"#ffc107",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Edit Transaction"})})]})]})},Mh=()=>{const e=te(),{theme:t}=Ee(),[r,n]=(0,a.useState)("view"),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)((new Date).toISOString().split("T")[0]),[h,g]=(0,a.useState)([]),x=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{"all"===r?f():"date"===r&&m()}),[r,u]);const f=async()=>{l(!0),c("");try{const e=await qn.getAllLedgerDetails(x);i(e||[])}catch(e){c("Failed to fetch transactions"),console.error("Error fetching all transactions:",e)}finally{l(!1)}},m=async()=>{l(!0),c("");try{const e=await qn.getLedgerDetailsByDate(u,x);g(e||[])}catch(e){c("Failed to fetch transactions for selected date"),console.error("Error fetching date transactions:",e)}finally{l(!1)}},y=()=>{e("/transaction-detail",{state:{mode:"create",date:u}})},b=t=>{e("/transaction-detail-edit",{state:{transactionNumber:t.brokerTransactionNumber,financialYearId:t.financialYearId,brokerId:parseInt(x),date:t.transactionDate||u}})},v=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),j=e=>({padding:"12px 24px",border:"none",backgroundColor:e?t.primary||"#007bff":t.cardBackground,color:e?"white":t.textPrimary,cursor:"pointer",borderRadius:"4px 4px 0 0",fontSize:"14px",fontWeight:"bold",marginRight:"2px"});return(0,Ie.jsxs)("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto",backgroundColor:t.background,minHeight:"100vh",color:t.textPrimary},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Ie.jsx)("h1",{style:{color:t.textPrimary,marginBottom:"10px"},children:"Ledger Management"}),(0,Ie.jsx)("p",{style:{color:t.textSecondary,marginBottom:"20px"},children:"Manage your transaction ledger with transaction number system"}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("button",{onClick:()=>n("view"),style:j("view"===r),children:"View Transaction"}),(0,Ie.jsx)("button",{onClick:()=>n("create"),style:j("create"===r),children:"Create Transaction"}),(0,Ie.jsx)("button",{onClick:()=>n("date"),style:j("date"===r),children:"By Date"}),(0,Ie.jsx)("button",{onClick:()=>n("all"),style:j("all"===r),children:"All Transactions"})]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:t.cardBackground,borderRadius:"0 8px 8px 8px",border:"1px solid ".concat(t.border),minHeight:"400px"},children:["view"===r&&(0,Ie.jsx)("div",{style:{padding:"20px"},children:(0,Ie.jsx)(Eh,{onEdit:b})}),"create"===r&&(0,Ie.jsx)("div",{style:{padding:"20px"},children:(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,Ie.jsx)("h3",{style:{color:t.textPrimary,marginBottom:"20px"},children:"Create New Transaction"}),(0,Ie.jsx)("p",{style:{color:t.textSecondary,marginBottom:"30px"},children:"Click the button below to create a new transaction. The system will automatically assign the next transaction number."}),(0,Ie.jsx)("button",{onClick:y,style:{backgroundColor:t.success||"#28a745",color:"white",border:"none",padding:"15px 30px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Create New Transaction"})]})}),"date"===r&&(0,Ie.jsxs)("div",{style:{padding:"20px"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:t.textPrimary},children:"Select Date:"}),(0,Ie.jsx)("input",{type:"date",value:u,onChange:e=>p(e.target.value),style:{padding:"8px 12px",border:"1px solid ".concat(t.border),borderRadius:"4px",fontSize:"14px",backgroundColor:t.inputBackground||t.cardBackground,color:t.textPrimary}})]}),s&&(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"20px",color:t.textPrimary},children:"Loading transactions..."}),d&&(0,Ie.jsx)("div",{style:{backgroundColor:t.errorBg||"#f8d7da",color:t.errorText||"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"20px"},children:d}),!s&&!d&&0===h.length&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px",backgroundColor:t.background,borderRadius:"8px",border:"1px solid ".concat(t.border)},children:[(0,Ie.jsxs)("p",{style:{color:t.textSecondary,marginBottom:"20px"},children:["No transactions found for ",u]}),(0,Ie.jsx)("button",{onClick:y,style:{backgroundColor:t.success||"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Create Transaction for This Date"})]}),!s&&!d&&h.length>0&&(0,Ie.jsx)("div",{children:h.map(((e,r)=>(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsxs)("h4",{style:{color:t.textPrimary,marginBottom:"15px",padding:"10px",backgroundColor:t.background,borderRadius:"4px"},children:[e.date," - Seller: ",e.sellerName]}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:t.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Buyer"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Product"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Quantity"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Rate"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Total"})]})}),(0,Ie.jsx)("tbody",{children:e.displayLedgerRecordDTOList.map(((e,r)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:e.buyerName}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:e.productName}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:e.quantity}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:v(e.productCost)}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:e.brokerage}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:v(e.total)})]},r)))})]})})]},r)))})]}),"all"===r&&(0,Ie.jsxs)("div",{style:{padding:"20px"},children:[s&&(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"20px",color:t.textPrimary},children:"Loading all transactions..."}),d&&(0,Ie.jsx)("div",{style:{backgroundColor:t.errorBg||"#f8d7da",color:t.errorText||"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"20px"},children:d}),!s&&!d&&0===o.length&&(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px",backgroundColor:t.background,borderRadius:"8px",border:"1px solid ".concat(t.border)},children:[(0,Ie.jsx)("p",{style:{color:t.textSecondary,marginBottom:"20px"},children:"No transactions found"}),(0,Ie.jsx)("button",{onClick:y,style:{backgroundColor:t.success||"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Create Your First Transaction"})]}),!s&&!d&&o.length>0&&(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{style:{backgroundColor:t.background},children:[(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Transaction #"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Date"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Seller"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Total Bags"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Total Brokerage"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Financial Year"}),(0,Ie.jsx)("th",{style:{padding:"12px",textAlign:"left",border:"1px solid ".concat(t.border),color:t.textPrimary},children:"Actions"})]})}),(0,Ie.jsx)("tbody",{children:o.map(((e,r)=>{var n,o,a,i;return(0,Ie.jsxs)("tr",{children:[(0,Ie.jsxs)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.primary,fontWeight:"bold"},children:["#",e.brokerTransactionNumber]}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:null===(n=e.dailyLedger)||void 0===n?void 0:n.date}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:null===(o=e.fromSeller)||void 0===o?void 0:o.firmName}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:null===(a=e.records)||void 0===a?void 0:a.reduce(((e,t)=>e+(t.quantity||0)),0)}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:v((null===(i=e.records)||void 0===i?void 0:i.reduce(((e,t)=>e+(t.totalBrokerage||0)),0))||0)}),(0,Ie.jsxs)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border),color:t.textPrimary},children:["FY ",e.financialYearId]}),(0,Ie.jsx)("td",{style:{padding:"8px",border:"1px solid ".concat(t.border)},children:(0,Ie.jsx)("button",{onClick:()=>b(e),style:{backgroundColor:t.info||"#17a2b8",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginRight:"5px"},children:"View/Edit"})})]},e.ledgerDetailsId||r)}))})]})})]})]})]})},Dh=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:o="Confirm Action",message:a="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:s="Cancel",type:l="danger",loading:d=!1}=e;const{theme:c}=Ee();if(!t)return null;const u=(()=>{switch(l){case"danger":default:return{confirmBg:c.error,confirmHover:"#dc2626",icon:"\u26a0\ufe0f"};case"warning":return{confirmBg:c.warning,confirmHover:"#d97706",icon:"\u26a0\ufe0f"};case"info":return{confirmBg:c.info,confirmHover:"#2563eb",icon:"\u2139\ufe0f"}}})();return(0,Ie.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:[(0,Ie.jsxs)("div",{style:{backgroundColor:c.modalBackground,borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"100%",boxShadow:c.shadowModal,border:"1px solid ".concat(c.border),animation:"modalSlideIn 0.2s ease-out"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"24px"},children:u.icon}),(0,Ie.jsx)("h3",{style:{margin:0,color:c.textPrimary,fontSize:"18px",fontWeight:"600"},children:o})]}),(0,Ie.jsx)("p",{style:{margin:"0 0 24px 0",color:c.textSecondary,fontSize:"14px",lineHeight:"1.5"},children:a}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:r,style:{padding:"10px 16px",border:"1px solid ".concat(c.border),borderRadius:"6px",backgroundColor:c.cardBackground,color:c.textPrimary,fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor=c.hoverBg},onMouseLeave:e=>{e.target.style.backgroundColor=c.cardBackground},children:s}),(0,Ie.jsxs)("button",{onClick:n,disabled:d,style:{padding:"10px 16px",border:"none",borderRadius:"6px",backgroundColor:u.confirmBg,color:"white",fontSize:"14px",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d?.7:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{d||(e.target.style.backgroundColor=u.confirmHover)},onMouseLeave:e=>{d||(e.target.style.backgroundColor=u.confirmBg)},children:[d&&(0,Ie.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),i]})]})]}),(0,Ie.jsx)("style",{jsx:!0,children:"\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},Lh=()=>{const{theme:e}=Ee(),{isMobile:t}=_p(),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[m,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[w,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{C()}),[]);const C=async()=>{i(!0),l("");try{const e=await Tn();n(e||[])}catch(s){console.error("Error loading products:",s),l(s.message||"Failed to load products")}finally{i(!1)}},P=r.filter((e=>{var t,r;return(null===(t=e.productName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.quality)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))})),B=t=>{let{product:r}=t;return(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"20px",boxShadow:e.shadowCard,border:"1px solid ".concat(e.border),display:"flex",flexDirection:"column",gap:"12px",transition:"all 0.2s ease"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 4px 0",color:e.textPrimary,fontSize:"18px",fontWeight:"600"},children:r.productName}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.textSecondary,fontSize:"14px"},children:["Quality: ",r.quality]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{p(e),f(!0)})(r),style:{padding:"6px 12px",border:"1px solid ".concat(e.warning),borderRadius:"6px",backgroundColor:"transparent",color:e.warning,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.warning,t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=e.warning},children:"Edit"}),(0,Ie.jsx)("button",{onClick:()=>(e=>{k(e),v(!0)})(r),style:{padding:"6px 12px",border:"1px solid ".concat(e.error),borderRadius:"6px",backgroundColor:"transparent",color:e.error,fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.error,t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=e.error},children:"Delete"})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px 0",borderTop:"1px solid ".concat(e.border),borderBottom:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Quantity"}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.textPrimary,fontSize:"16px",fontWeight:"600"},children:[r.quantity," kg"]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Price"}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.textPrimary,fontSize:"16px",fontWeight:"600"},children:["\u20b9",r.price]})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Brokerage"}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.success,fontSize:"14px",fontWeight:"500"},children:[r.productBrokerage,"%"]})]}),r.broker&&(0,Ie.jsxs)("div",{style:{backgroundColor:e.backgroundSecondary,borderRadius:"6px",padding:"8px",fontSize:"12px",color:e.textSecondary},children:["Broker: ",r.broker.brokerName," (",r.broker.brokerageFirmName,")"]})]})};return o?(0,Ie.jsx)("div",{style:{padding:"24px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,Ie.jsx)(Wo,{})}):(0,Ie.jsxs)("div",{style:{padding:"24px"},children:[(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:e.shadowCard,marginBottom:"24px",border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:t?"flex-start":"center",flexDirection:t?"column":"row",gap:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h2",{style:{margin:"0 0 8px 0",color:e.textPrimary,fontSize:"28px",fontWeight:"700"},children:"Products Management"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary,fontSize:"16px"},children:"Manage your product inventory and bulk upload"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Ie.jsx)("button",{onClick:()=>g(!0),style:{padding:"12px 24px",border:"none",borderRadius:"8px",backgroundColor:e.success,color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=e.shadowHover},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"\u2795 Add Product"}),(0,Ie.jsx)("button",{onClick:()=>y(!0),style:{padding:"12px 24px",border:"none",borderRadius:"8px",backgroundColor:e.buttonPrimary,color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=e.shadowHover},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"\ud83d\udcca Bulk Upload"})]})]})}),(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"20px",boxShadow:e.shadowCard,marginBottom:"24px",border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"2fr 1fr 1fr 1fr",gap:"16px",alignItems:"center"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>c(e.target.value),style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid ".concat(e.border),backgroundColor:e.backgroundSecondary,color:e.textPrimary,fontSize:"14px"}}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Total Products"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textPrimary,fontSize:"20px",fontWeight:"600"},children:r.length})]}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Filtered"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textPrimary,fontSize:"20px",fontWeight:"600"},children:P.length})]}),(0,Ie.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Categories"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textPrimary,fontSize:"20px",fontWeight:"600"},children:new Set(r.map((e=>e.productName))).size})]})]})}),s&&(0,Ie.jsx)("div",{style:{backgroundColor:e.errorBg,border:"1px solid ".concat(e.errorBorder),color:e.error,padding:"16px",borderRadius:"8px",marginBottom:"24px",fontSize:"14px"},children:s}),0===P.length?(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"40px",textAlign:"center",boxShadow:e.shadowCard,border:"1px solid ".concat(e.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udce6"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:e.textPrimary},children:d?"No products found":"No products available"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary},children:d?"Try adjusting your search terms":"Start by uploading products using the bulk upload feature"})]}):(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:P.map((e=>(0,Ie.jsx)(B,{product:e},e.productId)))}),(0,Ie.jsx)(Yp,{isOpen:h,onClose:()=>g(!1),onSuccess:C}),(0,Ie.jsx)(qp,{isOpen:x,onClose:()=>{f(!1),p(null)},product:u,onSuccess:C}),(0,Ie.jsx)(Zp,{isOpen:m,onClose:()=>y(!1),onSuccess:C}),(0,Ie.jsx)(Dh,{isOpen:b,onClose:()=>{v(!1),k(null)},onConfirm:async()=>{if(j){S(!0);try{await _n(j.productId),await C(),v(!1),k(null)}catch(s){console.error("Error deleting product:",s),l(s.message||"Failed to delete product")}finally{S(!1)}}},title:"Delete Product",message:'Are you sure you want to delete "'.concat(null===j||void 0===j?void 0:j.productName,'"? This action cannot be undone.'),confirmText:"Delete",cancelText:"Cancel",loading:w,type:"danger"})]})},Oh=()=>{const{theme:e}=Ee(),{isMobile:t}=_p(),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)("firmName"),[h,g]=(0,a.useState)("asc"),[x,f]=(0,a.useState)(0),[m]=(0,a.useState)(10),[y,b]=(0,a.useState)(0),[v,j]=(0,a.useState)(0),[k,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{P()}),[x,u,h]);const P=async()=>{i(!0),l("");try{const e=await kn(x,m,"".concat(u,",").concat(h));n(e.content||[]),b(e.totalPages||0),j(e.totalElements||0)}catch(s){console.error("Error loading merchants:",s),l(s.message||"Failed to load merchants")}finally{i(!1)}},B=r.filter((e=>{var t,r;return(null===(t=e.firmName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.city)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))})),N=t=>{let{field:r,children:n}=t;return(0,Ie.jsxs)("button",{onClick:()=>(e=>{u===e?g("asc"===h?"desc":"asc"):(p(e),g("asc")),f(0)})(r),style:{background:"none",border:"none",color:e.textPrimary,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600",padding:"4px 0"},children:[n,u===r&&(0,Ie.jsx)("span",{style:{fontSize:"12px"},children:"asc"===h?"\u2191":"\u2193"})]})},T=t=>{let{merchant:r}=t;return(0,Ie.jsxs)("div",{onClick:()=>{return e=r.userId,w(e),void C(!0);var e},style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"20px",boxShadow:e.shadowCard,border:"1px solid ".concat(e.border),display:"flex",flexDirection:"column",gap:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=e.shadowHover},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow=e.shadowCard},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 4px 0",color:e.textPrimary,fontSize:"18px",fontWeight:"600"},children:r.firmName}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.textSecondary,fontSize:"14px"},children:["\ud83d\udccd ",r.city]})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:r.totalPayableBrokerage>0?e.successBg:e.warningBg,color:r.totalPayableBrokerage>0?e.success:e.warning,padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"500"},children:["\u20b9",r.totalPayableBrokerage.toFixed(2)]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px 0",borderTop:"1px solid ".concat(e.border),borderBottom:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Bags Sold"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.success,fontSize:"16px",fontWeight:"600"},children:r.totalBagsSold})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Bags Bought"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.buttonPrimary,fontSize:"16px",fontWeight:"600"},children:r.totalBagsBought})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{style:{margin:"0 0 4px 0",color:e.textSecondary,fontSize:"12px"},children:"Brokerage per Bag"}),(0,Ie.jsxs)("p",{style:{margin:0,color:e.textPrimary,fontSize:"14px",fontWeight:"500"},children:["\u20b9",r.brokeragePerBag.toFixed(2)]})]})]})},R=()=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",flexWrap:"wrap",gap:"12px"},children:[(0,Ie.jsxs)("div",{style:{color:e.textSecondary,fontSize:"14px"},children:["Showing ",x*m+1," to ",Math.min((x+1)*m,v)," of ",v," merchants"]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ie.jsx)("button",{onClick:()=>f(Math.max(0,x-1)),disabled:0===x,style:{padding:"8px 12px",border:"1px solid ".concat(e.border),borderRadius:"6px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:0===x?"not-allowed":"pointer",opacity:0===x?.5:1,fontSize:"14px"},children:"Previous"}),(0,Ie.jsxs)("span",{style:{padding:"8px 12px",color:e.textPrimary,fontSize:"14px"},children:["Page ",x+1," of ",y]}),(0,Ie.jsx)("button",{onClick:()=>f(Math.min(y-1,x+1)),disabled:x>=y-1,style:{padding:"8px 12px",border:"1px solid ".concat(e.border),borderRadius:"6px",backgroundColor:e.cardBackground,color:e.textPrimary,cursor:x>=y-1?"not-allowed":"pointer",opacity:x>=y-1?.5:1,fontSize:"14px"},children:"Next"})]})]});return o?(0,Ie.jsx)("div",{style:{padding:"24px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,Ie.jsx)(Wo,{})}):(0,Ie.jsxs)("div",{style:{padding:"24px"},children:[(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",padding:"24px",boxShadow:e.shadowCard,marginBottom:"24px",border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:t?"flex-start":"center",flexDirection:t?"column":"row",gap:"16px"},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h2",{style:{margin:"0 0 8px 0",color:e.textPrimary,fontSize:"28px",fontWeight:"700"},children:"Merchants Summary"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary,fontSize:"16px"},children:"Overview of merchant trading activity and brokerage"})]}),(0,Ie.jsx)(Re,{to:"/city-merchants",style:{padding:"10px 20px",border:"1px solid ".concat(e.info),borderRadius:"8px",backgroundColor:e.infoBg,color:e.info,fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.info,t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.infoBg,t.currentTarget.style.color=e.info},children:"\ud83c\udfd9\ufe0f Merchants in City"})]})}),(0,Ie.jsx)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"20px",boxShadow:e.shadowCard,marginBottom:"24px",border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"2fr 1fr 1fr",gap:"16px",alignItems:"center"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search merchants or cities...",value:d,onChange:e=>c(e.target.value),style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid ".concat(e.border),backgroundColor:e.backgroundSecondary,color:e.textPrimary,fontSize:"14px"}}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Ie.jsx)(N,{field:"firmName",children:"Firm Name"}),(0,Ie.jsx)(N,{field:"city",children:"City"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Ie.jsx)(N,{field:"totalPayableBrokerage",children:"Brokerage"}),(0,Ie.jsx)(N,{field:"totalBagsSold",children:"Bags Sold"})]})]})}),s&&(0,Ie.jsx)("div",{style:{backgroundColor:e.errorBg,border:"1px solid ".concat(e.errorBorder),color:e.error,padding:"16px",borderRadius:"8px",marginBottom:"24px",fontSize:"14px"},children:s}),0===B.length?(0,Ie.jsxs)("div",{style:{backgroundColor:e.cardBackground,borderRadius:"12px",padding:"40px",textAlign:"center",boxShadow:e.shadowCard,border:"1px solid ".concat(e.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83c\udfea"}),(0,Ie.jsx)("h3",{style:{margin:"0 0 8px 0",color:e.textPrimary},children:d?"No merchants found":"No merchants available"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary},children:d?"Try adjusting your search terms":"Merchant data will appear here once available"})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:B.map(((e,t)=>(0,Ie.jsx)(T,{merchant:e},e.userId||"".concat(e.firmName,"-").concat(t))))}),(0,Ie.jsx)(R,{})]}),(0,Ie.jsx)(eh,{isOpen:S,onClose:()=>{C(!1),w(null)},merchantId:k})]})},Fh=()=>{var e,t;const r=te(),{theme:n}=Ee(),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null);(0,a.useEffect)((()=>{x()}),[]),(0,a.useEffect)((()=>{s&&o.length>0&&(console.log("useEffect triggered - calling loadBrokerageSummary"),f())}),[s,o]);const x=async()=>{try{console.log("Loading financial years...");const e=await Hn()||[];if(console.log("Financial years loaded:",e),i(e),e.length>0){const t=e[0].yearId.toString();console.log("Setting default year:",t),l(t)}}catch(h){var e;console.error("Failed to load financial years:",h),console.error("Error details:",null===(e=h.response)||void 0===e?void 0:e.data),g("Failed to load financial years")}},f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{p(!0),g(null);const t=e||s;if(console.log("loadBrokerageSummary called with year:",t),console.log("Available financial years:",o),!t)return console.log("No selected year, skipping API call"),void p(!1);const r=o.find((e=>e.yearId.toString()===t));let n=t;r&&(n=r.yearId),console.log("Selected year object:",r),console.log("Using yearId for API call:",n);const a=await yo(n);console.log("Brokerage summary response:",a);const i=a.data||a;console.log("Extracted summary data:",i),c(i)}catch(h){var t,r,n;const o=(null===(t=h.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||h.message||"Failed to load brokerage summary";g(o),console.error("Failed to load summary:",h),console.error("Error details:",null===(n=h.response)||void 0===n?void 0:n.data)}finally{p(!1)}},m=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e||0);return u&&!o.length?(0,Ie.jsx)("div",{style:{background:n.background,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0},children:(0,Ie.jsx)(Wo,{})}):(0,Ie.jsx)("div",{style:{background:n.background,minHeight:"100vh",margin:0,padding:0},children:(0,Ie.jsxs)("div",{className:"modern-container",style:{color:n.textPrimary},children:[(0,Ie.jsxs)("div",{className:"modern-header animate-fade-in",style:{background:n.background,borderBottom:"1px solid ".concat(n.border)},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center",marginBottom:"var(--space-6)"},children:[(0,Ie.jsx)("h1",{style:{margin:0,fontSize:"2.25rem",fontWeight:"600",marginBottom:"var(--space-2)",color:n.textPrimary,fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",letterSpacing:"-0.025em"},children:"Brokerage Dashboard"}),(0,Ie.jsx)("p",{style:{margin:0,color:n.textSecondary,fontSize:"0.95rem",fontWeight:"400",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif"},children:"Manage your brokerage earnings and comprehensive reports"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"var(--space-2)"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:n.textSecondary,strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,Ie.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,Ie.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),(0,Ie.jsx)("select",{value:s,onChange:e=>{const t=e.target.value;console.log("Financial year changed to:",t),l(t)},disabled:u,className:"modern-select",style:{minWidth:"160px",background:n.cardBackground,color:n.textPrimary,border:"1px solid ".concat(n.border),opacity:u?.6:1},children:o.map((e=>(0,Ie.jsx)("option",{value:e.yearId,style:{background:n.cardBackground,color:n.textPrimary},children:e.financialYearName},e.yearId)))})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"var(--space-4)",marginBottom:"var(--space-8)"},children:[(0,Ie.jsxs)("button",{onClick:async()=>{console.log("Refresh button clicked");try{await f()}catch(h){console.error("Error during refresh:",h)}},disabled:u,className:"modern-button modern-button-outline ".concat(u?"opacity-50":""),children:[(0,Ie.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ie.jsx)("path",{d:"M23 4v6h-6M1 20v-6h6M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})}),u?"Refreshing...":"Refresh"]}),(0,Ie.jsx)("button",{onClick:()=>f(),className:"modern-button modern-button-primary",children:"Load Summary"})]}),h&&(0,Ie.jsxs)("div",{style:{background:n.error,color:"white",padding:"var(--space-4) var(--space-6)",borderRadius:"var(--radius-xl)",marginBottom:"var(--space-8)",boxShadow:n.shadow,display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ie.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,Ie.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),h]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"var(--space-4)",marginBottom:"var(--space-12)"},className:"animate-slide-in",children:[(0,Ie.jsxs)("button",{onClick:async()=>{try{const e=o.find((e=>e.yearId.toString()===s));let t=s;e&&(t=e.yearId),console.log("Exporting summary for year:",t),await Co(t)}catch(h){console.error("Failed to export summary:",h),g("Failed to export summary")}},className:"modern-button modern-button-accent",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export Summary"]}),(0,Ie.jsxs)("button",{onClick:()=>r("/brokerage/users"),className:"modern-button modern-button-secondary",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Ie.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,Ie.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,Ie.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"User Management"]}),(0,Ie.jsxs)("button",{onClick:()=>r("/brokerage/bulk"),className:"modern-button modern-button-primary",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",ry:"1"})]}),"Bulk Operations"]}),(0,Ie.jsxs)("button",{onClick:()=>r("/dashboard"),className:"modern-button modern-button-outline",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,Ie.jsx)("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Main Dashboard"]})]}),d&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{className:"modern-stats-grid animate-fade-in",children:[(0,Ie.jsxs)("div",{className:"modern-stat-card",style:{background:n.cardBackground,border:"1px solid ".concat(n.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--space-4)"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:n.textSecondary,fontSize:"0.875rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:"600"},children:"Total Earned"}),(0,Ie.jsx)("div",{style:{background:"var(--color-accent)",padding:"var(--space-3)",borderRadius:"var(--radius-lg)",color:"white"},children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,Ie.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})})]}),(0,Ie.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:n.textPrimary,marginBottom:"var(--space-2)",fontFamily:"var(--font-mono)"},children:m(d.totalBrokerageEarned)}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",color:n.textMuted},children:"Total commission earned"})]}),(0,Ie.jsxs)("div",{className:"modern-stat-card",style:{background:n.cardBackground,border:"1px solid ".concat(n.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--space-4)"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:n.textSecondary,fontSize:"0.875rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:"600"},children:"From Sellers"}),(0,Ie.jsx)("div",{style:{background:"var(--color-secondary)",padding:"var(--space-3)",borderRadius:"var(--radius-lg)",color:"white"},children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M16 16l2-2 2 2"}),(0,Ie.jsx)("path",{d:"M21 14v4a2 2 0 0 1-2 2h-4"}),(0,Ie.jsx)("path",{d:"M8 8l-2 2-2-2"}),(0,Ie.jsx)("path",{d:"M3 10V6a2 2 0 0 1 2-2h4"})]})})]}),(0,Ie.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:n.textPrimary,marginBottom:"var(--space-2)",fontFamily:"var(--font-mono)"},children:m(d.totalBrokerageFromSellers)}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",color:n.textMuted},children:"Commission from sellers"})]}),(0,Ie.jsxs)("div",{className:"modern-stat-card",style:{background:n.cardBackground,border:"1px solid ".concat(n.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--space-4)"},children:[(0,Ie.jsx)("h3",{style:{margin:0,color:n.textSecondary,fontSize:"0.875rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:"600"},children:"From Buyers"}),(0,Ie.jsx)("div",{style:{background:"var(--color-warning)",padding:"var(--space-3)",borderRadius:"var(--radius-lg)",color:"white"},children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M8 8l-2-2-2 2"}),(0,Ie.jsx)("path",{d:"M3 10v4a2 2 0 0 0 2 2h4"}),(0,Ie.jsx)("path",{d:"M16 16l2 2 2-2"}),(0,Ie.jsx)("path",{d:"M21 14V10a2 2 0 0 0-2-2h-4"})]})})]}),(0,Ie.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:n.textPrimary,marginBottom:"var(--space-2)",fontFamily:"var(--font-mono)"},children:m(d.totalBrokerageFromBuyers)}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",color:n.textMuted},children:"Commission from buyers"})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))",gap:"var(--space-8)",marginBottom:"var(--space-12)"},className:"animate-slide-in",children:[(0,Ie.jsxs)("div",{className:"modern-card",style:{background:n.cardBackground,border:"1px solid ".concat(n.border)},children:[(0,Ie.jsx)("div",{style:{padding:"var(--space-6)",borderBottom:"1px solid ".concat(n.border)},children:(0,Ie.jsxs)("h3",{style:{margin:0,color:n.textPrimary,fontSize:"1.25rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,Ie.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),"City-wise Breakdown"]})}),(0,Ie.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"var(--space-4)"},children:null===(e=d.cityWiseBrokerage)||void 0===e?void 0:e.map(((e,t)=>(0,Ie.jsxs)("div",{className:"modern-table-row",style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 -var(--space-4)",borderRadius:"var(--radius-lg)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"var(--radius-lg)",background:"var(--color-".concat(["secondary","warning","accent","primary"][t%4],")"),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"1.125rem"},children:e.city.charAt(0)}),(0,Ie.jsx)("span",{style:{fontWeight:"600",color:n.textPrimary,fontSize:"1rem"},children:e.city})]}),(0,Ie.jsx)("span",{style:{fontWeight:"700",color:"var(--color-accent)",fontSize:"1rem",fontFamily:"var(--font-mono)"},children:m(e.totalBrokerage)})]},e.city)))})]}),(0,Ie.jsxs)("div",{className:"modern-card",style:{background:n.cardBackground,border:"1px solid ".concat(n.border)},children:[(0,Ie.jsx)("div",{style:{padding:"var(--space-6)",borderBottom:"1px solid ".concat(n.border)},children:(0,Ie.jsxs)("h3",{style:{margin:0,color:n.textPrimary,fontSize:"1.25rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",ry:"1"})]}),"Product-wise Breakdown"]})}),(0,Ie.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"var(--space-4)"},children:null===(t=d.productWiseBrokerage)||void 0===t?void 0:t.map(((e,t)=>(0,Ie.jsxs)("div",{className:"modern-table-row",style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 -var(--space-4)",borderRadius:"var(--radius-lg)"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[(0,Ie.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"var(--radius-lg)",background:"var(--color-".concat(["warning","accent","secondary","primary"][t%4],")"),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"1.125rem"},children:e.productName.charAt(0)}),(0,Ie.jsx)("span",{style:{fontWeight:"600",color:n.textPrimary,fontSize:"1rem"},children:e.productName})]}),(0,Ie.jsx)("span",{style:{fontWeight:"700",color:"var(--color-accent)",fontSize:"1rem",fontFamily:"var(--font-mono)"},children:m(e.totalBrokerage)})]},e.productName)))})]})]})]})]})})},Wh=e=>{var t,r,n,o,a,i,s,l,d,c,u,p,h,g,x,f,m,y,b;let{user:v,onClose:j}=e;const{theme:k}=Ee(),{details:w}=v,S=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e||0);return w?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem",backdropFilter:"blur(5px)"},onClick:j,children:(0,Ie.jsxs)("div",{style:{background:k.modalBackground,borderRadius:"24px",maxWidth:"1000px",width:"100%",maxHeight:"95vh",overflowY:"auto",boxShadow:k.shadowModal,border:"1px solid ".concat(k.border)},onClick:e=>e.stopPropagation(),children:[(0,Ie.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(k.buttonPrimary,", ").concat(k.buttonPrimaryHover,")"),padding:"2rem",borderRadius:"24px 24px 0 0",color:"white",position:"relative"},children:[(0,Ie.jsx)("button",{onClick:j,style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"1.2rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:"\u2715"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,Ie.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",backdropFilter:"blur(10px)"},children:(null===(t=w.userBasicInfo)||void 0===t||null===(r=t.firmName)||void 0===r?void 0:r.charAt(0))||"U"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h2",{style:{margin:0,fontSize:"2rem",fontWeight:"800",marginBottom:"0.5rem"},children:null===(n=w.userBasicInfo)||void 0===n?void 0:n.firmName}),(0,Ie.jsx)("p",{style:{margin:0,opacity:.9,fontSize:"1.2rem"},children:null===(o=w.userBasicInfo)||void 0===o?void 0:o.ownerName}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",fontSize:"1rem",opacity:.9},children:["\ud83d\udccd ",null===(a=w.userBasicInfo)||void 0===a?void 0:a.city]})]})]})]}),(0,Ie.jsxs)("div",{style:{padding:"2rem"},children:[(0,Ie.jsxs)("div",{style:{background:"linear-gradient(135deg, #27ae60, #2ecc71)",borderRadius:"20px",padding:"2rem",marginBottom:"2rem",color:"white",textAlign:"center"},children:[(0,Ie.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.2rem",opacity:.9},children:"Total Brokerage Payable"}),(0,Ie.jsx)("div",{style:{fontSize:"3rem",fontWeight:"900",marginBottom:"0.5rem"},children:S(null===(i=w.brokerageSummary)||void 0===i?void 0:i.totalBrokeragePayable)}),(0,Ie.jsx)("div",{style:{opacity:.9},children:"Amount to be collected"})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[(0,Ie.jsxs)("div",{style:{background:k.cardBackground,padding:"1.5rem",borderRadius:"16px",textAlign:"center",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udce6"}),(0,Ie.jsx)("div",{style:{fontSize:"2rem",fontWeight:"800",color:k.textPrimary,marginBottom:"0.5rem"},children:(null===(s=w.brokerageSummary)||void 0===s?void 0:s.totalBagsSold)||0}),(0,Ie.jsx)("div",{style:{color:k.textSecondary,fontSize:"0.9rem"},children:"Bags Sold"})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,padding:"1.5rem",borderRadius:"16px",textAlign:"center",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udce5"}),(0,Ie.jsx)("div",{style:{fontSize:"2rem",fontWeight:"800",color:k.textPrimary,marginBottom:"0.5rem"},children:(null===(l=w.brokerageSummary)||void 0===l?void 0:l.totalBagsBought)||0}),(0,Ie.jsx)("div",{style:{color:k.textSecondary,fontSize:"0.9rem"},children:"Bags Bought"})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,padding:"1.5rem",borderRadius:"16px",textAlign:"center",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udcb0"}),(0,Ie.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#27ae60",marginBottom:"0.5rem"},children:S(null===(d=w.brokerageSummary)||void 0===d?void 0:d.totalAmountEarned)}),(0,Ie.jsx)("div",{style:{color:k.textSecondary,fontSize:"0.9rem"},children:"Amount Earned"})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,padding:"1.5rem",borderRadius:"16px",textAlign:"center",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udcb8"}),(0,Ie.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#e67e22",marginBottom:"0.5rem"},children:S(null===(c=w.brokerageSummary)||void 0===c?void 0:c.totalAmountPaid)}),(0,Ie.jsx)("div",{style:{color:k.textSecondary,fontSize:"0.9rem"},children:"Amount Paid"})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[(0,Ie.jsxs)("div",{style:{background:k.cardBackground,borderRadius:"16px",padding:"1.5rem",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 1rem 0",color:k.textPrimary,fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udce5 Products Bought"}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:null===(u=w.brokerageSummary)||void 0===u||null===(p=u.productsBought)||void 0===p?void 0:p.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",marginBottom:"0.5rem",background:k.hoverBg,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{color:k.textPrimary,fontWeight:"600"},children:e.productName}),(0,Ie.jsxs)("span",{style:{background:"#3498db",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600"},children:[e.totalBags," bags"]})]},t)))})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,borderRadius:"16px",padding:"1.5rem",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 1rem 0",color:k.textPrimary,fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udce4 Products Sold"}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:null===(h=w.brokerageSummary)||void 0===h||null===(g=h.productsSold)||void 0===g?void 0:g.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",marginBottom:"0.5rem",background:k.hoverBg,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{color:k.textPrimary,fontWeight:"600"},children:e.productName}),(0,Ie.jsxs)("span",{style:{background:"#27ae60",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600"},children:[e.totalBags," bags"]})]},t)))})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[(0,Ie.jsxs)("div",{style:{background:k.cardBackground,borderRadius:"16px",padding:"1.5rem",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 1rem 0",color:k.textPrimary,fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udce4 Sold To Cities"}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:null===(x=w.brokerageSummary)||void 0===x||null===(f=x.citiesSoldTo)||void 0===f?void 0:f.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",marginBottom:"0.5rem",background:k.hoverBg,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{color:k.textPrimary,fontWeight:"600"},children:e.city}),(0,Ie.jsxs)("span",{style:{background:"#e67e22",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600"},children:[e.totalBags," bags"]})]},t)))})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,borderRadius:"16px",padding:"1.5rem",border:"1px solid ".concat(k.border)},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 1rem 0",color:k.textPrimary,fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udce5 Bought From Cities"}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:null===(m=w.brokerageSummary)||void 0===m||null===(y=m.citiesBoughtFrom)||void 0===y?void 0:y.map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",marginBottom:"0.5rem",background:k.hoverBg,borderRadius:"8px"},children:[(0,Ie.jsx)("span",{style:{color:k.textPrimary,fontWeight:"600"},children:e.city}),(0,Ie.jsxs)("span",{style:{background:"#9b59b6",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600"},children:[e.totalBags," bags"]})]},t)))})]})]}),(0,Ie.jsxs)("div",{style:{background:k.cardBackground,borderRadius:"16px",padding:"1.5rem",border:"1px solid ".concat(k.border),marginBottom:"2rem"},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 1rem 0",color:k.textPrimary,fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udccb Recent Transactions"}),(0,Ie.jsx)("div",{style:{overflowX:"auto"},children:(0,Ie.jsxs)("div",{style:{minWidth:"800px"},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 120px 1fr 120px 100px 120px",gap:"1rem",padding:"1rem",background:k.hoverBg,borderRadius:"8px",fontWeight:"700",color:k.textPrimary,fontSize:"0.9rem",marginBottom:"0.5rem"},children:[(0,Ie.jsx)("div",{children:"Transaction #"}),(0,Ie.jsx)("div",{children:"Date"}),(0,Ie.jsx)("div",{children:"Counter Party"}),(0,Ie.jsx)("div",{children:"Product"}),(0,Ie.jsx)("div",{children:"Quantity"}),(0,Ie.jsx)("div",{children:"Brokerage"})]}),(0,Ie.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:null===(b=w.transactionDetails)||void 0===b?void 0:b.slice(0,10).map(((e,t)=>(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 120px 1fr 120px 100px 120px",gap:"1rem",padding:"1rem",borderBottom:"1px solid ".concat(k.border),fontSize:"0.9rem",color:k.textPrimary},children:[(0,Ie.jsx)("div",{style:{fontWeight:"600"},children:e.transactionNumber}),(0,Ie.jsx)("div",{children:new Date(e.transactionDate).toLocaleDateString()}),(0,Ie.jsx)("div",{style:{fontWeight:"600"},children:e.counterPartyFirmName}),(0,Ie.jsx)("div",{children:e.productName}),(0,Ie.jsx)("div",{children:e.quantity}),(0,Ie.jsx)("div",{style:{fontWeight:"700",color:"#27ae60"},children:S(e.brokerage)})]},t)))})]})})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",padding:"2rem",borderTop:"1px solid ".concat(k.border),background:k.hoverBg,borderRadius:"0 0 24px 24px"},children:[(0,Ie.jsx)("button",{onClick:async()=>{try{await vo(v.userId,"1")}catch(e){console.error("Failed to download bill:",e)}},style:{padding:"1rem 2rem",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",background:"linear-gradient(135deg, #e67e22, #f39c12)",color:"white",boxShadow:"0 4px 15px rgba(230, 126, 34, 0.3)",transition:"all 0.3s ease"},children:"\ud83d\udcc4 Generate Bill"}),(0,Ie.jsx)("button",{onClick:async()=>{try{await jo(v.userId,"1")}catch(e){console.error("Failed to download excel:",e)}},style:{padding:"1rem 2rem",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",background:"linear-gradient(135deg, #27ae60, #2ecc71)",color:"white",boxShadow:"0 4px 15px rgba(39, 174, 96, 0.3)",transition:"all 0.3s ease"},children:"\ud83d\udcca Export Excel"}),(0,Ie.jsx)("button",{onClick:j,style:{padding:"1rem 2rem",border:"2px solid ".concat(k.border),borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",background:k.cardBackground,color:k.textPrimary,transition:"all 0.3s ease"},children:"Close"})]})]})}):null},Uh=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:o="Custom Brokerage"}=e;const{theme:i}=Ee(),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),u=()=>{l(""),c(!1),r()};return t?(0,Ie.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,Ie.jsxs)("div",{style:{background:i.cardBackground,borderRadius:"var(--radius-2xl)",padding:"var(--space-8)",width:"90%",maxWidth:"480px",boxShadow:i.shadowModal,border:"1px solid ".concat(i.border)},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--space-6)"},children:[(0,Ie.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700",color:i.textPrimary},children:o}),(0,Ie.jsx)("button",{onClick:u,style:{background:"none",border:"none",color:i.textSecondary,cursor:"pointer",padding:"var(--space-2)",borderRadius:"var(--radius-md)"},children:(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ie.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"var(--space-6)"},children:[(0,Ie.jsx)("p",{style:{color:i.textSecondary,fontSize:"0.95rem",lineHeight:"1.5",margin:"0 0 var(--space-4) 0"},children:"Choose whether to use the original brokerage rates or specify a custom rate per bag."}),(0,Ie.jsxs)("div",{style:{marginBottom:"var(--space-4)"},children:[(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",border:"2px solid ".concat(d?i.border:"var(--color-primary)"),background:d?i.hoverBg:"rgba(var(--color-primary-rgb), 0.1)",marginBottom:"var(--space-3)"},children:[(0,Ie.jsx)("input",{type:"radio",checked:!d,onChange:()=>c(!1),style:{accentColor:"var(--color-primary)"}}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontWeight:"600",color:i.textPrimary},children:"Use Original Brokerage"}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",color:i.textSecondary},children:"Use the existing brokerage rates from the database"})]})]}),(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",border:"2px solid ".concat(d?"var(--color-accent)":i.border),background:d?"rgba(var(--color-accent-rgb), 0.1)":i.hoverBg},children:[(0,Ie.jsx)("input",{type:"radio",checked:d,onChange:()=>c(!0),style:{accentColor:"var(--color-accent)"}}),(0,Ie.jsxs)("div",{style:{flex:1},children:[(0,Ie.jsx)("div",{style:{fontWeight:"600",color:i.textPrimary},children:"Use Custom Brokerage"}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",color:i.textSecondary},children:"Specify a custom rate per bag"})]})]})]}),d&&(0,Ie.jsxs)("div",{style:{marginTop:"var(--space-4)"},children:[(0,Ie.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:i.textPrimary,marginBottom:"var(--space-2)"},children:"Custom Brokerage Rate (\u20b9 per bag)"}),(0,Ie.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"Enter rate per bag (e.g., 2.50)",value:s,onChange:e=>l(e.target.value),className:"modern-input",style:{width:"100%",background:i.cardBackground,color:i.textPrimary,border:"1px solid ".concat(i.border)},autoFocus:!0}),(0,Ie.jsx)("div",{style:{fontSize:"0.75rem",color:i.textSecondary,marginTop:"var(--space-2)"},children:"This rate will be applied to all transactions in the bill"})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"var(--space-3)",justifyContent:"flex-end"},children:[(0,Ie.jsx)("button",{onClick:u,className:"modern-button modern-button-outline",style:{padding:"var(--space-3) var(--space-6)"},children:"Cancel"}),(0,Ie.jsxs)("button",{onClick:()=>{const e=d&&s?parseFloat(s):null;n(e),u()},disabled:d&&(!s||parseFloat(s)<0),className:"modern-button modern-button-primary ".concat(d&&(!s||parseFloat(s)<0)?"opacity-50":""),style:{padding:"var(--space-3) var(--space-6)"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]})}):null},Hh=e=>{var t;let{user:r,selectedYear:n,isSelected:o,onSelect:i,onViewDetails:s,onDownloadBill:l,onPrintBill:d,index:c}=e;const{theme:u}=Ee(),[p,h]=(0,a.useState)(!1);return(0,Ie.jsxs)("div",{className:"modern-table-row",style:{display:"grid",gridTemplateColumns:"60px 1fr 140px 160px 220px",alignItems:"center",background:o?u.hoverBg:"transparent",borderBottom:"1px solid ".concat(u.borderLight)},children:[(0,Ie.jsx)("div",{style:{textAlign:"center"},children:(0,Ie.jsx)("input",{type:"checkbox",checked:o,onChange:i,style:{transform:"scale(1.2)",accentColor:"var(--color-secondary)"}})}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[(0,Ie.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"var(--radius-xl)",background:"var(--color-".concat(["secondary","warning","accent","primary","error"][c%5],")"),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"1.25rem"},children:(null===(t=r.firmName)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontWeight:"700",color:u.textPrimary,fontSize:"1rem",marginBottom:"var(--space-1)"},children:r.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"0.875rem",color:u.textSecondary,fontFamily:"var(--font-mono)"},children:["Bags: ",r.totalBagsSold+r.totalBagsBought," | Rate: \u20b9",r.brokeragePerBag]})]})]}),(0,Ie.jsx)("div",{style:{color:u.textPrimary,fontWeight:"600",padding:"var(--space-2) var(--space-4)",background:u.hoverBg,borderRadius:"var(--radius-md)",textAlign:"center",fontSize:"0.875rem"},children:r.city}),(0,Ie.jsx)("div",{style:{fontWeight:"800",color:"var(--color-accent)",fontSize:"1rem",textAlign:"center",fontFamily:"var(--font-mono)"},children:(g=r.totalPayableBrokerage||0,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(g||0))}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"var(--space-2)",justifyContent:"center",alignItems:"center"},children:[(0,Ie.jsx)("button",{onClick:s,className:"modern-button modern-button-secondary",style:{padding:"var(--space-2)",minWidth:"auto"},title:"View Details",children:(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}),(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsxs)("button",{onClick:()=>h(!p),className:"modern-button modern-button-primary",style:{padding:"var(--space-2) var(--space-3)",minWidth:"auto",display:"flex",alignItems:"center",gap:"var(--space-1)"},title:"Download Options",children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),(0,Ie.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ie.jsx)("polyline",{points:"6,9 12,15 18,9"})})]}),p&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",right:0,background:u.cardBackground,border:"1px solid ".concat(u.border),borderRadius:"var(--radius-lg)",boxShadow:u.shadowModal,zIndex:1e3,minWidth:"180px",overflow:"hidden"},children:[(0,Ie.jsxs)("button",{onClick:()=>{l(r.userId,"html",r.firmName),h(!1)},style:{width:"100%",padding:"var(--space-3) var(--space-4)",border:"none",background:"transparent",color:"#3b82f6",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-3)",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#eff6ff",e.target.style.color="#1d4ed8"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#3b82f6"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Ie.jsx)("polyline",{points:"14,2 14,8 20,8"})]}),"HTML Bill"]}),(0,Ie.jsxs)("button",{onClick:()=>{d(r.userId,r.firmName),h(!1)},style:{width:"100%",padding:"var(--space-3) var(--space-4)",border:"none",background:"transparent",color:"#f59e0b",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-3)",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#fffbeb",e.target.style.color="#d97706"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#f59e0b"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M6 9V2h12v7"}),(0,Ie.jsx)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),(0,Ie.jsx)("path",{d:"M6 14h12v8H6z"})]}),"Print Bill"]}),(0,Ie.jsxs)("button",{onClick:()=>{l(r.userId,"print-city",r.firmName),h(!1)},style:{width:"100%",padding:"var(--space-3) var(--space-4)",border:"none",background:"transparent",color:"#8b5cf6",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-3)",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#f5f3ff",e.target.style.color="#7c3aed"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#8b5cf6"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#8b5cf6",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,Ie.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),"Print City"]}),(0,Ie.jsxs)("button",{onClick:()=>{l(r.userId,"excel",r.firmName),h(!1)},style:{width:"100%",padding:"var(--space-3) var(--space-4)",border:"none",background:"transparent",color:"#10b981",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-3)",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#ecfdf5",e.target.style.color="#047857"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#10b981"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#10b981",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Excel Report"]}),(0,Ie.jsxs)("button",{onClick:()=>{l(r.userId,"pdf",r.firmName),h(!1)},style:{width:"100%",padding:"var(--space-3) var(--space-4)",border:"none",background:"transparent",color:"#ef4444",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--space-3)",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#fef2f2",e.target.style.color="#dc2626"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#ef4444"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Ie.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,Ie.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Ie.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"PDF Report"]})]})]})]})]});var g},Vh=()=>{const{theme:e}=Ee(),[t,r]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[l,d]=(0,a.useState)("1"),[c,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[g,x]=(0,a.useState)([]),[f,m]=(0,a.useState)(!0),[y,b]=(0,a.useState)(null),[v,j]=(0,a.useState)([]),[k,w]=(0,a.useState)({isOpen:!1,userId:null,format:null});(0,a.useEffect)((()=>{S()}),[]),(0,a.useEffect)((()=>{l&&(C(),x([]))}),[l]),(0,a.useEffect)((()=>{P()}),[t,c,p]);const S=async()=>{try{m(!0);const e=await Hn()||[];if(s(e),e.length>0){const t=e[0],r=t.financialYearId||t.yearId||t.id;d(r?r.toString():"1")}}catch(e){console.error("Failed to load data:",e)}finally{m(!1)}},C=async()=>{try{m(!0),r([]),o([]),j([]);const e=(await kn(0,1e3,"firmName,asc",l)).content||[];r(e);const t=[...new Set(e.map((e=>e.city)).filter(Boolean))];j(t)}catch(e){console.error("Failed to load users:",e)}finally{m(!1)}},P=()=>{let e=t;console.log("Filtering users:",t.length,"users"),c&&(e=e.filter((e=>{var t,r;return(null===(t=e.firmName)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.ownerName)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))}))),p&&(e=e.filter((e=>e.city===p))),console.log("Filtered users:",e.length),o(e)},B=function(e){w({isOpen:!0,userId:e,format:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",firmName:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null})},N=function(e){w({isOpen:!0,userId:e,format:"print",firmName:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})};return f?(0,Ie.jsx)("div",{style:{background:e.background,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0},children:(0,Ie.jsx)(Wo,{})}):(0,Ie.jsx)("div",{style:{background:e.background,minHeight:"100vh",margin:0,padding:0},children:(0,Ie.jsxs)("div",{className:"modern-container",style:{color:e.textPrimary},children:[(0,Ie.jsxs)("div",{className:"modern-header animate-fade-in",style:{background:e.background,borderBottom:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center",marginBottom:"var(--space-6)"},children:[(0,Ie.jsx)("h1",{style:{margin:0,fontSize:"2.25rem",fontWeight:"600",marginBottom:"var(--space-2)",color:e.textPrimary,fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",letterSpacing:"-0.025em"},children:"User Management"}),(0,Ie.jsx)("p",{style:{margin:0,color:e.textSecondary,fontSize:"0.95rem",fontWeight:"400",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif"},children:"Manage individual user brokerage and generate comprehensive reports"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"var(--space-2)"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,Ie.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,Ie.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),(0,Ie.jsx)("select",{value:l,onChange:e=>d(e.target.value),className:"modern-select",style:{minWidth:"160px",background:e.cardBackground,color:e.textPrimary,border:"1px solid ".concat(e.border)},children:i.map((t=>{const r=t.financialYearId||t.yearId||t.id;return(0,Ie.jsx)("option",{value:r,style:{background:e.cardBackground,color:e.textPrimary},children:t.financialYearName||t.name},r)}))})]})]}),(0,Ie.jsx)("div",{className:"modern-card animate-slide-in",style:{padding:"var(--space-8)",marginBottom:"var(--space-12)",background:e.cardBackground,border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("div",{style:{display:"flex",gap:"var(--space-4)",flexWrap:"wrap"},children:[(0,Ie.jsx)("div",{style:{flex:1,minWidth:"320px"},children:(0,Ie.jsxs)("div",{style:{position:"relative"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{position:"absolute",left:"var(--space-4)",top:"50%",transform:"translateY(-50%)",color:e.textMuted},children:[(0,Ie.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Ie.jsx)("path",{d:"M21 21l-4.35-4.35"})]}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search by firm name or owner...",value:c,onChange:e=>u(e.target.value),className:"modern-input",style:{paddingLeft:"var(--space-12)",background:e.cardBackground,color:e.textPrimary,border:"1px solid ".concat(e.border)}})]})}),(0,Ie.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"modern-select",style:{minWidth:"200px",background:e.cardBackground,color:e.textPrimary,border:"1px solid ".concat(e.border)},children:[(0,Ie.jsx)("option",{value:"",style:{background:e.cardBackground,color:e.textPrimary},children:"All Cities"}),v.map((t=>(0,Ie.jsx)("option",{value:t,style:{background:e.cardBackground,color:e.textPrimary},children:t},t)))]})]})}),(0,Ie.jsxs)("div",{className:"modern-table animate-fade-in",style:{background:e.cardBackground,border:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("div",{className:"modern-table-header",style:{display:"grid",gridTemplateColumns:"60px 1fr 140px 160px 220px",alignItems:"center",background:e.hoverBg,borderBottom:"1px solid ".concat(e.border),color:e.textSecondary},children:[(0,Ie.jsx)("div",{style:{textAlign:"center"},children:(0,Ie.jsx)("input",{type:"checkbox",checked:g.length===n.length&&n.length>0,onChange:()=>{g.length===n.length?x([]):x(n.map((e=>e.userId)))},style:{transform:"scale(1.2)",accentColor:"var(--color-secondary)"}})}),(0,Ie.jsx)("div",{children:"Firm Details"}),(0,Ie.jsx)("div",{children:"City"}),(0,Ie.jsx)("div",{children:"Brokerage"}),(0,Ie.jsx)("div",{style:{textAlign:"center"},children:"Actions"})]}),(0,Ie.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto"},children:n.map(((e,t)=>(0,Ie.jsx)(Hh,{user:e,selectedYear:l,isSelected:g.includes(e.userId),onSelect:()=>{return t=e.userId,void x((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},onViewDetails:()=>(async e=>{try{const t=await bo(e.userId,l);b(Ue(Ue({},e),{},{details:t.data}))}catch(t){console.error("Failed to load user details:",t)}})(e),onDownloadBill:B,onPrintBill:N,index:t},e.userId)))})]}),g.length>0&&(0,Ie.jsxs)("div",{style:{position:"fixed",bottom:"var(--space-8)",left:"50%",transform:"translateX(-50%)",background:e.cardBackground,padding:"var(--space-6) var(--space-8)",borderRadius:"var(--radius-2xl)",boxShadow:e.shadowModal,display:"flex",alignItems:"center",gap:"var(--space-8)",zIndex:1e3,border:"1px solid ".concat(e.border),flexWrap:"wrap",justifyContent:"center",backdropFilter:"blur(20px)"},className:"animate-fade-in",children:[(0,Ie.jsxs)("div",{style:{fontWeight:"700",color:e.textPrimary,fontSize:"1rem",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ie.jsx)("polyline",{points:"20,6 9,17 4,12"})}),g.length," users selected"]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"var(--space-3)",flexWrap:"wrap"},children:[(0,Ie.jsxs)("button",{onClick:()=>{0!==g.length&&w({isOpen:!0,userId:"bulk-bills",format:"bulk-bills"})},className:"modern-button modern-button-primary",title:"Generate bulk bills with custom brokerage option",children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Ie.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,Ie.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Ie.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,Ie.jsx)("polyline",{points:"10,9 9,9 8,9"})]}),"Bulk Bills"]}),(0,Ie.jsxs)("button",{onClick:()=>{0!==g.length&&w({isOpen:!0,userId:"bulk-excel",format:"bulk-excel"})},className:"modern-button modern-button-accent",title:"Generate bulk Excel reports with custom brokerage option",children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Bulk Excel"]}),(0,Ie.jsxs)("button",{onClick:()=>x([]),className:"modern-button modern-button-outline",style:{color:"var(--color-error)",borderColor:"var(--color-error)"},children:[(0,Ie.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ie.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Clear"]})]})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"var(--space-4)",marginTop:"var(--space-12)",marginBottom:"var(--space-8)"},children:[(0,Ie.jsxs)("button",{onClick:()=>window.location.href="/brokerage",className:"modern-button modern-button-accent",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,Ie.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Brokerage Dashboard"]}),(0,Ie.jsxs)("button",{onClick:()=>window.location.href="/brokerage/bulk",className:"modern-button modern-button-primary",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",ry:"1"})]}),"Bulk Operations"]}),(0,Ie.jsxs)("button",{onClick:()=>window.location.href="/dashboard",className:"modern-button modern-button-outline",style:{padding:"var(--space-5) var(--space-8)",fontSize:"1rem"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,Ie.jsx)("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Main Dashboard"]})]}),y&&(0,Ie.jsx)(Wh,{user:y,onClose:()=>b(null)}),(0,Ie.jsx)(Uh,{isOpen:k.isOpen,onClose:()=>{w({isOpen:!1,userId:null,format:null,firmName:null})},onConfirm:async e=>{const{userId:t,format:r,firmName:n}=k;try{"bulk-bills"===r?(await Po(g,l,e),alert("Bulk bill generation started. Check document status for progress.")):"bulk-excel"===r?(await Bo(g,l,e),alert("Bulk Excel generation started. Check document status for progress.")):"excel"===r?await jo(t,l,e,n):"pdf"===r?await ko(t,l,e,n):"print"===r?await wo(t,l,{customBrokerage:e,firmName:n}):"print-city"===r?await So(t,l,e,n):await vo(t,l,e,n)}catch(o){console.error("Failed to download/generate:",o)}},title:"bulk-bills"===k.format?"Bulk Bills Generation":"bulk-excel"===k.format?"Bulk Excel Generation":"print"===k.format?"Download Print Bill":"print-city"===k.format?"Download City-wise Print Bill":"Download ".concat("excel"===k.format?"Excel":"pdf"===k.format?"PDF":"Bill")})]})})},Yh={downloadHtmlBills:async(e,t)=>(await go.post("/Brokerage/bulk-bills/html/".concat(t),e,{responseType:"blob"})).data,downloadExcelBills:async(e,t)=>(await go.post("/Brokerage/bulk-bills/excel/".concat(t),e,{responseType:"blob"})).data,triggerDownload(e,t){const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}},qh=e=>{let{message:t,onClose:r}=e;return(0,a.useEffect)((()=>{if(t){const e=setTimeout((()=>{r()}),3e3);return()=>clearTimeout(e)}}),[t,r]),t?(0,Ie.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",background:"#48bb78",color:"white",padding:"1rem 1.5rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Ie.jsx)("span",{children:"\u2713"}),(0,Ie.jsx)("span",{children:t}),(0,Ie.jsx)("button",{onClick:r,style:{background:"none",border:"none",color:"white",fontSize:"18px",cursor:"pointer",marginLeft:"0.5rem"},children:"\xd7"})]}):null},Qh=e=>{let{selectedUsers:t,financialYearId:r}=e;const{downloadBulkBills:n,isLoading:o,error:i,clearError:s}=(()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null);return{downloadBulkBills:async function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"excel";if(e&&0!==e.length){t(!0),n(null);try{let t,n;return"html"===o?(t=await Yh.downloadHtmlBills(e,r),n="bulk-bills-html-FY".concat(r,".zip")):(t=await Yh.downloadExcelBills(e,r),n="bulk-bills-excel-FY".concat(r,".zip")),Yh.triggerDownload(t,n),{success:!0,message:"Successfully downloaded ".concat(e.length," ").concat(o.toUpperCase()," bills!")}}catch(a){const e=a.message||"Failed to download bulk bills";return n(e),{success:!1,error:e}}finally{t(!1)}}else n("Please select at least one user")},isLoading:e,error:r,clearError:()=>n(null)}})(),[l,d]=(0,a.useState)("excel"),[c,u]=(0,a.useState)("");return(0,Ie.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Ie.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"1.2rem"},children:"3"}),(0,Ie.jsx)("h3",{style:{margin:0,color:"#2d3748",fontSize:"1.5rem",fontWeight:"700"},children:"Download Bulk Bills"})]}),(0,Ie.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,Ie.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"1rem"},children:[(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,Ie.jsx)("input",{type:"radio",value:"excel",checked:"excel"===l,onChange:e=>d(e.target.value),disabled:o,style:{transform:"scale(1.2)"}}),(0,Ie.jsx)("span",{style:{fontSize:"1.1rem",fontWeight:"600"},children:"Excel Format (.xlsx)"})]}),(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,Ie.jsx)("input",{type:"radio",value:"html",checked:"html"===l,onChange:e=>d(e.target.value),disabled:o,style:{transform:"scale(1.2)"}}),(0,Ie.jsx)("span",{style:{fontSize:"1.1rem",fontWeight:"600"},children:"HTML Format (.html)"})]})]})}),(0,Ie.jsx)("button",{onClick:async()=>{if(!t||0===t.length)return;const e=t.map((e=>e.userId)),o=await n(e,r,l);null!==o&&void 0!==o&&o.success&&u(o.message)},disabled:o||!t||0===t.length,title:t&&0!==t.length?"":"Please select at least one user",style:{width:"100%",padding:"1.5rem",background:o?"#cbd5e0":"linear-gradient(135deg, #48bb78, #38a169)",color:"white",border:"none",borderRadius:"15px",cursor:o?"not-allowed":"pointer",fontSize:"1.2rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",transition:"all 0.3s ease",boxShadow:o?"none":"0 8px 25px rgba(72, 187, 120, 0.4)"},children:o?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{style:{width:"20px",height:"20px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Generating ",l.toUpperCase()," bills for ",(null===t||void 0===t?void 0:t.length)||0," users..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,Ie.jsx)("polyline",{points:"7,10 12,15 17,10"}),(0,Ie.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download ",(null===t||void 0===t?void 0:t.length)||0," Bills (",l.toUpperCase(),")"]})}),i&&(0,Ie.jsxs)("div",{style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",margin:"1rem 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ie.jsx)("span",{children:i}),(0,Ie.jsx)("button",{onClick:s,style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#c53030"},children:"\xd7"})]}),t&&t.length>0&&(0,Ie.jsxs)("div",{style:{background:"#f7fafc",padding:"1rem",borderRadius:"8px",marginTop:"1rem"},children:[(0,Ie.jsxs)("p",{style:{margin:"0 0 0.5rem 0",fontWeight:"600"},children:["Selected ",t.length," users for FY ",r]}),(0,Ie.jsxs)("div",{style:{fontSize:"0.9rem",color:"#718096"},children:[t.slice(0,3).map((e=>e.firmName)).join(", "),t.length>3&&" and ".concat(t.length-3," more")]})]}),(0,Ie.jsx)(qh,{message:c,onClose:()=>u("")})]})},$h=()=>{const{theme:e}=Ee(),{error:t,handleError:r,clearError:n}=(()=>{const[e,t]=(0,a.useState)(null),r=(0,a.useCallback)((e=>{console.error("Error occurred:",e);let r="An unexpected error occurred";var n;e.response?r=(null===(n=e.response.data)||void 0===n?void 0:n.message)||"Error: ".concat(e.response.status):e.message&&(r=e.message),t(r)}),[]);return{error:e,handleError:r,clearError:(0,a.useCallback)((()=>{t(null)}),[])}})(),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[m,y]=(0,a.useState)(!0),[b,v]=(0,a.useState)(""),[j,k]=(0,a.useState)(""),[w,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{C()}),[]);const C=async()=>{try{y(!0);const[e,t]=await Promise.all([Hn(),kn(0,1e3)]),r=e||[];i(r),r.length>0&&r[0].yearId&&l(r[0].yearId);const n=t.content||[];g(n);const o=["All",...[...new Set(n.map((e=>null===e||void 0===e?void 0:e.city)).filter(Boolean))].sort(((e,t)=>e.localeCompare(t)))];c(o),o.length>0&&p(o[0])}catch(t){r(t)}finally{y(!1)}},P=()=>{let e="All"===u?h:h.filter((e=>(null===e||void 0===e?void 0:e.city)===u));return b.trim()&&(e=e.filter((e=>{var t,r;return(null===e||void 0===e||null===(t=e.firmName)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.toString().includes(b))}))),e},B=()=>j.trim()?d.filter((e=>e.toLowerCase().includes(j.toLowerCase()))):d;return m?(0,Ie.jsx)("div",{style:{background:e.background,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0},children:(0,Ie.jsx)(Wo,{})}):(0,Ie.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",margin:0,padding:0},children:(0,Ie.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem",color:"white"},children:[(0,Ie.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[(0,Ie.jsx)("div",{style:{background:"rgba(255,255,255,0.2)",padding:"1rem",borderRadius:"50%",backdropFilter:"blur(10px)"},children:(0,Ie.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",ry:"1"})]})}),(0,Ie.jsx)("h1",{style:{margin:0,fontSize:"3rem",fontWeight:"800",background:"linear-gradient(45deg, #fff, #f0f0f0)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"Bulk Operations"})]}),(0,Ie.jsx)("p",{style:{margin:0,fontSize:"1.2rem",opacity:.9,maxWidth:"600px",margin:"0 auto 2rem auto"},children:"Generate brokerage documents efficiently for multiple merchants"}),(0,Ie.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"1rem",background:"rgba(255,255,255,0.15)",padding:"1rem 2rem",borderRadius:"50px",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[(0,Ie.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,Ie.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,Ie.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,Ie.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),(0,Ie.jsx)("select",{value:s||"",onChange:e=>l(e.target.value),style:{background:"transparent",border:"none",color:"white",fontSize:"1.1rem",fontWeight:"600",outline:"none",cursor:"pointer"},children:o.map((t=>(0,Ie.jsx)("option",{value:t.yearId,style:{background:"dark"===e.name?"#1a1a2e":"#667eea",color:"white"},children:t.financialYearName},t.yearId)))})]})]}),t&&(0,Ie.jsxs)("div",{style:{background:"dark"===e.name?"rgba(220, 38, 38, 0.9)":"rgba(239, 68, 68, 0.9)",color:"white",padding:"1.5rem",marginBottom:"2rem",borderRadius:"20px",display:"flex",alignItems:"center",gap:"1rem",backdropFilter:"blur(10px)",border:"dark"===e.name?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[(0,Ie.jsx)("div",{style:{background:"rgba(255,255,255,0.2)",padding:"0.5rem",borderRadius:"50%"},children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ie.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,Ie.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),(0,Ie.jsx)("div",{style:{fontWeight:"600",fontSize:"1.1rem",flex:1},children:t}),(0,Ie.jsx)("button",{onClick:n,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.5rem",borderRadius:"50%",cursor:"pointer",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2715"})]}),(0,Ie.jsxs)("div",{style:{background:"rgba(255,255,255,0.95)",borderRadius:"30px",padding:"3rem",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",marginBottom:"3rem"},children:[(0,Ie.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Ie.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"1.2rem"},children:"1"}),(0,Ie.jsx)("h3",{style:{margin:0,color:"#2d3748",fontSize:"1.5rem",fontWeight:"700"},children:"Select City"})]}),(0,Ie.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search and select city...",value:w?j:u,onChange:e=>{k(e.target.value),S(!0)},onFocus:()=>S(!0),style:{width:"100%",padding:"1rem 1.5rem",fontSize:"1.1rem",border:"2px solid #e2e8f0",borderRadius:"15px",background:"white",color:"#2d3748",cursor:"pointer",transition:"all 0.3s ease",outline:"none"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>{setTimeout((()=>S(!1)),200),e.target.style.borderColor="#e2e8f0"}}),w&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"2px solid #e2e8f0",borderTop:"none",borderRadius:"0 0 15px 15px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[B().map(((e,t)=>(0,Ie.jsx)("div",{onClick:()=>(e=>{p(e),f([]),v(""),k(""),S(!1)})(e),style:{padding:"0.75rem 1.5rem",cursor:"pointer",borderBottom:t<B().length-1?"1px solid #e2e8f0":"none",transition:"background-color 0.2s ease",backgroundColor:e===u?"#f0f4ff":"transparent"},onMouseEnter:e=>e.target.style.backgroundColor="#f7fafc",onMouseLeave:t=>t.target.style.backgroundColor=e===u?"#f0f4ff":"transparent",children:e},"city-".concat(t)))),0===B().length&&(0,Ie.jsx)("div",{style:{padding:"0.75rem 1.5rem",color:"#718096",fontStyle:"italic"},children:"No cities found"})]})]})]}),u&&(0,Ie.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Ie.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"1.2rem"},children:"2"}),(0,Ie.jsxs)("div",{style:{flex:1},children:[(0,Ie.jsxs)("h3",{style:{margin:0,color:"#2d3748",fontSize:"1.5rem",fontWeight:"700"},children:["Select Merchants ","All"===u?"from All Cities":"in ".concat(u)]}),(0,Ie.jsxs)("p",{style:{margin:"0.5rem 0 0 0",color:"#718096",fontSize:"1rem"},children:[P().length," merchants available"]})]}),(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",transition:"all 0.3s ease"},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:x.length===P().length&&P().length>0,onChange:()=>{const e=P();x.length===e.length?f([]):f(e.map((e=>e.userId)))},style:{transform:"scale(1.2)",accentColor:"white"}}),"Select All"]})]}),(0,Ie.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,Ie.jsx)("input",{type:"text",placeholder:"Search merchants ".concat("All"===u?"from all cities":"in ".concat(u),"..."),value:b,onChange:e=>v(e.target.value),style:{width:"100%",padding:"1rem 1.5rem",fontSize:"1rem",border:"2px solid #e2e8f0",borderRadius:"15px",background:"white",color:"#2d3748",outline:"none",transition:"all 0.3s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e2e8f0"})}),(0,Ie.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",border:"2px solid #e2e8f0",borderRadius:"20px",padding:"1rem",background:"#f7fafc"},children:(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:P().map((t=>(0,Ie.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer",padding:"1rem",background:x.includes(t.userId)?"linear-gradient(135deg, #667eea, #764ba2)":e.cardBackground,color:x.includes(t.userId)?"white":e.textPrimary,borderRadius:"15px",border:"2px solid",borderColor:x.includes(t.userId)?"transparent":e.border,transition:"all 0.3s ease",boxShadow:x.includes(t.userId)?"0 4px 15px rgba(102, 126, 234, 0.4)":"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:x.includes(t.userId),onChange:()=>{return e=t.userId,void f((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e},style:{transform:"scale(1.3)",accentColor:x.includes(t.userId)?"white":"#667eea"}}),(0,Ie.jsxs)("div",{style:{flex:1},children:[(0,Ie.jsx)("div",{style:{fontWeight:"600",fontSize:"1rem"},children:t.firmName}),(0,Ie.jsxs)("div",{style:{fontSize:"0.85rem",opacity:.8},children:["ID: ",t.userId," ","All"===u?"\u2022 ".concat(t.city):""]})]})]},t.userId)))})}),(0,Ie.jsxs)("div",{style:{marginTop:"1.5rem",textAlign:"center",padding:"1rem",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",borderRadius:"15px",fontSize:"1.1rem",fontWeight:"600"},children:["Selected: ",x.length," merchants"]})]}),x.length>0&&(0,Ie.jsx)(Qh,{selectedUsers:h.filter((e=>x.includes(e.userId))),financialYearId:s})]})]})})},Gh=e=>{let{payment:t,onClose:r,onSuccess:n}=e;const[o,i]=(0,a.useState)({amount:"",method:"UPI",notes:"",paymentDate:(new Date).toISOString().split("T")[0],transactionReference:"",bankDetails:"",recordedBy:localStorage.getItem("userName")||"admin"}),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),u=localStorage.getItem("brokerId"),p=e=>{const{name:t,value:r}=e.target;i((e=>Ue(Ue({},e),{},{[t]:r})))},h=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return(0,Ie.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,Ie.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ie.jsxs)("div",{className:"modal-header",children:[(0,Ie.jsx)("h3",{children:"Add Part Payment"}),(0,Ie.jsx)("button",{className:"close-btn",onClick:r,children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"payment-info",children:[(0,Ie.jsx)("h4",{children:t.firmName}),(0,Ie.jsxs)("div",{className:"info-row",children:[(0,Ie.jsxs)("span",{children:["Net Brokerage: ",h(t.netBrokerage)]}),(0,Ie.jsxs)("span",{children:["Pending: ",h(t.pendingAmount)]})]})]}),d&&(0,Ie.jsx)("div",{className:"error-message",children:d}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.amount||parseFloat(o.amount)<=0)c("Please enter a valid amount");else if(parseFloat(o.amount)>t.pendingAmount)c("Amount cannot exceed pending amount");else if(!["CHEQUE","UPI","BANK_TRANSFER","NEFT","RTGS"].includes(o.method)||o.transactionReference)try{l(!0),c(null);const e=Ue(Ue({},o),{},{amount:parseFloat(o.amount)});await bh.addPartPayment(u,t.id,e),n()}catch(d){c(d.message||"Failed to add payment")}finally{l(!1)}else c("Transaction reference is required for this payment method")},className:"payment-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Amount *"}),(0,Ie.jsx)("input",{type:"number",name:"amount",value:o.amount,onChange:p,placeholder:"Enter payment amount",step:"0.01",max:t.pendingAmount,required:!0}),(0,Ie.jsxs)("small",{children:["Maximum: ",h(t.pendingAmount)]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Payment Method *"}),(0,Ie.jsx)("select",{name:"method",value:o.method,onChange:p,required:!0,children:["CASH","CHEQUE","UPI","BANK_TRANSFER","NEFT","RTGS","CARD"].map((e=>(0,Ie.jsx)("option",{value:e,children:e.replace("_"," ")},e)))})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Payment Date *"}),(0,Ie.jsx)("input",{type:"date",name:"paymentDate",value:o.paymentDate,onChange:p,max:(new Date).toISOString().split("T")[0],required:!0})]}),["CHEQUE","UPI","BANK_TRANSFER","NEFT","RTGS"].includes(o.method)&&(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Transaction Reference *"}),(0,Ie.jsx)("input",{type:"text",name:"transactionReference",value:o.transactionReference,onChange:p,placeholder:"Enter transaction reference",required:!0})]}),["BANK_TRANSFER","NEFT","RTGS","CHEQUE"].includes(o.method)&&(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Bank Details"}),(0,Ie.jsx)("input",{type:"text",name:"bankDetails",value:o.bankDetails,onChange:p,placeholder:"Enter bank details"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{children:"Notes"}),(0,Ie.jsx)("textarea",{name:"notes",value:o.notes,onChange:p,placeholder:"Add any notes about this payment",rows:"3"})]}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{type:"button",onClick:r,className:"cancel-btn",children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",disabled:s,className:"submit-btn",children:s?"Adding Payment...":"Add Payment"})]})]})]})})},Kh=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),h=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{try{n(!0);const e=await bh.getBrokeragePayments(h);t(e.data||[])}catch(o){i("Failed to load brokerage payments"),console.error("Brokerage payments error:",o)}finally{n(!1)}},x=async()=>{if(s.trim())try{n(!0);const e=await bh.searchBrokeragePayments(h,s);t(e.data||[])}catch(o){i("Search failed")}finally{n(!1)}else g()},f=e=>{switch(e){case"PAID":return"#27ae60";case"PARTIALLY_PAID":return"#f39c12";case"OVERDUE":return"#e74c3c";default:return"#95a5a6"}},m=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),y=e=>new Date(e).toLocaleDateString("en-IN");return r?(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{children:"Loading brokerage payments..."})]}):(0,Ie.jsxs)("div",{className:"brokerage-payments",children:[(0,Ie.jsxs)("div",{className:"payments-header",children:[(0,Ie.jsx)("h2",{children:"Brokerage Payments"}),(0,Ie.jsxs)("div",{className:"search-container",children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search by firm name...",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&x()}),(0,Ie.jsx)("button",{onClick:x,children:"Search"}),(0,Ie.jsx)("button",{onClick:g,children:"Clear"})]})]}),o&&(0,Ie.jsxs)("div",{className:"error-message",children:[o,(0,Ie.jsx)("button",{onClick:()=>i(null),children:"\xd7"})]}),(0,Ie.jsx)("div",{className:"payments-grid",children:e.map((e=>(0,Ie.jsxs)("div",{className:"payment-card",children:[(0,Ie.jsxs)("div",{className:"payment-header",children:[(0,Ie.jsx)("h3",{children:e.firmName}),(0,Ie.jsx)("span",{className:"status-badge",style:{backgroundColor:f(e.status)},children:e.status.replace("_"," ")})]}),(0,Ie.jsxs)("div",{className:"payment-details",children:[(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Owner:"}),(0,Ie.jsx)("span",{children:e.ownerName})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"City:"}),(0,Ie.jsx)("span",{children:e.city})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Total Bags:"}),(0,Ie.jsx)("span",{children:e.totalBags})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Gross Brokerage:"}),(0,Ie.jsx)("span",{children:m(e.grossBrokerage)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Net Brokerage:"}),(0,Ie.jsx)("span",{className:"highlight",children:m(e.netBrokerage)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Paid Amount:"}),(0,Ie.jsx)("span",{className:"paid",children:m(e.paidAmount)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Pending Amount:"}),(0,Ie.jsx)("span",{className:"pending",children:m(e.pendingAmount)})]}),e.lastPaymentDate&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Last Payment:"}),(0,Ie.jsx)("span",{children:y(e.lastPaymentDate)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Due Date:"}),(0,Ie.jsx)("span",{className:e.daysOverdue>0?"overdue":"",children:y(e.dueDate)})]})]}),(0,Ie.jsxs)("div",{className:"payment-progress",children:[(0,Ie.jsx)("div",{className:"progress-bar",children:(0,Ie.jsx)("div",{className:"progress-fill",style:{width:"".concat(e.paymentCompletionPercentage,"%")}})}),(0,Ie.jsxs)("span",{className:"progress-text",children:[e.paymentCompletionPercentage.toFixed(1),"% Complete"]})]}),"PAID"!==e.status&&(0,Ie.jsx)("div",{className:"payment-actions",children:(0,Ie.jsx)("button",{className:"add-payment-btn",onClick:()=>(e=>{c(e),p(!0)})(e),children:"Add Payment"})}),e.partPayments&&e.partPayments.length>0&&(0,Ie.jsxs)("div",{className:"part-payments",children:[(0,Ie.jsx)("h4",{children:"Payment History"}),e.partPayments.map((e=>(0,Ie.jsxs)("div",{className:"part-payment",children:[(0,Ie.jsx)("span",{children:m(e.amount)}),(0,Ie.jsx)("span",{children:y(e.paymentDate)}),(0,Ie.jsx)("span",{children:e.method})]},e.id)))]})]},e.id)))}),0===e.length&&!r&&(0,Ie.jsx)("div",{className:"no-data",children:(0,Ie.jsx)("p",{children:"No brokerage payments found"})}),u&&(0,Ie.jsx)(Gh,{payment:d,onClose:()=>p(!1),onSuccess:()=>{p(!1),c(null),g()}})]})},Xh=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),d=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{n(!0);const e=await bh.getPendingPayments(d);t(e.data||[])}catch(o){i("Failed to load pending payments"),console.error("Pending payments error:",o)}finally{n(!1)}},u=async()=>{if(s.trim())try{n(!0);const e=await bh.searchPendingPayments(d,s);t(e.data||[])}catch(o){i("Search failed")}finally{n(!1)}else c()},p=e=>{switch(e){case"PENDING":return"#f39c12";case"OVERDUE":return"#e74c3c";default:return"#95a5a6"}},h=e=>{switch(e){case"HIGH":return"#e74c3c";case"MEDIUM":return"#f39c12";case"LOW":return"#27ae60";case"CRITICAL":return"#8e44ad";default:return"#95a5a6"}},g=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),x=e=>new Date(e).toLocaleDateString("en-IN");return r?(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{children:"Loading pending payments..."})]}):(0,Ie.jsxs)("div",{className:"pending-payments",children:[(0,Ie.jsxs)("div",{className:"payments-header",children:[(0,Ie.jsx)("h2",{children:"Pending Payments"}),(0,Ie.jsxs)("div",{className:"search-container",children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search by buyer firm...",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&u()}),(0,Ie.jsx)("button",{onClick:u,children:"Search"}),(0,Ie.jsx)("button",{onClick:c,children:"Clear"})]})]}),o&&(0,Ie.jsxs)("div",{className:"error-message",children:[o,(0,Ie.jsx)("button",{onClick:()=>i(null),children:"\xd7"})]}),(0,Ie.jsx)("div",{className:"payments-grid",children:e.map((e=>(0,Ie.jsxs)("div",{className:"payment-card",children:[(0,Ie.jsxs)("div",{className:"payment-header",children:[(0,Ie.jsx)("h3",{children:e.buyerFirm}),(0,Ie.jsxs)("div",{className:"badges",children:[(0,Ie.jsx)("span",{className:"status-badge",style:{backgroundColor:p(e.status)},children:e.status}),(0,Ie.jsx)("span",{className:"priority-badge",style:{backgroundColor:h(e.priorityLevel)},children:e.priorityLevel})]})]}),(0,Ie.jsxs)("div",{className:"payment-details",children:[(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Buyer Owner:"}),(0,Ie.jsx)("span",{children:e.buyerOwner})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"City:"}),(0,Ie.jsx)("span",{children:e.buyerCity})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"User Type:"}),(0,Ie.jsx)("span",{children:e.buyerUserType})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Total Pending:"}),(0,Ie.jsx)("span",{className:"highlight",children:g(e.totalPendingAmount)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Transactions:"}),(0,Ie.jsx)("span",{children:e.transactionCount})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Oldest Transaction:"}),(0,Ie.jsx)("span",{children:x(e.oldestTransactionDate)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Due Date:"}),(0,Ie.jsx)("span",{className:e.daysOverdue>0?"overdue":"",children:x(e.dueDate)})]}),e.daysOverdue>0&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Days Overdue:"}),(0,Ie.jsxs)("span",{className:"overdue",children:[e.daysOverdue," days"]})]}),e.daysUntilDue>0&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Days Until Due:"}),(0,Ie.jsxs)("span",{children:[e.daysUntilDue," days"]})]})]}),e.buyerPhone&&(0,Ie.jsxs)("div",{className:"contact-info",children:[(0,Ie.jsx)("div",{className:"contact-item",children:(0,Ie.jsxs)("span",{children:["\ud83d\udcde ",e.buyerPhone]})}),e.buyerEmail&&(0,Ie.jsx)("div",{className:"contact-item",children:(0,Ie.jsxs)("span",{children:["\u2709\ufe0f ",e.buyerEmail]})})]}),e.transactions&&e.transactions.length>0&&(0,Ie.jsxs)("div",{className:"transactions",children:[(0,Ie.jsx)("h4",{children:"Recent Transactions"}),e.transactions.slice(0,3).map((e=>(0,Ie.jsxs)("div",{className:"transaction",children:[(0,Ie.jsxs)("div",{className:"transaction-info",children:[(0,Ie.jsx)("span",{className:"transaction-id",children:e.transactionId}),(0,Ie.jsx)("span",{className:"transaction-amount",children:g(e.amount)})]}),(0,Ie.jsxs)("div",{className:"transaction-details",children:[(0,Ie.jsxs)("span",{children:[e.productName," - ",e.quantity," units"]}),(0,Ie.jsx)("span",{children:x(e.transactionDate)})]})]},e.transactionId))),e.transactions.length>3&&(0,Ie.jsxs)("div",{className:"more-transactions",children:["+",e.transactions.length-3," more transactions"]})]})]},e.id)))}),0===e.length&&!r&&(0,Ie.jsx)("div",{className:"no-data",children:(0,Ie.jsx)("p",{children:"No pending payments found"})})]})},Jh=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),d=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{n(!0);const e=await bh.getReceivablePayments(d);t(e.data||[])}catch(o){i("Failed to load receivable payments"),console.error("Receivable payments error:",o)}finally{n(!1)}},u=async()=>{if(s.trim())try{n(!0);const e=await bh.searchReceivablePayments(d,s);t(e.data||[])}catch(o){i("Search failed")}finally{n(!1)}else c()},p=e=>{switch(e){case"PENDING":return"#f39c12";case"OVERDUE":return"#e74c3c";default:return"#95a5a6"}},h=e=>{switch(e){case"HIGH":return"#e74c3c";case"MEDIUM":return"#f39c12";case"LOW":return"#27ae60";case"CRITICAL":return"#8e44ad";default:return"#95a5a6"}},g=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),x=e=>new Date(e).toLocaleDateString("en-IN");return r?(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{children:"Loading receivable payments..."})]}):(0,Ie.jsxs)("div",{className:"receivable-payments",children:[(0,Ie.jsxs)("div",{className:"payments-header",children:[(0,Ie.jsx)("h2",{children:"Receivable Payments"}),(0,Ie.jsxs)("div",{className:"search-container",children:[(0,Ie.jsx)("input",{type:"text",placeholder:"Search by seller firm...",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&u()}),(0,Ie.jsx)("button",{onClick:u,children:"Search"}),(0,Ie.jsx)("button",{onClick:c,children:"Clear"})]})]}),o&&(0,Ie.jsxs)("div",{className:"error-message",children:[o,(0,Ie.jsx)("button",{onClick:()=>i(null),children:"\xd7"})]}),(0,Ie.jsx)("div",{className:"payments-grid",children:e.map((e=>(0,Ie.jsxs)("div",{className:"payment-card",children:[(0,Ie.jsxs)("div",{className:"payment-header",children:[(0,Ie.jsx)("h3",{children:e.sellerFirm}),(0,Ie.jsxs)("div",{className:"badges",children:[(0,Ie.jsx)("span",{className:"status-badge",style:{backgroundColor:p(e.status)},children:e.status}),(0,Ie.jsx)("span",{className:"priority-badge",style:{backgroundColor:h(e.priorityLevel)},children:e.priorityLevel})]})]}),(0,Ie.jsxs)("div",{className:"payment-details",children:[(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Seller Owner:"}),(0,Ie.jsx)("span",{children:e.sellerOwner})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"City:"}),(0,Ie.jsx)("span",{children:e.sellerCity})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"User Type:"}),(0,Ie.jsx)("span",{children:e.sellerUserType})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Total Receivable:"}),(0,Ie.jsx)("span",{className:"highlight",children:g(e.totalReceivableAmount)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Transactions:"}),(0,Ie.jsx)("span",{children:e.transactionCount})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Unique Buyers:"}),(0,Ie.jsx)("span",{children:e.uniqueBuyersCount})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Largest Debt:"}),(0,Ie.jsx)("span",{children:g(e.largestSingleDebt)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Oldest Transaction:"}),(0,Ie.jsx)("span",{children:x(e.oldestTransactionDate)})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Due Date:"}),(0,Ie.jsx)("span",{className:e.daysOverdue>0?"overdue":"",children:x(e.dueDate)})]}),e.daysOverdue>0&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Days Overdue:"}),(0,Ie.jsxs)("span",{className:"overdue",children:[e.daysOverdue," days"]})]}),e.daysUntilDue>0&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{children:"Days Until Due:"}),(0,Ie.jsxs)("span",{children:[e.daysUntilDue," days"]})]})]}),e.sellerPhone&&(0,Ie.jsxs)("div",{className:"contact-info",children:[(0,Ie.jsx)("div",{className:"contact-item",children:(0,Ie.jsxs)("span",{children:["\ud83d\udcde ",e.sellerPhone]})}),e.sellerEmail&&(0,Ie.jsx)("div",{className:"contact-item",children:(0,Ie.jsxs)("span",{children:["\u2709\ufe0f ",e.sellerEmail]})}),e.sellerGstNumber&&(0,Ie.jsx)("div",{className:"contact-item",children:(0,Ie.jsxs)("span",{children:["\ud83c\udfe2 GST: ",e.sellerGstNumber]})})]}),e.owedBy&&e.owedBy.length>0&&(0,Ie.jsxs)("div",{className:"owed-by",children:[(0,Ie.jsxs)("h4",{children:["Owed By (",e.owedBy.length," buyers)"]}),e.owedBy.slice(0,3).map((e=>(0,Ie.jsxs)("div",{className:"buyer-debt",children:[(0,Ie.jsxs)("div",{className:"buyer-info",children:[(0,Ie.jsx)("span",{className:"buyer-firm",children:e.buyerFirm}),(0,Ie.jsx)("span",{className:"debt-amount",children:g(e.totalOwed)})]}),(0,Ie.jsxs)("div",{className:"buyer-details",children:[(0,Ie.jsxs)("span",{children:[e.transactionCount," transactions"]}),(0,Ie.jsxs)("span",{children:["Since: ",x(e.oldestTransactionDate)]})]})]},e.buyerId))),e.owedBy.length>3&&(0,Ie.jsxs)("div",{className:"more-buyers",children:["+",e.owedBy.length-3," more buyers"]})]})]},e.id)))}),0===e.length&&!r&&(0,Ie.jsx)("div",{className:"no-data",children:(0,Ie.jsx)("p",{children:"No receivable payments found"})})]})},Zh=()=>{const[e,t]=(0,a.useState)("dashboard"),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),d=localStorage.getItem("brokerId");(0,a.useEffect)((()=>{"dashboard"===e&&c()}),[e]);const c=async()=>{try{n(!0);const e=await bh.getDashboardStats(d);l(e.data)}catch(o){i("Failed to load dashboard statistics"),console.error("Dashboard stats error:",o)}finally{n(!1)}};return r&&!s?(0,Ie.jsx)(Wo,{}):(0,Ie.jsxs)("div",{className:"payment-management",children:[(0,Ie.jsxs)("div",{className:"payment-header",children:[(0,Ie.jsx)("h1",{children:"Payment Management"}),(0,Ie.jsx)("button",{className:"refresh-btn",onClick:async()=>{try{n(!0),await bh.refreshCache(d),"dashboard"===e&&await c()}catch(o){i("Failed to refresh cache")}finally{n(!1)}},disabled:r,children:"\ud83d\udd04 Refresh"})]}),o&&(0,Ie.jsxs)("div",{className:"error-message",children:[o,(0,Ie.jsx)("button",{onClick:()=>i(null),children:"\xd7"})]}),(0,Ie.jsx)("div",{className:"payment-tabs",children:[{id:"dashboard",label:"Dashboard",icon:"\ud83d\udcca"},{id:"brokerage",label:"Brokerage Payments",icon:"\ud83d\udcb0"},{id:"pending",label:"Pending Payments",icon:"\u23f3"},{id:"receivable",label:"Receivable Payments",icon:"\ud83d\udce5"}].map((r=>(0,Ie.jsxs)("button",{className:"tab-btn ".concat(e===r.id?"active":""),onClick:()=>t(r.id),children:[(0,Ie.jsx)("span",{className:"tab-icon",children:r.icon}),r.label]},r.id)))}),(0,Ie.jsxs)("div",{className:"payment-content",children:["dashboard"===e&&(0,Ie.jsx)(nh,{stats:s,loading:r,onRefresh:c}),"brokerage"===e&&(0,Ie.jsx)(Kh,{}),"pending"===e&&(0,Ie.jsx)(Xh,{}),"receivable"===e&&(0,Ie.jsx)(Jh,{})]})]})},eg=()=>{var e,t,r;const[n,o]=(0,a.useState)([]),[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),g=localStorage.getItem("brokerId")||"1";(0,a.useEffect)((()=>{x()}),[]);const x=async()=>{try{u(!0),h(null),console.log("Testing Payment API endpoints...");try{const e=await bh.getAllFirms();o(e.data||[]),console.log("Firms loaded:",e)}catch(e){console.error("Firms API error:",e)}try{const e=await bh.getDashboardStats(g);s(e.data),console.log("Dashboard stats loaded:",e)}catch(e){console.error("Dashboard stats API error:",e)}try{const e=await bh.getBrokeragePayments(g);d(e.data||[]),console.log("Brokerage payments loaded:",e)}catch(e){console.error("Brokerage payments API error:",e)}}catch(p){h("Failed to load demo data: "+p.message),console.error("Demo data error:",p)}finally{u(!1)}};return(0,Ie.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Ie.jsx)("h1",{children:"Payment API Demo"}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("button",{onClick:x,disabled:c,children:c?"Loading...":"Reload Data"}),(0,Ie.jsx)("button",{onClick:async()=>{if(0===l.length)return void alert("No brokerage payments available for testing");const e=l[0],t={amount:1e3,method:"UPI",notes:"Test payment from demo",paymentDate:(new Date).toISOString().split("T")[0],transactionReference:"DEMO"+Date.now(),recordedBy:"demo-user"};try{const r=await bh.addPartPayment(g,e.id,t);console.log("Part payment added:",r),alert("Part payment added successfully!"),x()}catch(p){console.error("Part payment error:",p),alert("Part payment failed: "+p.message)}},style:{marginLeft:"10px"},children:"Test Part Payment"})]}),p&&(0,Ie.jsx)("div",{style:{background:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:p}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Ie.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ie.jsxs)("h3",{children:["Firms (",n.length,")"]}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:n.map(((e,t)=>(0,Ie.jsx)("div",{style:{padding:"5px 0",borderBottom:"1px solid #eee"},children:e},t)))})]}),(0,Ie.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ie.jsx)("h3",{children:"Dashboard Stats"}),i?(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("p",{children:["Total Brokerage: \u20b9",null===(e=i.totalBrokerageAmount)||void 0===e?void 0:e.toLocaleString()]}),(0,Ie.jsxs)("p",{children:["Total Pending: \u20b9",null===(t=i.totalPendingPaymentAmount)||void 0===t?void 0:t.toLocaleString()]}),(0,Ie.jsxs)("p",{children:["Total Receivable: \u20b9",null===(r=i.totalReceivablePaymentAmount)||void 0===r?void 0:r.toLocaleString()]}),(0,Ie.jsxs)("p",{children:["Active Payments: ",i.totalActivePayments]}),(0,Ie.jsxs)("p",{children:["Critical Payments: ",i.criticalPaymentsCount]})]}):(0,Ie.jsx)("p",{children:"No dashboard stats available"})]}),(0,Ie.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ie.jsxs)("h3",{children:["Brokerage Payments (",l.length,")"]}),(0,Ie.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.map((e=>{var t,r;return(0,Ie.jsxs)("div",{style:{padding:"10px 0",borderBottom:"1px solid #eee"},children:[(0,Ie.jsx)("div",{children:(0,Ie.jsx)("strong",{children:e.firmName})}),(0,Ie.jsxs)("div",{children:["Net: \u20b9",null===(t=e.netBrokerage)||void 0===t?void 0:t.toLocaleString()]}),(0,Ie.jsxs)("div",{children:["Pending: \u20b9",null===(r=e.pendingAmount)||void 0===r?void 0:r.toLocaleString()]}),(0,Ie.jsxs)("div",{children:["Status: ",e.status]})]},e.id)}))})]})]}),(0,Ie.jsxs)("div",{style:{marginTop:"20px",padding:"20px",background:"#f8f9fa",borderRadius:"8px"},children:[(0,Ie.jsx)("h3",{children:"API Test Results"}),(0,Ie.jsx)("p",{children:"Check the browser console for detailed API responses and any errors."}),(0,Ie.jsxs)("p",{children:["Broker ID: ",g]}),(0,Ie.jsxs)("p",{children:["API Base URL: ","http://localhost:8080/BrokerHub","/payments"]})]})]})},tg=()=>{const{theme:e}=Ee(),t=te(),[r,n]=(0,a.useState)("english");return(0,Ie.jsx)("div",{style:{minHeight:"100vh",background:e.background,padding:"20px",paddingTop:"80px"},children:(0,Ie.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",background:e.cardBackground,borderRadius:"12px",padding:"40px",boxShadow:e.shadow,border:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px",borderBottom:"2px solid ".concat(e.border),paddingBottom:"30px"},children:[(0,Ie.jsxs)("h1",{style:{color:e.textPrimary,fontSize:"2.5rem",fontWeight:"bold",margin:"0 0 10px 0",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[(0,Ie.jsx)("span",{children:"\ud83c\udfe2"}),"BrokerHub"]}),(0,Ie.jsx)("p",{style:{color:e.textSecondary,fontSize:"1.2rem",margin:0},children:"Professional Brokerage Management Software"})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Ie.jsxs)("h2",{style:{color:e.textPrimary,fontSize:"1.5rem",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ie.jsx)("span",{children:"\ud83d\udcbc"}),"About BrokerHub"]}),(0,Ie.jsx)("p",{style:{color:e.textSecondary,lineHeight:"1.6",fontSize:"1rem"},children:"BrokerHub is a comprehensive multi-user brokerage management software designed specifically for brokers. It provides powerful tools for managing transactions, payments, ledgers, merchants, and financial operations with an intuitive and modern interface."})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Ie.jsxs)("h2",{style:{color:e.textPrimary,fontSize:"1.5rem",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ie.jsx)("span",{children:"\ud83d\udc68\u200d\ud83d\udcbb"}),"Developer Information"]}),(0,Ie.jsxs)("div",{style:{background:e.hoverBg,padding:"25px",borderRadius:"8px",border:"1px solid ".concat(e.border)},children:[(0,Ie.jsx)("h3",{style:{color:e.textPrimary,fontSize:"1.3rem",margin:"0 0 15px 0",fontWeight:"600"},children:"Designed & Developed by BATCHU TARUN"}),(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",background:e.cardBackground,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>{window.open("tel:+918332827443","_blank")},onMouseEnter:t=>t.target.style.background=e.border,onMouseLeave:t=>t.target.style.background=e.cardBackground,children:[(0,Ie.jsx)("span",{style:{fontSize:"1.2rem"},children:"\ud83d\udcde"}),(0,Ie.jsx)("span",{style:{color:e.textPrimary,fontWeight:"500"},children:"Phone: +91 8332827443"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",background:e.cardBackground,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>{window.open("mailto:tarunbatchu2000@gmail.com?subject=BrokerHub Support Request","_blank")},onMouseEnter:t=>t.target.style.background=e.border,onMouseLeave:t=>t.target.style.background=e.cardBackground,children:[(0,Ie.jsx)("span",{style:{fontSize:"1.2rem"},children:"\ud83d\udce7"}),(0,Ie.jsx)("span",{style:{color:e.textPrimary,fontWeight:"500"},children:"Email: tarunbatchu2000@gmail.com"})]})]})]})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ie.jsxs)("h2",{style:{color:e.textPrimary,fontSize:"1.5rem",margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ie.jsx)("span",{children:"\ud83d\udcda"}),"english"===r?"How to Use BrokerHub":"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c4d\u200c\u0c39\u0c2c\u0c4d \u0c0e\u0c32\u0c3e \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c3e\u0c32\u0c3f"]}),(0,Ie.jsxs)("button",{onClick:()=>{n("english"===r?"telugu":"english")},style:{background:e.buttonPrimary,color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},children:[(0,Ie.jsx)("span",{children:"\ud83c\udf10"}),"english"===r?"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41":"English"]})]}),(0,Ie.jsx)("div",{style:{display:"grid",gap:"15px",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))"},children:{english:[{title:"Dashboard",icon:"\ud83c\udfe0",description:"Main control center showing overview of all activities, transactions, and key metrics.",howToAccess:"Click 'Dashboard' in navigation menu or use shortcut Alt+D",path:"/dashboard"},{title:"Brokerage Management",icon:"\ud83d\udcb0",description:"Manage user brokerage rates, bulk operations, and commission calculations.",howToAccess:"Navigation \u2192 Brokerage \u2192 User Brokerage or Bulk Operations",path:"/brokerage"},{title:"Ledger Management",icon:"\ud83d\udccb",description:"Track daily transactions, view calendar-based entries, and manage financial records.",howToAccess:"Navigation \u2192 Ledger \u2192 Ledger Management",path:"/ledger-management"},{title:"Payment Management",icon:"\ud83d\udcb3",description:"Handle payments, track pending amounts, and manage receivables.",howToAccess:"Navigation \u2192 Payments \u2192 Payment Management",path:"/payments"},{title:"Merchants",icon:"\ud83c\udfe2",description:"Add, edit, and manage merchant information and their transaction history.",howToAccess:"Navigation \u2192 Entities \u2192 Merchants",path:"/merchants"},{title:"Products",icon:"\ud83c\udf3e",description:"Manage product catalog, pricing, and inventory for trading operations.",howToAccess:"Navigation \u2192 Entities \u2192 Products",path:"/products"},{title:"Calendar View",icon:"\ud83d\udcc5",description:"View transactions and activities in a calendar format for better planning.",howToAccess:"Navigation \u2192 Ledger \u2192 Calendar View",path:"/calendar-view"},{title:"Financial Years",icon:"\ud83d\udcc8",description:"Manage financial year settings and generate year-end reports.",howToAccess:"Navigation \u2192 Entities \u2192 Financial Years",path:"/financial-years"}],telugu:[{title:"\u0c21\u0c3e\u0c37\u0c4d\u200c\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d",icon:"\ud83c\udfe0",description:"\u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c3e\u0c30\u0c4d\u0c2f\u0c15\u0c32\u0c3e\u0c2a\u0c3e\u0c32\u0c41, \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c2e\u0c41\u0c16\u0c4d\u0c2f \u0c2e\u0c46\u0c1f\u0c4d\u0c30\u0c3f\u0c15\u0c4d\u0c38\u0c4d \u0c2f\u0c4a\u0c15\u0c4d\u0c15 \u0c05\u0c35\u0c32\u0c4b\u0c15\u0c28\u0c28\u0c41 \u0c1a\u0c42\u0c2a\u0c3f\u0c02\u0c1a\u0c47 \u0c2a\u0c4d\u0c30\u0c27\u0c3e\u0c28 \u0c28\u0c3f\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c23 \u0c15\u0c47\u0c02\u0c26\u0c4d\u0c30\u0c02.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u0c2e\u0c46\u0c28\u0c42\u0c32\u0c4b '\u0c21\u0c3e\u0c37\u0c4d\u200c\u0c2c\u0c4b\u0c30\u0c4d\u0c21\u0c4d' \u0c15\u0c4d\u0c32\u0c3f\u0c15\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f \u0c32\u0c47\u0c26\u0c3e Alt+D \u0c37\u0c3e\u0c30\u0c4d\u0c1f\u0c4d\u200c\u0c15\u0c1f\u0c4d \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f",path:"/dashboard"},{title:"\u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23",icon:"\ud83d\udcb0",description:"\u0c35\u0c3f\u0c28\u0c3f\u0c2f\u0c4b\u0c17\u0c26\u0c3e\u0c30\u0c41 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c30\u0c47\u0c1f\u0c4d\u0c32\u0c41, \u0c2c\u0c32\u0c4d\u0c15\u0c4d \u0c06\u0c2a\u0c30\u0c47\u0c37\u0c28\u0c4d\u0c32\u0c41 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c15\u0c2e\u0c40\u0c37\u0c28\u0c4d \u0c32\u0c46\u0c15\u0c4d\u0c15\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u2192 \u0c2f\u0c42\u0c1c\u0c30\u0c4d \u0c2c\u0c4d\u0c30\u0c4b\u0c15\u0c30\u0c47\u0c1c\u0c4d \u0c32\u0c47\u0c26\u0c3e \u0c2c\u0c32\u0c4d\u0c15\u0c4d \u0c06\u0c2a\u0c30\u0c47\u0c37\u0c28\u0c4d\u0c38\u0c4d",path:"/brokerage"},{title:"\u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23",icon:"\ud83d\udccb",description:"\u0c30\u0c4b\u0c1c\u0c41\u0c35\u0c3e\u0c30\u0c40 \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c28\u0c41 \u0c1f\u0c4d\u0c30\u0c3e\u0c15\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f, \u0c15\u0c4d\u0c2f\u0c3e\u0c32\u0c46\u0c02\u0c21\u0c30\u0c4d \u0c06\u0c27\u0c3e\u0c30\u0c3f\u0c24 \u0c0e\u0c02\u0c1f\u0c4d\u0c30\u0c40\u0c32\u0c28\u0c41 \u0c35\u0c40\u0c15\u0c4d\u0c37\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c30\u0c3f\u0c15\u0c3e\u0c30\u0c4d\u0c21\u0c41\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u2192 \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u0c2e\u0c47\u0c28\u0c47\u0c1c\u0c4d\u200c\u0c2e\u0c46\u0c02\u0c1f\u0c4d",path:"/ledger-management"},{title:"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c23",icon:"\ud83d\udcb3",description:"\u0c1a\u0c46\u0c32\u0c4d\u0c32\u0c3f\u0c02\u0c2a\u0c41\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f, \u0c2a\u0c46\u0c02\u0c21\u0c3f\u0c02\u0c17\u0c4d \u0c2e\u0c4a\u0c24\u0c4d\u0c24\u0c3e\u0c32\u0c28\u0c41 \u0c1f\u0c4d\u0c30\u0c3e\u0c15\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c30\u0c3f\u0c38\u0c40\u0c35\u0c2c\u0c41\u0c32\u0c4d\u0c38\u0c4d\u200c\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c2a\u0c47\u0c2e\u0c46\u0c02\u0c1f\u0c4d\u0c38\u0c4d \u2192 \u0c2a\u0c47\u0c2e\u0c46\u0c02\u0c1f\u0c4d \u0c2e\u0c47\u0c28\u0c47\u0c1c\u0c4d\u200c\u0c2e\u0c46\u0c02\u0c1f\u0c4d",path:"/payments"},{title:"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32\u0c41",icon:"\ud83c\udfe2",description:"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30\u0c41\u0c32 \u0c38\u0c2e\u0c3e\u0c1a\u0c3e\u0c30\u0c02 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c35\u0c3e\u0c30\u0c3f \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32 \u0c1a\u0c30\u0c3f\u0c24\u0c4d\u0c30\u0c28\u0c41 \u0c1c\u0c4b\u0c21\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f, \u0c38\u0c35\u0c30\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c0e\u0c02\u0c1f\u0c3f\u0c1f\u0c40\u0c38\u0c4d \u2192 \u0c2e\u0c30\u0c4d\u0c1a\u0c02\u0c1f\u0c4d\u0c38\u0c4d",path:"/merchants"},{title:"\u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c41\u0c32\u0c41",icon:"\ud83c\udf3e",description:"\u0c35\u0c4d\u0c2f\u0c3e\u0c2a\u0c3e\u0c30 \u0c15\u0c3e\u0c30\u0c4d\u0c2f\u0c15\u0c32\u0c3e\u0c2a\u0c3e\u0c32 \u0c15\u0c4b\u0c38\u0c02 \u0c09\u0c24\u0c4d\u0c2a\u0c24\u0c4d\u0c24\u0c3f \u0c15\u0c47\u0c1f\u0c32\u0c3e\u0c17\u0c4d, \u0c27\u0c30 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c07\u0c28\u0c4d\u0c35\u0c46\u0c02\u0c1f\u0c30\u0c40\u0c28\u0c3f \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c0e\u0c02\u0c1f\u0c3f\u0c1f\u0c40\u0c38\u0c4d \u2192 \u0c2a\u0c4d\u0c30\u0c4a\u0c21\u0c15\u0c4d\u0c1f\u0c4d\u0c38\u0c4d",path:"/products"},{title:"\u0c15\u0c4d\u0c2f\u0c3e\u0c32\u0c46\u0c02\u0c21\u0c30\u0c4d \u0c35\u0c4d\u0c2f\u0c42",icon:"\ud83d\udcc5",description:"\u0c2e\u0c46\u0c30\u0c41\u0c17\u0c48\u0c28 \u0c2a\u0c4d\u0c30\u0c23\u0c3e\u0c33\u0c3f\u0c15 \u0c15\u0c4b\u0c38\u0c02 \u0c15\u0c4d\u0c2f\u0c3e\u0c32\u0c46\u0c02\u0c21\u0c30\u0c4d \u0c2b\u0c3e\u0c30\u0c4d\u0c2e\u0c3e\u0c1f\u0c4d\u200c\u0c32\u0c4b \u0c32\u0c3e\u0c35\u0c3e\u0c26\u0c47\u0c35\u0c40\u0c32\u0c41 \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c15\u0c3e\u0c30\u0c4d\u0c2f\u0c15\u0c32\u0c3e\u0c2a\u0c3e\u0c32\u0c28\u0c41 \u0c35\u0c40\u0c15\u0c4d\u0c37\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c32\u0c46\u0c21\u0c4d\u0c1c\u0c30\u0c4d \u2192 \u0c15\u0c4d\u0c2f\u0c3e\u0c32\u0c46\u0c02\u0c21\u0c30\u0c4d \u0c35\u0c4d\u0c2f\u0c42",path:"/calendar-view"},{title:"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41",icon:"\ud83d\udcc8",description:"\u0c06\u0c30\u0c4d\u0c25\u0c3f\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30 \u0c38\u0c46\u0c1f\u0c4d\u0c1f\u0c3f\u0c02\u0c17\u0c4d\u200c\u0c32\u0c28\u0c41 \u0c28\u0c3f\u0c30\u0c4d\u0c35\u0c39\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c02\u0c24\u0c2a\u0c41 \u0c28\u0c3f\u0c35\u0c47\u0c26\u0c3f\u0c15\u0c32\u0c28\u0c41 \u0c30\u0c42\u0c2a\u0c4a\u0c02\u0c26\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f.",howToAccess:"\u0c28\u0c3e\u0c35\u0c3f\u0c17\u0c47\u0c37\u0c28\u0c4d \u2192 \u0c0e\u0c02\u0c1f\u0c3f\u0c1f\u0c40\u0c38\u0c4d \u2192 \u0c2b\u0c48\u0c28\u0c3e\u0c28\u0c4d\u0c37\u0c3f\u0c2f\u0c32\u0c4d \u0c07\u0c2f\u0c30\u0c4d\u0c38\u0c4d",path:"/financial-years"}]}[r].map(((n,o)=>(0,Ie.jsxs)("div",{style:{background:e.hoverBg,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(e.border),transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>{return e=n.path,void t(e);var e},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=e.shadowModal},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Ie.jsx)("span",{style:{fontSize:"1.5rem"},children:n.icon}),(0,Ie.jsx)("h3",{style:{color:e.textPrimary,fontSize:"1.1rem",margin:0,fontWeight:"600"},children:n.title})]}),(0,Ie.jsx)("p",{style:{color:e.textSecondary,fontSize:"0.9rem",lineHeight:"1.5",margin:"0 0 12px 0"},children:n.description}),(0,Ie.jsx)("div",{style:{background:e.cardBackground,padding:"10px",borderRadius:"4px",border:"1px solid ".concat(e.border)},children:(0,Ie.jsxs)("p",{style:{color:e.textPrimary,fontSize:"0.8rem",margin:0,fontWeight:"500"},children:[(0,Ie.jsxs)("span",{style:{color:e.buttonPrimary},children:["\ud83d\udccd ","english"===r?"Access:":"\u0c2f\u0c3e\u0c15\u0c4d\u0c38\u0c46\u0c38\u0c4d:"]})," ",n.howToAccess]})})]},o)))}),(0,Ie.jsxs)("div",{style:{marginTop:"25px",padding:"20px",background:e.cardBackground,borderRadius:"8px",border:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("h3",{style:{color:e.textPrimary,fontSize:"1.1rem",margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ie.jsx)("span",{children:"\u2328\ufe0f"}),"english"===r?"Quick Tips":"\u0c24\u0c4d\u0c35\u0c30\u0c3f\u0c24 \u0c1a\u0c3f\u0c1f\u0c4d\u0c15\u0c3e\u0c32\u0c41"]}),(0,Ie.jsxs)("ul",{style:{color:e.textSecondary,fontSize:"0.9rem",lineHeight:"1.6",margin:0,paddingLeft:"20px"},children:[(0,Ie.jsx)("li",{children:"english"===r?"Use the \u2699\ufe0f button (top-right) to access all features quickly":"\u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c2b\u0c40\u0c1a\u0c30\u0c4d\u0c32\u0c28\u0c41 \u0c24\u0c4d\u0c35\u0c30\u0c17\u0c3e \u0c2f\u0c3e\u0c15\u0c4d\u0c38\u0c46\u0c38\u0c4d \u0c1a\u0c47\u0c2f\u0c21\u0c3e\u0c28\u0c3f\u0c15\u0c3f \u2699\ufe0f \u0c2c\u0c1f\u0c28\u0c4d (\u0c1f\u0c3e\u0c2a\u0c4d-\u0c30\u0c48\u0c1f\u0c4d) \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f"}),(0,Ie.jsx)("li",{children:"english"===r?"Click on any feature card above to navigate directly to that section":"\u0c06 \u0c35\u0c3f\u0c2d\u0c3e\u0c17\u0c3e\u0c28\u0c3f\u0c15\u0c3f \u0c28\u0c47\u0c30\u0c41\u0c17\u0c3e \u0c35\u0c46\u0c33\u0c4d\u0c32\u0c21\u0c3e\u0c28\u0c3f\u0c15\u0c3f \u0c2a\u0c48\u0c28 \u0c09\u0c28\u0c4d\u0c28 \u0c0f\u0c26\u0c48\u0c28\u0c3e \u0c2b\u0c40\u0c1a\u0c30\u0c4d \u0c15\u0c3e\u0c30\u0c4d\u0c21\u0c4d\u200c\u0c2a\u0c48 \u0c15\u0c4d\u0c32\u0c3f\u0c15\u0c4d \u0c1a\u0c47\u0c2f\u0c02\u0c21\u0c3f"}),(0,Ie.jsx)("li",{children:"english"===r?"Use the theme toggle (\u2600\ufe0f/\ud83c\udf19) to switch between light and dark modes":"\u0c32\u0c48\u0c1f\u0c4d \u0c2e\u0c30\u0c3f\u0c2f\u0c41 \u0c21\u0c3e\u0c30\u0c4d\u0c15\u0c4d \u0c2e\u0c4b\u0c21\u0c4d\u200c\u0c32 \u0c2e\u0c27\u0c4d\u0c2f \u0c2e\u0c3e\u0c30\u0c21\u0c3e\u0c28\u0c3f\u0c15\u0c3f \u0c25\u0c40\u0c2e\u0c4d \u0c1f\u0c4b\u0c17\u0c41\u0c32\u0c4d (\u2600\ufe0f/\ud83c\udf19) \u0c09\u0c2a\u0c2f\u0c4b\u0c17\u0c3f\u0c02\u0c1a\u0c02\u0c21\u0c3f"}),(0,Ie.jsx)("li",{children:"english"===r?"All data is automatically saved as you work":"\u0c2e\u0c40\u0c30\u0c41 \u0c2a\u0c28\u0c3f \u0c1a\u0c47\u0c38\u0c4d\u0c24\u0c41\u0c28\u0c4d\u0c28\u0c2a\u0c4d\u0c2a\u0c41\u0c21\u0c41 \u0c05\u0c28\u0c4d\u0c28\u0c3f \u0c21\u0c47\u0c1f\u0c3e \u0c38\u0c4d\u0c35\u0c2f\u0c02\u0c1a\u0c3e\u0c32\u0c15\u0c02\u0c17\u0c3e \u0c38\u0c47\u0c35\u0c4d \u0c1a\u0c47\u0c2f\u0c2c\u0c21\u0c41\u0c24\u0c41\u0c02\u0c26\u0c3f"})]})]})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Ie.jsxs)("h2",{style:{color:e.textPrimary,fontSize:"1.5rem",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ie.jsx)("span",{children:"\ud83d\udc1b"}),"Report Issues"]}),(0,Ie.jsxs)("div",{style:{background:e.hoverBg,padding:"20px",borderRadius:"8px",border:"1px solid ".concat(e.border),textAlign:"center"},children:[(0,Ie.jsx)("p",{style:{color:e.textSecondary,marginBottom:"20px",lineHeight:"1.5"},children:"Found a bug or need support? We're here to help! Click the button below to report issues or request assistance."}),(0,Ie.jsxs)("button",{onClick:()=>{window.open("mailto:tarunbatchu2000@gmail.com?subject=BrokerHub Bug Report&body=Please describe the bug you encountered:","_blank")},style:{background:e.buttonPrimary,color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.transform="translateY(-2px)",onMouseLeave:e=>e.target.style.transform="translateY(0)",children:[(0,Ie.jsx)("span",{children:"\ud83d\udce7"}),"Report Bug / Get Support"]})]})]}),(0,Ie.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px",borderTop:"1px solid ".concat(e.border)},children:[(0,Ie.jsxs)("p",{style:{color:e.textSecondary,fontSize:"0.9rem",margin:"0 0 10px 0"},children:["\xa9 ",(new Date).getFullYear()," BrokerHub. All rights reserved."]}),(0,Ie.jsx)("p",{style:{color:e.textSecondary,fontSize:"0.8rem",margin:0},children:"Developed with \u2764\ufe0f by BATCHU TARUN"})]})]})})},rg=e=>{let{title:t,subtitle:r,actionLabel:n,onAction:o}=e;return(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",gap:"8px"},children:[(0,Ie.jsx)("div",{style:{fontSize:"40px"},children:"\ud83d\udcc7"}),(0,Ie.jsx)("div",{style:{fontWeight:700},children:t}),r&&(0,Ie.jsx)("div",{style:{opacity:.7,fontSize:"13px",textAlign:"center"},children:r}),o&&(0,Ie.jsx)("button",{onClick:o,style:{marginTop:"8px"},children:n||"Add"})]})},ng=e=>{let{label:t,onRemove:r}=e;return(0,Ie.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 10px",borderRadius:"999px",background:"rgba(0,0,0,0.06)",fontSize:"12px"},children:[t,r&&(0,Ie.jsx)("button",{onClick:r,style:{border:"none",background:"transparent",cursor:"pointer",opacity:.7},children:"\u2715"})]})},og=()=>{const{theme:e}=Ee(),{isMobile:t}=_p(),[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,g]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[m,y]=(0,a.useState)(""),[b,v]=(0,a.useState)(0),[j,k]=(0,a.useState)(10),[w,S]=(0,a.useState)(0),[C,P]=(0,a.useState)(!1),[B,N]=(0,a.useState)({id:null,sectionName:"",description:"",parentSectionId:""}),[T,R]=(0,a.useState)(!1),A={id:null,userName:"",firmName:"",gstNumber:"",additionalInfo:"",sectionIds:[],phoneNumbers:[{phoneNumber:"",phoneType:"Primary"}],addresses:[{address:"",city:"",state:"",pincode:"",addressType:"Shop"}]},[_,I]=(0,a.useState)(A),z=async()=>{try{const e=await ao(),t=(null===e||void 0===e?void 0:e.data)||e;l(Array.isArray(t)?t:[]),p(Array.isArray(t)?t:[]),g([])}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Failed to load sections")}},E=async e=>{try{if(i(null),e<0){const e=await ao(),t=(null===e||void 0===e?void 0:e.data)||e;return p(Array.isArray(t)?t:[]),g([]),c(null),void v(0)}const t=h[e],r=await io(t.id),n=(null===r||void 0===r?void 0:r.data)||r;p(Array.isArray(n)?n:[]),g(h.slice(0,e+1)),c(t.id),v(0)}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Failed to navigate")}},M=async()=>{try{if(n(!0),i(null),null!==m&&void 0!==m&&m.trim()){const e=await po(m,b,j),t=(null===e||void 0===e?void 0:e.data)||e,r=null!==t&&void 0!==t&&t.content?t:{content:t||[],totalPages:1};f(r.content||[]),S(r.totalPages||1)}else if(d){const e=await lo(d),t=(null===e||void 0===e?void 0:e.data)||e;f(Array.isArray(t)?t:[]),S(1)}else{const e=await ho(b,j),t=(null===e||void 0===e?void 0:e.data)||e,r=null!==t&&void 0!==t&&t.content?t:{content:t||[],totalPages:1};f(r.content||[]),S(r.totalPages||1)}}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Failed to load contacts")}finally{n(!1)}};(0,a.useEffect)((()=>{z()}),[]),(0,a.useEffect)((()=>{M()}),[m,b,j,d]);(0,a.useMemo)((()=>{const e={};return s.forEach((t=>{e[t.id]=t})),e}),[s]);return(0,Ie.jsxs)("div",{style:{padding:t?"12px":"20px",marginTop:t?"52px":"64px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"12px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:()=>{N({id:null,sectionName:"",description:"",parentSectionId:""}),P(!0)},style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.buttonPrimary,color:"white",padding:"10px 12px",cursor:"pointer"},children:"\u2795 New Section"}),(0,Ie.jsx)("button",{onClick:()=>{I(A),R(!0)},style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"10px 12px",cursor:"pointer"},children:"\ud83d\udc64 New Contact"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:()=>E(-1),style:{border:"none",background:"transparent",color:e.buttonPrimary,cursor:"pointer"},children:"Root"}),h.map(((t,r)=>(0,Ie.jsxs)(a.Fragment,{children:[(0,Ie.jsx)("span",{style:{opacity:.5},children:"\u203a"}),(0,Ie.jsx)("button",{onClick:()=>E(r),style:{border:"none",background:"transparent",color:e.buttonPrimary,cursor:"pointer"},children:t.sectionName})]},t.id)))]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"2fr 1fr 1fr auto",gap:"8px"},children:[(0,Ie.jsx)("input",{placeholder:"Search by name, firm or GST",value:m,onChange:e=>{v(0),y(e.target.value)},style:{padding:"10px 12px",borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsxs)("select",{value:d||"",onChange:e=>{v(0),c(e.target.value?Number(e.target.value):null)},style:{padding:"10px 12px",borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary},children:[(0,Ie.jsx)("option",{value:"",children:"All Sections"}),s.map((e=>(0,Ie.jsx)("option",{value:e.id,children:e.sectionName},e.id)))]}),(0,Ie.jsx)("select",{value:j,onChange:e=>{v(0),k(Number(e.target.value))},style:{padding:"10px 12px",borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary},children:[10,20,50].map((e=>(0,Ie.jsxs)("option",{value:e,children:[e," / page"]},e)))}),(0,Ie.jsx)("button",{onClick:()=>{y(""),c(null),v(0),(async()=>{try{const e=await ao(),t=(null===e||void 0===e?void 0:e.data)||e;p(Array.isArray(t)?t:[]),g([])}catch(e){}})()},style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"10px 12px",cursor:"pointer"},children:"Clear"})]})]}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr 1fr":"repeat(4, 1fr)",gap:t?"8px":"10px",marginBottom:"12px"},children:u.map((t=>(0,Ie.jsxs)("button",{onClick:()=>(async e=>{try{i(null),c((null===e||void 0===e?void 0:e.id)||null);const t=await io(e.id),r=(null===t||void 0===t?void 0:t.data)||t;p(Array.isArray(r)?r:[]),g((t=>[...t,{id:e.id,sectionName:e.sectionName}])),v(0)}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Failed to open section")}})(t),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"6px",borderRadius:"10px",border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary,padding:"10px",cursor:"pointer",textAlign:"left"},children:[(0,Ie.jsx)("span",{style:{fontSize:18},children:"\ud83d\udcc1"}),(0,Ie.jsx)("span",{style:{fontWeight:700,fontSize:13},children:t.sectionName}),t.description&&(0,Ie.jsx)("span",{style:{fontSize:12,opacity:.7},children:t.description})]},t.id)))}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(2, 1fr)",gap:t?"10px":"12px"},children:[r&&(0,Ie.jsx)("div",{style:{padding:"16px"},children:"Loading..."}),!r&&o&&(0,Ie.jsx)("div",{style:{padding:"12px",borderRadius:"8px",border:"1px solid ".concat(e.error),color:e.error},children:o}),!r&&!o&&0===x.length&&(0,Ie.jsx)("div",{style:{border:"1px solid ".concat(e.border),borderRadius:"12px",background:e.cardBackground},children:(0,Ie.jsx)(rg,{title:"No contacts found",subtitle:"Try adjusting your filters or add new contacts."})}),!r&&!o&&x.map((t=>(0,Ie.jsxs)("div",{style:{border:"1px solid ".concat(e.border),borderRadius:"12px",background:e.cardBackground,padding:"12px",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ie.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:e.hoverBg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:"\ud83d\udc64"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontWeight:700},children:t.userName}),t.firmName&&(0,Ie.jsx)("div",{style:{fontSize:"12px",opacity:.7},children:t.firmName})]})]}),Array.isArray(t.sectionNames)&&t.sectionNames.length>0&&(0,Ie.jsxs)("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",justifyContent:"flex-end"},children:[t.sectionNames.slice(0,2).map((e=>(0,Ie.jsx)(ng,{label:e},e))),t.sectionNames.length>2&&(0,Ie.jsx)(ng,{label:"+".concat(t.sectionNames.length-2)})]})]}),Array.isArray(t.phoneNumbers)&&t.phoneNumbers.length>0&&(0,Ie.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:t.phoneNumbers.map((t=>(0,Ie.jsx)("a",{href:"tel:".concat(t.phoneNumber),style:{textDecoration:"none"},children:(0,Ie.jsxs)("span",{style:{padding:"8px 10px",borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,fontSize:"13px"},children:["\ud83d\udcde ",t.phoneNumber,t.phoneType?" \xb7 ".concat(t.phoneType):""]})},t.id||t.phoneNumber)))}),Array.isArray(t.addresses)&&t.addresses.length>0&&(0,Ie.jsx)("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:t.addresses.slice(0,2).map((e=>(0,Ie.jsxs)("span",{style:{fontSize:"12px",opacity:.8},children:["\ud83d\udccd ",e.address,e.city?", ".concat(e.city):""]},e.id||e.address)))}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:[Array.isArray(t.phoneNumbers)&&t.phoneNumbers[0]&&(0,Ie.jsx)("a",{href:"https://wa.me/".concat(t.phoneNumbers[0].phoneNumber),target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:(0,Ie.jsx)("button",{style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.buttonPrimary,color:"white",padding:"8px 10px",cursor:"pointer"},children:"WhatsApp"})}),(0,Ie.jsx)("button",{onClick:()=>{I({id:t.id,userName:t.userName||"",firmName:t.firmName||"",gstNumber:t.gstNumber||"",additionalInfo:t.additionalInfo||"",sectionIds:t.sectionIds||[],phoneNumbers:Array.isArray(t.phoneNumbers)&&t.phoneNumbers.length>0?t.phoneNumbers.map((e=>({id:e.id,phoneNumber:e.phoneNumber,phoneType:e.phoneType||"Primary"}))):[{phoneNumber:"",phoneType:"Primary"}],addresses:Array.isArray(t.addresses)&&t.addresses.length>0?t.addresses.map((e=>({id:e.id,address:e.address,city:e.city,state:e.state,pincode:e.pincode,addressType:e.addressType||"Shop"}))):[{address:"",city:"",state:"",pincode:"",addressType:"Shop"}]}),R(!0)},style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:"pointer"},children:"View"}),(0,Ie.jsx)("button",{onClick:async()=>{if(window.confirm("Delete this contact?"))try{await uo(t.id),M()}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Delete failed")}},style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.error,padding:"8px 10px",cursor:"pointer"},children:"Delete"})]})]},t.id)))]}),!r&&w>1&&(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"12px"},children:[(0,Ie.jsx)("button",{disabled:0===b,onClick:()=>v((e=>Math.max(0,e-1))),style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:0===b?"not-allowed":"pointer"},children:"Prev"}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"13px",opacity:.7},children:["Page ",b+1," of ",w]}),(0,Ie.jsx)("button",{disabled:b+1>=w,onClick:()=>v((e=>e+1)),style:{borderRadius:"8px",border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:b+1>=w?"not-allowed":"pointer"},children:"Next"})]}),C&&(0,Ie.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002},children:(0,Ie.jsxs)("div",{style:{width:t?"92%":560,maxHeight:"80vh",overflow:"auto",background:e.modalBackground,color:e.textPrimary,border:"1px solid ".concat(e.border),borderRadius:12,padding:16},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[(0,Ie.jsx)("div",{style:{fontWeight:700},children:"Manage Sections"}),(0,Ie.jsx)("button",{onClick:()=>P(!1),style:{border:"none",background:"transparent",cursor:"pointer"},children:"\u2715"})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:8},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Section Name"}),(0,Ie.jsx)("input",{value:B.sectionName,onChange:e=>N((t=>Ue(Ue({},t),{},{sectionName:e.target.value}))),style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Parent Section"}),(0,Ie.jsxs)("select",{value:B.parentSectionId||"",onChange:e=>N((t=>Ue(Ue({},t),{},{parentSectionId:e.target.value?Number(e.target.value):""}))),style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary},children:[(0,Ie.jsx)("option",{value:"",children:"None (Root)"}),s.map((e=>(0,Ie.jsx)("option",{value:e.id,children:e.sectionName},e.id)))]})]}),(0,Ie.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Description"}),(0,Ie.jsx)("textarea",{value:B.description,onChange:e=>N((t=>Ue(Ue({},t),{},{description:e.target.value}))),rows:3,style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:8},children:[(0,Ie.jsx)("button",{onClick:()=>P(!1),style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:"pointer"},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{try{B.id?await no(B.id,{sectionName:B.sectionName,description:B.description}):await ro({sectionName:B.sectionName,description:B.description,parentSectionId:B.parentSectionId||null}),await z(),P(!1)}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Save failed")}},style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.buttonPrimary,color:"white",padding:"8px 10px",cursor:"pointer"},children:B.id?"Update":"Create"})]}),(0,Ie.jsxs)("div",{style:{marginTop:12,borderTop:"1px solid ".concat(e.border),paddingTop:12},children:[(0,Ie.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"All Sections"}),(0,Ie.jsx)("div",{style:{display:"grid",gap:6},children:s.map((t=>(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid ".concat(e.border),borderRadius:8,padding:"8px 10px",background:e.cardBackground},children:[(0,Ie.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Ie.jsx)("div",{style:{fontWeight:600},children:t.sectionName}),(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7},children:t.parentSectionName?"Child of ".concat(t.parentSectionName):"Root"})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Ie.jsx)("button",{onClick:()=>N({id:t.id,sectionName:t.sectionName||"",description:t.description||"",parentSectionId:t.parentSectionId||""}),style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"6px 8px",cursor:"pointer"},children:"Edit"}),(0,Ie.jsx)("button",{onClick:async()=>{if(window.confirm("Delete this section?"))try{await oo(t.id),await z()}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Delete failed")}},style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.error,padding:"6px 8px",cursor:"pointer"},children:"Delete"})]})]},t.id)))})]})]})}),T&&(0,Ie.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002},children:(0,Ie.jsxs)("div",{style:{width:t?"92%":720,maxHeight:"82vh",overflow:"auto",background:e.modalBackground,color:e.textPrimary,border:"1px solid ".concat(e.border),borderRadius:12,padding:16},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[(0,Ie.jsx)("div",{style:{fontWeight:700},children:_.id?"Edit Contact":"New Contact"}),(0,Ie.jsx)("button",{onClick:()=>R(!1),style:{border:"none",background:"transparent",cursor:"pointer"},children:"\u2715"})]}),(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"1fr 1fr",gap:8},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"User Name *"}),(0,Ie.jsx)("input",{value:_.userName,onChange:e=>I((t=>Ue(Ue({},t),{},{userName:e.target.value}))),style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Firm Name"}),(0,Ie.jsx)("input",{value:_.firmName,onChange:e=>I((t=>Ue(Ue({},t),{},{firmName:e.target.value}))),style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"GST Number"}),(0,Ie.jsx)("input",{value:_.gstNumber,onChange:e=>I((t=>Ue(Ue({},t),{},{gstNumber:e.target.value}))),style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Sections *"}),(0,Ie.jsx)("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:s.map((t=>(0,Ie.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 8px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground},children:[(0,Ie.jsx)("input",{type:"checkbox",checked:_.sectionIds.includes(t.id),onChange:e=>{const r=e.target.checked;I((e=>Ue(Ue({},e),{},{sectionIds:r?[...e.sectionIds,t.id]:e.sectionIds.filter((e=>e!==t.id))})))}}),(0,Ie.jsx)("span",{style:{fontSize:12},children:t.sectionName})]},t.id)))})]}),(0,Ie.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Ie.jsx)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:"Additional Info"}),(0,Ie.jsx)("textarea",{value:_.additionalInfo,onChange:e=>I((t=>Ue(Ue({},t),{},{additionalInfo:e.target.value}))),rows:3,style:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}})]})]}),(0,Ie.jsxs)("div",{style:{marginTop:12},children:[(0,Ie.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Phone Numbers *"}),(0,Ie.jsxs)("div",{style:{display:"grid",gap:8},children:[_.phoneNumbers.map(((r,n)=>(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"2fr 1fr auto",gap:8,alignItems:"center"},children:[(0,Ie.jsx)("input",{value:r.phoneNumber,onChange:e=>I((t=>{const r=[...t.phoneNumbers];return r[n]=Ue(Ue({},r[n]),{},{phoneNumber:e.target.value}),Ue(Ue({},t),{},{phoneNumbers:r})})),placeholder:"Phone Number",style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsx)("select",{value:r.phoneType||"Primary",onChange:e=>I((t=>{const r=[...t.phoneNumbers];return r[n]=Ue(Ue({},r[n]),{},{phoneType:e.target.value}),Ue(Ue({},t),{},{phoneNumbers:r})})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary},children:["Primary","Secondary","WhatsApp"].map((e=>(0,Ie.jsx)("option",{value:e,children:e},e)))}),(0,Ie.jsx)("button",{onClick:()=>I((e=>Ue(Ue({},e),{},{phoneNumbers:e.phoneNumbers.filter(((e,t)=>t!==n))}))),style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.error,padding:"8px 10px",cursor:"pointer"},children:"Remove"})]},n))),(0,Ie.jsx)("button",{onClick:()=>I((e=>Ue(Ue({},e),{},{phoneNumbers:[...e.phoneNumbers,{phoneNumber:"",phoneType:"Primary"}]}))),style:{width:"fit-content",borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:"pointer"},children:"+ Add Phone"})]})]}),(0,Ie.jsxs)("div",{style:{marginTop:12},children:[(0,Ie.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Addresses"}),(0,Ie.jsxs)("div",{style:{display:"grid",gap:8},children:[_.addresses.map(((r,n)=>(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"2fr 1fr 1fr 1fr 1fr auto",gap:8,alignItems:"center"},children:[(0,Ie.jsx)("input",{value:r.address,onChange:e=>I((t=>{const r=[...t.addresses];return r[n]=Ue(Ue({},r[n]),{},{address:e.target.value}),Ue(Ue({},t),{},{addresses:r})})),placeholder:"Address",style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsx)("input",{value:r.city||"",onChange:e=>I((t=>{const r=[...t.addresses];return r[n]=Ue(Ue({},r[n]),{},{city:e.target.value}),Ue(Ue({},t),{},{addresses:r})})),placeholder:"City",style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsx)("input",{value:r.state||"",onChange:e=>I((t=>{const r=[...t.addresses];return r[n]=Ue(Ue({},r[n]),{},{state:e.target.value}),Ue(Ue({},t),{},{addresses:r})})),placeholder:"State",style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsx)("input",{value:r.pincode||"",onChange:e=>I((t=>{const r=[...t.addresses];return r[n]=Ue(Ue({},r[n]),{},{pincode:e.target.value}),Ue(Ue({},t),{},{addresses:r})})),placeholder:"Pincode",style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary}}),(0,Ie.jsx)("select",{value:r.addressType||"Shop",onChange:e=>I((t=>{const r=[...t.addresses];return r[n]=Ue(Ue({},r[n]),{},{addressType:e.target.value}),Ue(Ue({},t),{},{addresses:r})})),style:{padding:"8px 10px",borderRadius:8,border:"1px solid ".concat(e.border),background:e.cardBackground,color:e.textPrimary},children:["Shop","Home","Service Area"].map((e=>(0,Ie.jsx)("option",{value:e,children:e},e)))}),(0,Ie.jsx)("button",{onClick:()=>I((e=>Ue(Ue({},e),{},{addresses:e.addresses.filter(((e,t)=>t!==n))}))),style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.error,padding:"8px 10px",cursor:"pointer"},children:"Remove"})]},n))),(0,Ie.jsx)("button",{onClick:()=>I((e=>Ue(Ue({},e),{},{addresses:[...e.addresses,{address:"",city:"",state:"",pincode:"",addressType:"Shop"}]}))),style:{width:"fit-content",borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:"pointer"},children:"+ Add Address"})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:12},children:[(0,Ie.jsx)("button",{onClick:()=>R(!1),style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.modalBackground,color:e.textPrimary,padding:"8px 10px",cursor:"pointer"},children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{try{var e,t;const r=Ue({},_);if(null===(e=r.userName)||void 0===e||!e.trim())return void i("User name is required");if(!r.sectionIds||0===r.sectionIds.length)return void i("Select at least one section");if(!Array.isArray(r.phoneNumbers)||0===r.phoneNumbers.length||null===(t=r.phoneNumbers[0].phoneNumber)||void 0===t||!t.trim())return void i("At least one phone number is required");r.id?await co(r.id,r):await so(r),R(!1),await M()}catch(ug){i("string"===typeof ug?ug:(null===ug||void 0===ug?void 0:ug.message)||"Save failed")}},style:{borderRadius:8,border:"1px solid ".concat(e.border),background:e.buttonPrimary,color:"white",padding:"8px 10px",cursor:"pointer"},children:_.id?"Update Contact":"Create Contact"})]})]})})]})},ag=()=>{const{theme:e}=Ee(),[t,r]=(0,a.useState)(""),[n,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),p={minHeight:"100vh",backgroundColor:e.background,color:e.textPrimary,padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif'},h={backgroundColor:e.cardBackground,borderRadius:"12px",padding:"30px",boxShadow:e.shadow,maxWidth:"1000px",margin:"0 auto",border:"1px solid ".concat(e.border)},g={width:"100%",minHeight:"400px",padding:"16px",border:"2px solid ".concat(e.border),borderRadius:"8px",backgroundColor:e.cardBackground,color:e.textPrimary,fontSize:"14px",fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',resize:"vertical",outline:"none",transition:"border-color 0.2s ease",lineHeight:"1.5"},x={padding:"12px 24px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",marginRight:"12px"},f=Ue(Ue({},x),{},{backgroundColor:e.buttonPrimary,color:"white"}),m=Ue(Ue({},x),{},{backgroundColor:e.buttonSecondary,color:"white"}),y={padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"500"},b=Ue(Ue({},y),{},{backgroundColor:e.successBg,color:e.success,border:"1px solid ".concat(e.successBorder)}),v=Ue(Ue({},y),{},{backgroundColor:e.errorBg,color:e.error,border:"1px solid ".concat(e.errorBorder)});return(0,Ie.jsx)("div",{style:p,children:(0,Ie.jsxs)("div",{style:h,children:[(0,Ie.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px",color:e.textPrimary},children:"JSON Transaction Input"}),(0,Ie.jsx)("p",{style:{color:e.textSecondary,marginBottom:"30px",fontSize:"16px",lineHeight:"1.6"},children:"Paste your transaction JSON data below and click save to create the transaction."}),l&&(0,Ie.jsx)("div",{style:b,children:l}),c&&(0,Ie.jsx)("div",{style:v,children:c}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:e.textPrimary},children:"Transaction JSON Data"}),(0,Ie.jsx)("textarea",{value:t,onChange:e=>(e=>{if(r(e),u(""),e.trim())try{const t=JSON.parse(e);o(t)}catch(t){o(null)}else o(null)})(e.target.value),placeholder:"Paste your transaction JSON data here...",style:Ue(Ue({},g),{},{borderColor:c?e.error:e.border}),onFocus:t=>t.target.style.borderColor=e.buttonPrimary,onBlur:t=>t.target.style.borderColor=c?e.error:e.border})]}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:async()=>{if(t.trim())try{s(!0),u(""),d("");const e=JSON.parse(t);await qn.createLedgerDetailsWithExcelJson(e);d("Transaction created successfully!"),r(""),o(null)}catch(e){e instanceof SyntaxError?u("Invalid JSON format. Please check your input."):u(e.message||"Failed to create transaction")}finally{s(!1)}else u("Please enter JSON data")},disabled:i,style:Ue(Ue({},f),{},{opacity:i?.7:1,cursor:i?"not-allowed":"pointer"}),onMouseEnter:t=>{i||(t.target.style.backgroundColor=e.buttonPrimaryHover,t.target.style.transform="translateY(-1px)",t.target.style.boxShadow=e.shadowHover)},onMouseLeave:t=>{i||(t.target.style.backgroundColor=e.buttonPrimary,t.target.style.transform="translateY(0)",t.target.style.boxShadow="none")},children:i?"Saving...":"Save Transaction"}),(0,Ie.jsx)("button",{onClick:()=>{r(""),o(null),u(""),d("")},disabled:i,style:Ue(Ue({},m),{},{opacity:i?.7:1,cursor:i?"not-allowed":"pointer"}),onMouseEnter:t=>{i||(t.target.style.backgroundColor=e.buttonSecondaryHover,t.target.style.transform="translateY(-1px)",t.target.style.boxShadow=e.shadowHover)},onMouseLeave:t=>{i||(t.target.style.backgroundColor=e.buttonSecondary,t.target.style.transform="translateY(0)",t.target.style.boxShadow="none")},children:"Clear"})]}),(()=>{if(!n)return null;const t={width:"100%",borderCollapse:"collapse",marginTop:"20px",backgroundColor:e.cardBackground,border:"1px solid ".concat(e.border),borderRadius:"8px",overflow:"hidden"},r={backgroundColor:e.buttonPrimary,color:"white",padding:"12px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid ".concat(e.border)},o={padding:"12px",borderBottom:"1px solid ".concat(e.border),color:e.textPrimary},a=Ue(Ue({},o),{},{fontWeight:"600",backgroundColor:e.infoBg,color:e.info,width:"200px"}),i=Ue(Ue({},o),{},{backgroundColor:e.cardBackground}),s=Ue(Ue({},o),{},{backgroundColor:e.hoverBg}),l=Ue(Ue({},o),{},{backgroundColor:e.cardBackground});return(0,Ie.jsxs)("div",{style:{marginTop:"30px"},children:[(0,Ie.jsx)("h3",{style:{color:e.textPrimary,marginBottom:"16px"},children:"Transaction Preview"}),(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("h4",{style:{color:e.textSecondary,marginBottom:"12px"},children:"Transaction Details"}),(0,Ie.jsx)("table",{style:t,children:(0,Ie.jsxs)("tbody",{children:[(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:a,children:"Broker ID"}),(0,Ie.jsx)("td",{style:i,children:n.brokerId})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:a,children:"Financial Year"}),(0,Ie.jsx)("td",{style:i,children:n.financialYearId})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:a,children:"Seller Name"}),(0,Ie.jsx)("td",{style:i,children:n.seller_name})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:a,children:"Order Date"}),(0,Ie.jsx)("td",{style:i,children:n.order_date})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:a,children:"Seller Brokerage"}),(0,Ie.jsx)("td",{style:i,children:n.sellerBrokerage})]})]})})]}),n.product_list&&n.product_list.length>0&&(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsx)("h4",{style:{color:e.textSecondary,marginBottom:"12px"},children:"Products"}),(0,Ie.jsxs)("table",{style:t,children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{style:r,children:"Product Name"}),(0,Ie.jsx)("th",{style:r,children:"Total Quantity"}),(0,Ie.jsx)("th",{style:r,children:"Price"})]})}),(0,Ie.jsx)("tbody",{children:n.product_list.map(((e,t)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.product_name}),(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.total_quantity}),(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.price})]},t)))})]})]}),n.buyers&&n.buyers.length>0&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h4",{style:{color:e.textSecondary,marginBottom:"12px"},children:"Buyers"}),n.buyers.map(((n,o)=>(0,Ie.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ie.jsxs)("h5",{style:{color:"white",marginBottom:"8px",backgroundColor:e.success,padding:"8px 12px",borderRadius:"6px",fontSize:"14px"},children:[n.buyer_name," (Brokerage: ",n.buyerBrokerage,")"]}),(0,Ie.jsxs)("table",{style:t,children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{style:r,children:"Product Name"}),(0,Ie.jsx)("th",{style:r,children:"Quantity"}),(0,Ie.jsx)("th",{style:r,children:"Price"})]})}),(0,Ie.jsx)("tbody",{children:n.products&&n.products.map(((e,t)=>(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.product_name}),(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.quantity}),(0,Ie.jsx)("td",{style:t%2===0?s:l,children:e.price})]},t)))})]})]},o)))]})]})})()]})})},ig=()=>{const e=te(),{theme:t}=Ee(),{isMobile:r}=_p(),[n,o]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[l,d]=(0,a.useState)({}),[c,u]=(0,a.useState)({}),[p,h]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[f,m]=(0,a.useState)({});(0,a.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e=await Sn();o(e||[])}catch(e){console.error("Error loading cities:",e),alert("Failed to load cities: "+(e.message||"Server error"))}},b=e=>{i.includes(e)?(s((t=>t.filter((t=>t!==e)))),d((t=>{const r=Ue({},t);return delete r[e],r}))):(s((t=>[...t,e])),(async e=>{u((t=>Ue(Ue({},t),{},{[e]:!0})));try{const t=await Cn(e);d((r=>Ue(Ue({},r),{},{[e]:t||[]})))}catch(t){console.error("Error loading merchants:",t),alert("Failed to load merchants: "+(t.message||"Server error")),d((t=>Ue(Ue({},t),{},{[e]:[]})))}finally{u((t=>Ue(Ue({},t),{},{[e]:!1})))}})(e))},v=n.filter((e=>e.toLowerCase().includes(p.toLowerCase())));return(0,Ie.jsxs)("div",{style:{padding:r?"12px":"20px",backgroundColor:t.background,minHeight:"100vh"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",padding:r?"16px":"20px",backgroundColor:t.cardBackground,borderRadius:"12px",boxShadow:t.shadow,border:"1px solid ".concat(t.border)},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{style:{margin:0,color:t.textPrimary,fontSize:"24px",fontWeight:"700"},children:"\ud83c\udfd9\ufe0f Merchants by City"}),(0,Ie.jsx)("p",{style:{margin:"4px 0 0 0",color:t.textSecondary,fontSize:"14px"},children:"Browse merchants by their city location"})]}),(0,Ie.jsx)("button",{onClick:()=>e("/dashboard?tab=allservices"),style:{padding:"8px 16px",border:"1px solid ".concat(t.border),borderRadius:"8px",backgroundColor:t.cardBackground,color:t.textPrimary,fontSize:"14px",cursor:"pointer"},children:"\u2190 Back"})]}),(0,Ie.jsxs)("div",{style:{backgroundColor:t.cardBackground,borderRadius:"12px",padding:"24px",boxShadow:t.shadow,border:"1px solid ".concat(t.border),marginBottom:"20px"},children:[(0,Ie.jsxs)("h3",{style:{margin:"0 0 16px 0",color:t.textPrimary,fontSize:"18px",fontWeight:"600"},children:["Available Cities (",v.length,")"]}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search cities...",value:p,onChange:e=>h(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(t.border),borderRadius:"8px",fontSize:"14px",marginBottom:"16px",backgroundColor:t.inputBackground,color:t.textPrimary,outline:"none"}}),(0,Ie.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:0===v.length?(0,Ie.jsx)("div",{style:{padding:"20px",color:t.textSecondary},children:"No cities found"}):v.map(((e,r)=>(0,Ie.jsxs)("button",{onClick:()=>b(e),style:{padding:"8px 16px",border:"2px solid ".concat(i.includes(e)?t.primary:t.border),borderRadius:"20px",backgroundColor:i.includes(e)?t.primary:t.background,color:i.includes(e)?"white":t.textPrimary,fontSize:"14px",fontWeight:i.includes(e)?"600":"400",cursor:"pointer",transition:"all 0.2s ease",whiteSpace:"nowrap"},onMouseEnter:r=>{i.includes(e)||(r.currentTarget.style.backgroundColor=t.hoverBgLight,r.currentTarget.style.borderColor=t.primary)},onMouseLeave:r=>{i.includes(e)||(r.currentTarget.style.backgroundColor=t.background,r.currentTarget.style.borderColor=t.border)},children:["\ud83d\udccd ",e]},r)))})]}),i.length>0&&(0,Ie.jsxs)("div",{style:{backgroundColor:t.cardBackground,borderRadius:"12px",padding:"24px",boxShadow:t.shadow,border:"1px solid ".concat(t.border)},children:[(0,Ie.jsxs)("h3",{style:{margin:"0 0 16px 0",color:t.textPrimary,fontSize:"18px",fontWeight:"600"},children:["Merchants from ",i.length," ",1===i.length?"City":"Cities"]}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search merchants...",value:g,onChange:e=>x(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid ".concat(t.border),borderRadius:"8px",fontSize:"14px",marginBottom:"16px",backgroundColor:t.inputBackground,color:t.textPrimary,outline:"none"}}),i.map((e=>{const n=(e=>e.filter((e=>{var t,r;return(null===(t=e.firmName)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.ownerName)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))})))(l[e]||[]),o=c[e];return(0,Ie.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid ".concat(t.border)},children:[(0,Ie.jsxs)("h4",{style:{margin:0,color:t.textPrimary,fontSize:"16px",fontWeight:"600"},children:["\ud83d\udccd ",e]}),(0,Ie.jsxs)("span",{style:{padding:"4px 12px",borderRadius:"12px",backgroundColor:t.infoBg,color:t.info,fontSize:"12px",fontWeight:"600"},children:[n.length," ",1===n.length?"Merchant":"Merchants"]})]}),(0,Ie.jsx)("div",{style:{display:"grid",gridTemplateColumns:r?"1fr":"repeat(auto-fill, minmax(400px, 1fr))",gap:"12px"},children:o?(0,Ie.jsx)("div",{style:{textAlign:"center",padding:"40px",color:t.textSecondary},children:"Loading merchants..."}):0===n.length?(0,Ie.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:t.textSecondary},children:[(0,Ie.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83c\udfea"}),(0,Ie.jsx)("h4",{style:{margin:"0 0 8px 0",color:t.textPrimary},children:"No Merchants Found"}),(0,Ie.jsx)("p",{style:{margin:0},children:g?"No merchants match your search.":"No merchants available in ".concat(e,".")})]}):n.map((e=>{var n,o,a;return(0,Ie.jsxs)("div",{style:{backgroundColor:t.background,border:"1px solid ".concat(t.border),borderRadius:"8px",overflow:"hidden",transition:"all 0.2s ease"},children:[(0,Ie.jsxs)("div",{style:{padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>{return t=e.userId,void m((e=>Ue(Ue({},e),{},{[t]:!e[t]})));var t},children:[(0,Ie.jsxs)("div",{style:{flex:1},children:[(0,Ie.jsx)("h4",{style:{margin:"0 0 4px 0",color:t.textPrimary,fontSize:"16px",fontWeight:"600"},children:e.firmName}),(0,Ie.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:(0,Ie.jsxs)("span",{style:{padding:"4px 10px",borderRadius:"12px",backgroundColor:t.infoBg,color:t.info,fontSize:"13px",fontWeight:"600"},children:["\u20b9",(null===(n=e.totalPayableBrokerage)||void 0===n?void 0:n.toFixed(2))||"0.00"]})})]}),(0,Ie.jsx)("button",{style:{padding:"6px 12px",border:"1px solid ".concat(t.border),borderRadius:"6px",backgroundColor:t.cardBackground,color:t.textPrimary,fontSize:"12px",cursor:"pointer"},children:f[e.userId]?"\u25b2 Less":"\u25bc More"})]}),f[e.userId]&&(0,Ie.jsxs)("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid ".concat(t.borderLight)},children:[(0,Ie.jsxs)("div",{style:{display:"grid",gridTemplateColumns:r?"1fr":"repeat(2, 1fr)",gap:"12px",marginTop:"12px"},children:[e.ownerName&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Owner Name"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:e.ownerName})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"User Type"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:e.userType})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"GST Number"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:e.gstNumber||"N/A"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Brokerage Rate"}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:["\u20b9",e.brokerageRate,"/bag"]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Bags Sold"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:t.success},children:e.totalBagsSold||0})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Bags Bought"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:t.primary},children:e.totalBagsBought||0})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Payable Amount"}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",fontWeight:"600",color:t.error},children:["\u20b9",(null===(o=e.payableAmount)||void 0===o?void 0:o.toLocaleString())||0]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Receivable Amount"}),(0,Ie.jsxs)("div",{style:{fontSize:"14px",fontWeight:"600",color:t.success},children:["\u20b9",(null===(a=e.receivableAmount)||void 0===a?void 0:a.toLocaleString())||0]})]}),e.email&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Email"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:e.email})]}),e.shopNumber&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"2px"},children:"Shop Number"}),(0,Ie.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:t.textPrimary},children:e.shopNumber})]})]}),e.phoneNumbers&&e.phoneNumbers.length>0&&(0,Ie.jsxs)("div",{style:{marginTop:"12px"},children:[(0,Ie.jsx)("div",{style:{fontSize:"11px",color:t.textMuted,marginBottom:"4px"},children:"Contact Numbers"}),(0,Ie.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.phoneNumbers.map(((e,r)=>(0,Ie.jsxs)("a",{href:"tel:".concat(e),style:{padding:"4px 8px",backgroundColor:t.successBg,border:"1px solid ".concat(t.success),borderRadius:"4px",fontSize:"12px",color:t.success,textDecoration:"none"},children:["\ud83d\udcde ",e]},r)))})]}),e.address&&(0,Ie.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",backgroundColor:t.cardBackground,borderRadius:"6px",fontSize:"12px",color:t.textSecondary},children:["\ud83d\udccd ",[e.shopNumber,e.addressHint,e.address.area,e.address.city,e.address.pincode].filter(Boolean).join(", ")]}),e.collectionRote&&(0,Ie.jsxs)("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:t.infoBg,borderRadius:"6px",fontSize:"12px",color:t.info},children:["\ud83d\ude9a Collection Route: ",e.collectionRote]})]})]},e.userId)}))})]},e)}))]})]})},sg=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),o=(0,a.useRef)(null),i=te(),s=Z(),{theme:l,isDarkMode:d,toggleTheme:c}=Ee(),{logout:u}=fo(),{language:p,toggleLanguage:h,t:g}=Io(),{isMobile:x}=_p(),f=["/login","/signup","/forgot-password","/verify-otp","/create-password","/verify-account"].includes(s.pathname);(0,a.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&(t(!1),n(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const m=e=>s.pathname===e,y=e=>e.items.some((e=>s.pathname===e.path));return f?null:(0,Ie.jsxs)("div",{ref:o,style:{position:"fixed",top:x?"12px":"16px",right:x?"12px":"16px",zIndex:1001,display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ie.jsx)("button",{onClick:h,style:{background:l.cardBackground,border:"1px solid ".concat(l.border),borderRadius:"8px",padding:"8px",cursor:"pointer",boxShadow:l.shadow,display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",fontSize:"11px",fontWeight:"600",color:l.textPrimary,transition:"all 0.2s ease"},title:"Switch to ".concat("en"===p?"Telugu":"English"),children:"en"===p?"\u0c24\u0c46":"EN"}),(0,Ie.jsx)("button",{onClick:c,style:{background:l.cardBackground,border:"1px solid ".concat(l.border),borderRadius:"8px",padding:"8px",cursor:"pointer",boxShadow:l.shadow,display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",fontSize:"14px",color:l.textPrimary,transition:"all 0.2s ease"},title:"Switch to ".concat(d?"light":"dark"," mode"),children:d?"\u2600\ufe0f":"\ud83c\udf19"}),(0,Ie.jsx)("button",{onClick:()=>t(!e),style:{background:l.cardBackground,border:"1px solid ".concat(l.border),borderRadius:"8px",padding:"8px",cursor:"pointer",boxShadow:l.shadow,display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",fontSize:"14px",color:l.textPrimary,transition:"all 0.2s ease"},title:"Navigation & Settings",children:"\u2699\ufe0f"}),e&&(0,Ie.jsxs)("div",{style:{position:"absolute",top:"100%",right:"0",marginTop:"8px",background:l.modalBackground,border:"1px solid ".concat(l.border),borderRadius:"8px",boxShadow:l.shadowModal,minWidth:"280px",overflow:"visible"},children:[(0,Ie.jsxs)("div",{style:{padding:"8px 0"},children:[(0,Ie.jsx)("div",{style:{padding:"8px 16px",fontSize:"12px",fontWeight:"600",color:l.textSecondary,borderBottom:"1px solid ".concat(l.border),marginBottom:"4px"},children:"NAVIGATION"}),[{label:"Dashboard",icon:"\ud83c\udfe0",items:[{path:"/dashboard",label:"Main Dashboard",icon:"\ud83c\udfe0"},{path:"/brokerage",label:"Brokerage Dashboard",icon:"\ud83d\udcb0"}]},{label:"Profile Settings",icon:"\ud83d\udc64",items:[{path:"/change-password",label:"Change Password",icon:"\ud83d\udd11"},{path:"/update-profile",label:"Update Profile",icon:"\u270f\ufe0f"}]},{label:"Brokerage",icon:"\ud83d\udcb0",items:[{path:"/brokerage/users",label:"User Brokerage",icon:"\ud83d\udc65"},{path:"/brokerage/bulk",label:"Bulk Operations",icon:"\ud83d\ude80"}]},{label:"Ledger",icon:"\ud83d\udccb",items:[{path:"/ledger-management",label:"Ledger Management",icon:"\ud83d\udccb"},{path:"/daily-ledger",label:"Daily Ledger",icon:"\ud83d\udcca"},{path:"/calendar-view",label:"Calendar View",icon:"\ud83d\udcc5"},{path:"/json-transaction",label:"JSON Transaction Input",icon:"\ud83d\udcdd"}]},{label:"Payments",icon:"\ud83d\udcb3",items:[{path:"/payments",label:"Payment Management",icon:"\ud83d\udcb3"}]},{label:"Entities",icon:"\ud83c\udfe2",items:[{path:"/products",label:"Products",icon:"\ud83c\udf3e"},{path:"/merchants",label:"Merchants",icon:"\ud83c\udfe2"},{path:"/financial-years",label:"Financial Years",icon:"\ud83d\udcc8"},{path:"/create-merchant",label:"Create Merchant",icon:"\ud83d\udc64"},{path:"/contacts",label:"Phone Directory",icon:"\ud83d\udcc7"}]},{label:"About",icon:"\u2139\ufe0f",items:[{path:"/about",label:"About BrokerHub",icon:"\u2139\ufe0f"}]},{label:"All Services",icon:"\ud83d\udee0\ufe0f",items:[{path:"/dashboard?tab=allservices",label:"All Services",icon:"\ud83d\udee0\ufe0f"}]}].map(((e,o)=>(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("button",{onClick:()=>(e=>{n(r===e?null:e)})(o),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 16px",border:"none",backgroundColor:y(e)||r===o?l.hoverBg:"transparent",color:y(e)?l.buttonPrimary:l.textPrimary,fontSize:"14px",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:t=>{r===o||y(e)||(t.target.style.backgroundColor=l.hoverBg)},onMouseLeave:t=>{r===o||y(e)||(t.target.style.backgroundColor="transparent")},children:[(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ie.jsx)("span",{children:e.icon}),(0,Ie.jsx)("span",{children:g(e.label)})]}),(0,Ie.jsx)("span",{style:{fontSize:"10px",opacity:.6,transform:r===o?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:"\u25b6"})]}),r===o&&(0,Ie.jsx)("div",{style:{background:l.hoverBg,borderRadius:"4px",margin:"4px 8px",overflow:"hidden"},children:e.items.map((e=>(0,Ie.jsxs)("button",{onClick:()=>{return r=e.path,i(r),t(!1),void n(null);var r},style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"10px 16px",border:"none",backgroundColor:m(e.path)?l.buttonPrimary:"transparent",color:m(e.path)?"white":l.textPrimary,fontSize:"13px",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:t=>{m(e.path)||(t.target.style.backgroundColor=l.border)},onMouseLeave:t=>{m(e.path)||(t.target.style.backgroundColor="transparent")},children:[(0,Ie.jsx)("span",{children:e.icon}),(0,Ie.jsx)("span",{children:g(e.label)})]},e.path)))})]},e.label)))]}),(0,Ie.jsx)("div",{style:{borderTop:"1px solid ".concat(l.border),padding:"8px 0"},children:(0,Ie.jsxs)("button",{onClick:()=>{u(),i("/login"),t(!1)},style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"12px 16px",border:"none",backgroundColor:"transparent",color:l.error,fontSize:"14px",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor=l.hoverBg,onMouseLeave:e=>e.target.style.backgroundColor="transparent",children:[(0,Ie.jsx)("span",{children:"\ud83d\udeaa"}),(0,Ie.jsx)("span",{children:g("Logout")})]})})]})]})},lg=e=>{let{children:t}=e;const{isAuthenticated:r,loading:n}=fo();return n?(0,Ie.jsx)("div",{children:"Loading..."}):r?t:(0,Ie.jsx)(fe,{to:"/login",replace:!0})},dg=e=>{let{children:t}=e;const{isAuthenticated:r,loading:n}=fo();return n?(0,Ie.jsx)("div",{children:"Loading..."}):r?(0,Ie.jsx)(fe,{to:"/dashboard",replace:!0}):t};const cg=function(){return(0,Ie.jsx)(Do,{children:(0,Ie.jsx)(zo,{children:(0,Ie.jsx)(De,{children:(0,Ie.jsx)(mo,{children:(0,Ie.jsx)(Ao,{children:(0,Ie.jsx)(Be,{children:(0,Ie.jsxs)("div",{className:"App",children:[(0,Ie.jsx)(sg,{}),(0,Ie.jsxs)(be,{children:[(0,Ie.jsx)(me,{path:"/login",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)($o,{})})}),(0,Ie.jsx)(me,{path:"/signup",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)(Xo,{})})}),(0,Ie.jsx)(me,{path:"/forgot-password",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)(Jo,{})})}),(0,Ie.jsx)(me,{path:"/verify-otp",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)(na,{})})}),(0,Ie.jsx)(me,{path:"/create-password",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)(Zo,{})})}),(0,Ie.jsx)(me,{path:"/verify-account",element:(0,Ie.jsx)(dg,{children:(0,Ie.jsx)(ra,{})})}),(0,Ie.jsx)(me,{path:"/dashboard",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(vh,{})})}),(0,Ie.jsx)(me,{path:"/change-password",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(ea,{})})}),(0,Ie.jsx)(me,{path:"/update-profile",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(ta,{})})}),(0,Ie.jsx)(me,{path:"/create-merchant",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(wh,{})})}),(0,Ie.jsx)(me,{path:"/financial-years",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Sh,{})})}),(0,Ie.jsx)(me,{path:"/route-explorer",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Bh,{})})}),(0,Ie.jsx)(me,{path:"/today-market",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Nh,{})})}),(0,Ie.jsx)(me,{path:"/calendar-view",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Th,{})})}),(0,Ie.jsx)(me,{path:"/daily-ledger",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Rh,{})})}),(0,Ie.jsx)(me,{path:"/transaction-detail",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(_h,{})})}),(0,Ie.jsx)(me,{path:"/transaction-detail-edit",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(zh,{})})}),(0,Ie.jsx)(me,{path:"/ledger-management",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Mh,{})})}),(0,Ie.jsx)(me,{path:"/products",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Lh,{})})}),(0,Ie.jsx)(me,{path:"/merchants",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Oh,{})})}),(0,Ie.jsx)(me,{path:"/brokerage",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Fh,{})})}),(0,Ie.jsx)(me,{path:"/brokerage/users",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Vh,{})})}),(0,Ie.jsx)(me,{path:"/brokerage/bulk",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)($h,{})})}),(0,Ie.jsx)(me,{path:"/payments",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(Zh,{})})}),(0,Ie.jsx)(me,{path:"/payment-demo",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(eg,{})})}),(0,Ie.jsx)(me,{path:"/contacts",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(og,{})})}),(0,Ie.jsx)(me,{path:"/json-transaction",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(ag,{})})}),(0,Ie.jsx)(me,{path:"/about",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(tg,{})})}),(0,Ie.jsx)(me,{path:"/city-merchants",element:(0,Ie.jsx)(lg,{children:(0,Ie.jsx)(ig,{})})}),(0,Ie.jsx)(me,{path:"/",element:(0,Ie.jsx)(fe,{to:"/login",replace:!0})}),(0,Ie.jsx)(me,{path:"*",element:(0,Ie.jsx)(fe,{to:"/login",replace:!0})})]})]})})})})})})})};s.createRoot(document.getElementById("root")).render((0,Ie.jsx)(cg,{}))})();
//# sourceMappingURL=main.e8e0654c.js.map